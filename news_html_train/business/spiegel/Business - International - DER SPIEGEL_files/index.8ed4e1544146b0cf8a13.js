!function(t){function e(e){for(var o,a,s=e[0],c=e[1],l=e[2],f=0,p=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);for(u&&u(e);p.length;)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(o=!1)}o&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},i={11:0},r=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=i[t]=[e,o]}));e.push(n[2]=o);var r,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(t){return a.p+""+({1:"shared/generated/js/BeforeAfterSlider",2:"shared/generated/js/Secretbox",4:"shared/generated/js/CappingLayer",5:"shared/generated/js/ImageZoomLayer",6:"shared/generated/js/JWPlayer",7:"shared/generated/js/PinchToZoom",8:"shared/generated/js/Search",9:"shared/generated/js/fetch"}[t]||t)+"."+{1:"63163f971da380197abe",2:"e3c62a4388ad07d1a265",4:"4ab92f019c9b62f7c841",5:"84226e04814ebc778a07",6:"7095033bf2146c083ba6",7:"f8ef3529e40401c5b6ca",8:"d8d0abaa65abe3d86fc9",9:"b68693ae2a4a60b1b371",12:"8a86351261d822c79ec7"}[t]+".js"}(t);var c=new Error;r=function(e){s.onerror=s.onload=null,clearTimeout(l);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",c.name="ChunkLoadError",c.type=o,c.request=r,n[1](c)}i[t]=void 0}};var l=setTimeout((function(){r({type:"timeout",target:s})}),12e4);s.onerror=s.onload=r,document.head.appendChild(s)}return Promise.all(e)},a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/public/",a.oe=function(t){throw console.error(t),t};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;r.push([192,3,0]),n()}({112:function(t,e,n){"use strict";n(70),n(82),n(4),n(5),n(11),n(7),n(12),n(13),n(3),n(8),n(9);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,(n=[{key:"getItem",value:function(t){throw new Error("AbstractStorage - you have to implement the method getItem!")}},{key:"setItem",value:function(t,e){throw new Error("AbstractStorage - you have to implement the method setItem!")}},{key:"removeItem",value:function(t){throw new Error("AbstractStorage - you have to implement the method removeItem!")}}])&&o(e.prototype,n),i&&o(e,i),t}(),r=n(27),a=n.n(r);function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"getItem",value:function(t){if("string"==typeof t)return a.a.get(t)}},{key:"setItem",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;return"string"==typeof t&&void 0!==e&&(a.a.set(t,e,{expires:n}),!0)}},{key:"removeItem",value:function(t){return"string"==typeof t&&(a.a.remove(t),!0)}}],(n=null)&&s(e.prototype,n),o&&s(e,o),t}();function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return u(this,e),(t=p(this,y(e).call(this))).expires=n,t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),n=e,(o=[{key:"getItem",value:function(t){return c.getItem(t)}},{key:"setItem",value:function(t,e){return c.setItem(t,e,this.expires)}},{key:"removeItem",value:function(t){return c.removeItem(t)}}])&&f(n.prototype,o),i&&f(n,i),e}(i);function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"getItem",value:function(t){if("string"==typeof t){var e;try{var n=window.localStorage;n&&null!==n.getItem(t)&&(e=n.getItem(t))}catch(t){}return e}}},{key:"setItem",value:function(t,e){if("string"!=typeof t||void 0===e)return!1;var n=!1;try{var o=window.localStorage;o&&(o.setItem(t,e),n=!0)}catch(t){}return n}},{key:"removeItem",value:function(t){if("string"!=typeof t)return!1;var e=!1;try{var n=window.localStorage;n&&(n.removeItem(t),e=!0)}catch(t){}return e}}],(n=null)&&b(e.prototype,n),o&&b(e,o),t}();function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function O(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=function(t){function e(){return m(this,e),O(this,S(e).apply(this,arguments))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,t),n=e,(o=[{key:"getItem",value:function(t){return g.getItem(t)}},{key:"setItem",value:function(t,e){return g.setItem(t,e)}},{key:"removeItem",value:function(t){return g.removeItem(t)}}])&&w(n.prototype,o),i&&w(n,i),e}(i),P=n(41);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function T(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(){return A(this,e),T(this,L(e).apply(this,arguments))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,t),n=e,(o=[{key:"getItem",value:function(t){return P.a.getItem(t)}},{key:"setItem",value:function(t,e){return P.a.setItem(t,e)}},{key:"removeItem",value:function(t){return P.a.removeItem(t)}}])&&j(n.prototype,o),i&&j(n,i),e}(i);function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return x}));var x=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"session",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;if(R(this,t),"string"==typeof e&&e){switch(this.name="polygon_".concat(e),n){case"local":this.storage=new E;break;case"cookie":this.storage=new h(o);break;case"session":default:this.storage=new I}this.initValueObject()}}var e,n,o;return e=t,(n=[{key:"initValueObject",value:function(){if(this.valueObject={},this.name){var t,e,n=this.storage.getItem(this.name);n&&(t=this.decodeBase64(n)),t&&(e=this.parseJson(t)),e&&(this.valueObject=e)}}},{key:"updateStorage",value:function(){if(this.name){var t,e=JSON.stringify(this.valueObject);e&&(t=this.encodeBase64(e)),t&&this.storage.setItem(this.name,t)}}},{key:"encodeBase64",value:function(t){try{return window.btoa(t)}catch(t){return}}},{key:"decodeBase64",value:function(t){try{return window.atob(t)}catch(t){return}}},{key:"parseJson",value:function(t){if(t&&"string"==typeof t)try{return JSON.parse(t)}catch(t){return}}},{key:"getItem",value:function(t){if("string"==typeof t)return this.valueObject[t]}},{key:"setItem",value:function(t,e){if("string"!=typeof t||void 0===e)return!1;var n={};return n[t]=e,Object.assign(this.valueObject,n),this.updateStorage(),!0}},{key:"removeItem",value:function(t){return"string"==typeof t&&(delete this.valueObject[t],this.updateStorage(),!0)}}])&&D(e.prototype,n),o&&D(e,o),t}()},115:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(4),n(5),n(14),n(49),n(28),n(44),n(243),n(3),n(43),n(29);var o=n(10);function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=Symbol("INSTANCE"),a=Symbol("SINGELTONENFORCER"),s=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==a)throw new Error("Instantiation failed: Use JWPlayerDeliveryAPI.instance instead of new.");this.init()}var e,n,s;return e=t,s=[{key:"instance",get:function(){return this[r]||(this[r]=new t(a)),this[r]}}],(n=[{key:"init",value:function(){var t=o.a.instance;this.defaultApiUrl=t.thirdparty&&t.thirdparty.jwplayer&&t.thirdparty.jwplayer.apiUrl?t.thirdparty.jwplayer.apiUrl:"https://cdn.jwplayer.com"}},{key:"getMediaObjectByMediaId",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t||"string"!=typeof t)return Promise.reject(new Error("JWPlayerDeliveryAPI getMediaObjectByMediaId - missing valid mediaId function param"));var o="".concat(n||this.defaultApiUrl,"/v2/media/").concat(t);return new Promise((function(n,i){e.fetchUrl(o).then((function(e){e?n(e):i(new Error("JWPlayerDeliveryAPI getMediaObjectByMediaId - no clip found for clipId: ".concat(t)))})).catch((function(t){return i(t)}))}))}},{key:"getImageThumbnailByMediaObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._getThumbnailByMediaObject(t,e,"image")}},{key:"getVideoThumbnailByMediaObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._getThumbnailByMediaObject(t,e,"video")}},{key:"getVideoThumbnailByMediaId",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t?e&&e<=320?"".concat(this.defaultApiUrl,"/v2/media/").concat(t,"/poster.mp4?width=320"):"".concat(this.defaultApiUrl,"/v2/media/").concat(t,"/poster.mp4?width=640"):""}},{key:"_getThumbnailByMediaObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image";if(!t)return"";var o=null;if(t.playlist&&Array.isArray(t.playlist)&&t.playlist.length>0){var i=t.playlist[0];if(i.images&&Array.isArray(i.images)&&i.images.length>0){var r="image"===n||"video"===n?n:"image",a=i.images.filter((function(t){return 0===t.type.indexOf(r)}));a.sort((function(t,e){return t.width-e.width})),a.forEach((function(t){(!o||t.width>o.width&&0===e||t.width>o.width&&o.width<e)&&(o=t)}))}}return o&&o.src?o.src:""}},{key:"getVideoByMediaObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t)return"";var n=null;if(t.playlist&&Array.isArray(t.playlist)&&t.playlist.length>0){var o=t.playlist[0];if(o.sources&&Array.isArray(o.sources)&&o.sources.length>0){var i=o.sources.filter((function(t){return 0===t.type.indexOf("video")}));i.sort((function(t,e){return t.width-e.width})),i.forEach((function(t){(!n||t.width>n.width&&0===e||t.width>n.width&&n.width<e)&&(n=t)}))}}return n&&n.file?n.file:""}},{key:"fetchUrl",value:function(t){return fetch(t,{method:"GET",headers:{"Content-Type":"text/plain"}}).then((function(t){return 200!==t.status?Promise.reject(new Error("JWPlayerDeliveryAPI fetchUrl - failed to get data from API, URL: ".concat(t.url))):t.json()}))}}])&&i(e.prototype,n),s&&i(e,s),t}()},140:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(4),n(5),n(11),n(7),n(54),n(55),n(3),n(8),n(9);var o=n(0),i=n(10),r=n(73);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=Symbol("INSTANCE"),l=Symbol("SINGELTONENFORCER"),u=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==l)throw new Error("Instantiation failed: Use VideoDataControl.instance instead of new.");this._isInitialized=!1,this.currentVideoContentDuration=null,this._sxpkeys="fwd_j4=1&fwd_j5=2:3&fwd_i1=4:5";var n=i.a.instance,a=n.video&&n.video.vdc?n.video.vdc:void 0;this.config={autoDetection:!0,consent:!0,site:a?a.site:"",playerName:"JW Player",playerWrapper:a&&Number.isInteger(a.playerWrapper)?a.playerWrapper:10,playerSDKTimeout:a&&Number.isInteger(a.playerSDKTimeout)?a.playerSDKTimeout:8,playerTimeout:a&&Number.isInteger(a.playerTimeout)?a.playerTimeout:10},r.a.instance.ready?this.onTCDataChanged():window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.subscribe(o.ab,this.onTCDataChanged,this)}var e,n,u;return e=t,u=[{key:"instance",get:function(){return this[c]||(this[c]=new t(l)),this[c]}}],(n=[{key:"onTCDataChanged",value:function(){var t=r.a.instance;t.ready&&(window.polygon.componentLoader.unsubscribe(o.ab,this.onTCDataChanged),this.config.gdpr_consent=t.tcData&&t.tcData.tcString?t.tcData.tcString:"","object"===a(window.$AC)&&"function"==typeof window.$AC.loadConfig?this.init():window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(o.sb,this.onVideoDataControlSourceReady,this),window.polygon.componentLoader.subscribe(o.rb,this.onVideoDataControlSourceError,this)))}},{key:"onVideoDataControlSourceReady",value:function(){window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.unsubscribe(o.sb,this.onVideoDataControlSourceReady),window.polygon.componentLoader.unsubscribe(o.rb,this.onVideoDataControlSourceError)),this.init()}},{key:"onVideoDataControlSourceError",value:function(){window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.unsubscribe(o.sb,this.onVideoDataControlSourceReady),window.polygon.componentLoader.unsubscribe(o.rb,this.onVideoDataControlSourceError)),this.publish(o.pb)}},{key:"init",value:function(){"object"===a(window.$AC)&&"function"==typeof window.$AC.loadConfig&&(window.$AC.loadConfig(this.config),"function"==typeof window.$AC.playerInitReady&&window.$AC.playerInitReady()?this.onInitialized():(this.onACPlayerStartListener=this.onACPlayerStart.bind(this),window.addEventListener(o.a,this.onACPlayerStartListener)))}},{key:"onACPlayerStart",value:function(){this.onACPlayerStartListener&&window.removeEventListener(o.a,this.onACPlayerStartListener),this.onInitialized()}},{key:"onInitialized",value:function(){this._isInitialized=!0,this._sxpkeys=this.getSXPKeys(),window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.qb)}},{key:"getSXPKeys",value:function(){return"object"!==a(window.$AC)||"function"!=typeof window.$AC.getSXPKeys?this._sxpkeys:window.$AC.getSXPKeys()}},{key:"setVideoContentDuration",value:function(t){Number.isInteger(t)&&this.currentVideoContentDuration!==t&&"object"===a(window.$AC)&&"function"==typeof window.$AC.setTargeting&&(this.currentVideoContentDuration=t,window.$AC.setTargeting("vcd",t),this._sxpkeys=this.getSXPKeys())}},{key:"sxpkeys",get:function(){return this._sxpkeys}},{key:"isInitialized",get:function(){return this._isInitialized}}])&&s(e.prototype,n),u&&s(e,u),t}()},192:function(t,e,n){n(141),n(193),t.exports=n(246)},246:function(t,e,n){"use strict";n.r(e);n(3),n(43);var o=n(10),i=o.a.instance;n.p="".concat(i.urls.assetsBasePath,"/public/");n(4),n(5),n(11),n(14),n(7),n(15),n(12),n(13),n(16),n(8),n(9);var r=n(2),a=n.n(r),s=n(0);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(){var t,n;l(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=f(this,(t=y(e)).call.apply(t,[this].concat(i))))._queuedScans=0,n._isScanning=!1,n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),n=e,(o=[{key:"scan",value:function(){this._isScanning?this._queuedScans+=1:(this._isScanning=!0,p(y(e.prototype),"scan",this).call(this),this._isScanning=!1,this._queuedScans>0?(this._queuedScans-=1,this.scan()):this.publish(s.p))}}])&&u(n.prototype,o),i&&u(n,i),e}(a.a),b=n(17),g=(n(116),n(28),n(54),n(55),n(29),n(41));function v(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var m=Symbol("INSTANCE"),w=Symbol("SINGELTONENFORCER"),O=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==w)throw new Error("Instantiation failed: Use BreakingNewsData.instance instead of new.");this.init(),this.fetchBreakingNews()}var e,n,i;return e=t,i=[{key:"instance",get:function(){return this[m]||(this[m]=new t(w)),this[m]}}],(n=[{key:"init",value:function(){if(g.a.getItem("breakingnews")){var t;try{t=JSON.parse(g.a.getItem("breakingnews"))}catch(t){}if(t){var e=o.a.instance,n=e.cacheControl&&e.cacheControl.breakingnews&&Number.isInteger(e.cacheControl.breakingnews.sessionStorageMaxAge)?e.cacheControl.breakingnews.sessionStorageMaxAge:900,i=Date.now()-1e3*n;if(t.updated_at&&t.updated_at>=i&&t.items&&Array.isArray(t.items))return void(this._items=t.items)}}this._items=[]}},{key:"fetchBreakingNews",value:function(){var t=this,e=o.a.instance;if(e.urls&&"string"==typeof e.urls.assetsBasePath){var n="".concat(e.urls.assetsBasePath,"/assets/news/breakingnews.json");fetch(n,{method:"GET"}).then((function(t){return t.json()})).then((function(e){return t.parseFetchedBreakingNews(e)})).catch((function(){return console.error("Error while fetching breaking news.")}))}}},{key:"parseFetchedBreakingNews",value:function(t){t&&Array.isArray(t)&&(this.items=t)}},{key:"updateSessionStorage",value:function(t){var e={items:t&&Array.isArray(t)?t:[],updated_at:Date.now()};g.a.setItem("breakingnews",JSON.stringify(e))}},{key:"items",get:function(){return this._items},set:function(t){var e=this;if(t&&Array.isArray(t)){var n=t.length!==this._items.length;n||t.forEach((function(t){-1===e._items.findIndex((function(e){return e.id===t.id}))&&(n=!0)})),this._items=t,this.updateSessionStorage(t),n&&window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(s.h,t)}}}])&&v(e.prototype,n),i&&v(e,i),t}(),S=(n(38),n(91),n(44),n(66),n(24),n(56),n(117),n(47),n(19)),k=n(1),E=n(64),P=n(18);function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var A,j,T,L=Symbol("INSTANCE"),C=Symbol("SINGELTONENFORCER"),I=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==C)throw new Error("Instantiation failed: Use GujAdBridge.instance instead of new.");this.init()}var e,n,i;return e=t,i=[{key:"instance",get:function(){return this[L]||(this[L]=new t(C)),this[L]}}],(n=[{key:"init",value:function(){var t=this;this.initializedAdPositions=[],this.reloadAllAdsTriggered=!1;var e=o.a.instance,n=E.a.instance,i="desktop";k.a.isAndroidApp?i="androidphone":k.a.isIOSApp?i="iosphone":P.a.isTablet?i="tablet":P.a.isMobile&&(i="mobile");var r=window.innerWidth,a="lg";r<=S.b.sm.max?a="sm":r<=S.b.md.max&&(a="md");var c="_default";e.noAds||n.isIssueArticle?c="_noad":void 0!==e.guj&&e.guj.zone&&(c=e.guj.zone);var l="default";void 0!==e.guj&&e.guj.spmtp&&(l=e.guj.spmtp);var u="";void 0!==e.guj&&e.guj.spmurid&&(u=e.guj.spmurid);var f="";void 0!==e.guj&&e.guj.spmtid&&(f=e.guj.spmtid);var p="";void 0!==e.guj&&e.guj.spmard&&(p=e.guj.spmard);var y=!1;void 0!==e.guj&&e.guj.isIndexPage&&(y=!0);var d=[];void 0!==e.guj&&Array.isArray(e.guj.keywords)&&(d=d.concat(e.guj.keywords)),"undefined"!=typeof GujAd&&void 0!==GujAd.cmd&&(void 0!==GujAdPositions&&GujAdPositions.forEach((function(e){Array.isArray(e.breakpoints)&&!e.breakpoints.includes(a)||t.initAdPosition(e.id)})),GujAd.cmd.unshift((function(){GujAd.getClient().setSiteType(i)}),(function(){"develop"===c?GujAd.getClient().setZone(c,!0):GujAd.getClient().setZone(c)}),(function(){GujAd.getClient().addTargetingParameter("spmtp",l),u&&GujAd.getClient().addTargetingParameter("spmurid",u),f&&GujAd.getClient().addTargetingParameter("spmtid",f),p&&GujAd.getClient().addTargetingParameter("spmard",p)}),(function(){GujAd.getClient().setIsIndexPage(y)}),(function(){GujAd.getClient().setKeywords(d)}),(function(){GujAd.registerAdPositionLoadedHandler((function(e){t.onAdPositionLoaded(e)}))}),(function(){k.a.isApp&&b.a.instance.advertisingId&&GujAd.getClient().setIDFA(b.a.instance.advertisingId)}))),window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(s.Z,(function(e){t.onTargetAdPositionLoaded(e)})),e.disableAds&&void 0!==GujAdPositions&&GujAdPositions.forEach((function(t){t.sitetype&&("mobile"!==t.sitetype&&t.sitetype!==i||"mobile"===t.sitetype&&!["mobile","androidphone","iosphone"].includes(i))||window.polygon.componentLoader.publish(s.d,{positionName:t.id})})))}},{key:"onAdPositionLoaded",value:function(t){var e=t.getName(),n=t.containsAd(),o=t.getGPTEvent(),i=o&&Array.isArray(o.size)&&2===o.size.length?o.size:[void 0,void 0],r=o&&o.isEmpty,a=o&&o.isBackfill;this.refreshAdContainerStyle(e,t.containsAd(),i),this.refreshAdContainerVisibility(e,t.containsAd()),void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&(window.polygon.componentLoader.publish(s.d,{positionName:e,containsAd:n,isEmpty:r,isBackfill:a,size:i}),n&&window.polygon.componentLoader.publish(s.e,e))}},{key:"onTargetAdPositionLoaded",value:function(t){this.refreshAdContainerVisibility(t,!0);var e=document.querySelector("#".concat(t));e&&(e.setAttribute("data-advertisement",e.getAttribute("data-advertisement").replace(new RegExp("GujAd","g"),"AdobeTargetAd")),e.className="",e.parentElement.getAttribute("data-advertisement")&&e.parentElement.getAttribute("data-advertisement").indexOf(t)>=0&&(e.parentElement.className=""),e.style.display=""),void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(s.e,t)}},{key:"refreshAdContainerStyle",value:function(t,e,n){var o=document.querySelector('[data-advertisement^="GujAd"][data-advertisement*="'.concat(t,'"]:not([id])'));o&&(e&&Array.isArray(n)&&n[0]&&n[0]>300?o.setAttribute("style","float: none !important; padding-left: 0 !important; padding-right: 0 !important; margin-left: 0 !important; margin-right: 0 !important;"):o.setAttribute("style",""))}},{key:"refreshAdContainerVisibility",value:function(t,e){e?Array.from(document.querySelectorAll('[data-advertisement^="GujAd"][data-advertisement*="'.concat(t,'"]:not([data-advertisement*="disabled"])'))).forEach((function(t){t.classList.remove("hidden"),t.classList.remove("unhidable")})):this.reloadAllAdsTriggered||Array.from(document.querySelectorAll('[data-advertisement^="GujAd '.concat(t,'"]:not([data-advertisement*="disabled"])'))).forEach((function(t){t.classList.add("hidden")}))}},{key:"initAdPosition",value:function(t){void 0!==GujAd&&void 0!==GujAd.cmd&&(this.initializedAdPositions.includes(t)?this.reloadAdPosition(t):(GujAd.cmd.push((function(){GujAd.push(t)})),this.initializedAdPositions.push(t)))}},{key:"reloadAllAds",value:function(){var t=this;void 0!==GujAd&&(this.reloadAllAdsTriggered=!0,this.initializedAdPositions.forEach((function(e){if("function"==typeof GujAd.isAdPositionEmpty&&!GujAd.isAdPositionEmpty(e)){var n=document.querySelector("#".concat(e,'[data-advertisement^="GujAd"]:not([data-advertisement*="disabled"])'));n&&n.offsetHeight>0&&(n.classList.add("unhidable"),n.style.minHeight="".concat(n.offsetHeight,"px"),t.reloadAdPosition(e))}})))}},{key:"reloadAdPosition",value:function(t){void 0!==GujAd&&void 0!==GujAd.cmd&&GujAd.cmd.push((function(){GujAd.getClient().reloadAd(t)}))}}])&&_(e.prototype,n),i&&_(e,i),t}(),R=(n(92),n(203),n(205),n(210),n(212),n(213),n(214),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),[]);window.fetch||R.push(n.e(9).then(n.bind(null,262))),Event.prototype.composedPath||R.push((A=Event.prototype,j=document,T=window,void(A.composedPath=function(){if(this.path)return this.path;var t=this.target;for(this.path=[];null!==t.parentNode;)this.path.push(t),t=t.parentNode;return this.path.push(j,T),this.path}))),"function"!=typeof window.Event&&R.push(void(window.Event=function(t,e){var n=e||{bubbles:!1,cancelable:!1},o=document.createEvent("Event");return o.initEvent(t,n.bubbles,n.cancelable),o})),window.IntersectionObserver&&window.IntersectionObserverEntry||R.push(n.e(0).then(n.t.bind(null,253,7))),"globalThis"in window||R.push(void(window.globalThis=window)),Uint8Array.prototype.slice||R.push(void Object.defineProperty(Uint8Array.prototype,"slice",{value:function(t,e){return new Uint8Array(Array.prototype.slice.call(this,t,e))}})),R.push(n.e(0).then(n.t.bind(null,252,7)).then((function(t){var e=Array.from(document.querySelectorAll("[data-stickyfill]"));t.add(e)}))),R.push(n.e(0).then(n.t.bind(null,254,7)).then((function(t){t.polyfill()})));var D,x=document.createElement("_");x.classList.toggle("hidden",!1),x.classList.contains("hidden")&&R.push((D=DOMTokenList.prototype.toggle,void(DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:D.call(this,t)}))),x=null;var B=Promise.all(R);function N(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var z=Symbol("INSTANCE"),M=Symbol("SINGELTONENFORCER"),V=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==M)throw new Error("Instantiation failed: Use KeyboardDetection.instance instead of new.");this.init()}var e,n,o;return e=t,o=[{key:"instance",get:function(){return this[z]||(this[z]=new t(M)),this[z]}}],(n=[{key:"init",value:function(){var t=this;document.addEventListener("keydown",(function(e){"Tab"===e.key&&t.toggleKeyboardControlClass(!0)}),{passive:!0}),document.addEventListener("mousedown",(function(){t.toggleKeyboardControlClass(!1)}),{passive:!0})}},{key:"toggleKeyboardControlClass",value:function(t){document.documentElement.classList.toggle("keyboard-control",t)}}])&&N(e.prototype,n),o&&N(e,o),t}(),q=(n(49),n(120),n(57),n(20)),U=n(53),F=(n(82),n(45),n(59),n(74));function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){W(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function W(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Y=Symbol("INSTANCE"),K=Symbol("SINGELTONENFORCER"),X=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==K)throw new Error("Instantiation failed: Use SARAsData.instance instead of new.");this.init()}var e,n,i;return e=t,i=[{key:"instance",get:function(){return this[Y]||(this[Y]=new t(K)),this[Y]}}],(n=[{key:"init",value:function(){var t=o.a.instance;this.application=t.application?t.application:{},this.editorial=t.editorial?t.editorial:void 0,this.external=t.external?t.external:{},this.page=t.page?t.page:{},this.paywall=t.paywall?t.paywall:void 0}},{key:"application",set:function(t){if(this._application={},t&&t.info&&(this._application.info=t.info),k.a.isApp){var e="";k.a.isAndroidApp?e="Android:":k.a.isIOSApp&&(e="iOS:"),e+=k.a.appVersion,this._application.info||(this._application.info={}),this._application.info.app_version=e}},get:function(){return this._application}},{key:"editorial",set:function(t){this._editorial=t?{info:H({},t.info?t.info:{}),attributes:H({},t.attributes?t.attributes:{}),category:H({},t.category?t.category:{}),author:H({},t.author?t.author:{})}:void 0},get:function(){return this._editorial}},{key:"external",set:function(t){this._external={},t.vg_wort&&(this._external.vg_wort=t.vg_wort)},get:function(){return this._external}},{key:"page",set:function(t){var e={platform:k.a.isApp?"app":"web"},n=F.a.getReferrerFromUrl(window.location.href);n&&(e.referrer=n);var o={is_phone:P.a.isPhone,is_tablet:P.a.isTablet,is_mobile:P.a.isMobile};this._page={info:Object.assign(e,t.info?t.info:{}),attributes:Object.assign(o,t.attributes?t.attributes:{}),category:H({},t.category?t.category:{})}},get:function(){return this._page}},{key:"paywall",set:function(t){this._paywall=t?H({},t):void 0},get:function(){return this._paywall}},{key:"user",get:function(){var t=q.a.instance,e={};return t.trackingId&&(e.tracking_id=t.trackingId),b.a.instance.advertisingId&&(e.device_advertising_id=b.a.instance.advertisingId),{info:H({},e),segment:{access:t.accessInfo,is_loggedIn:t.isLoggedIn,has_paid_access:t.hasPaidAccess,has_spiegelNoAdsMonthly_access:t.hasNoAdsAccess,has_conditional_access:t.hasConditionalAccess}}}}])&&J(e.prototype,n),i&&J(e,i),t}();function $(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Q=Symbol("INSTANCE"),Z=Symbol("SINGELTONENFORCER"),tt=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==Z)throw new Error("Instantiation failed: Use SARAs.instance instead of new.");this.init()}var e,n,i;return e=t,i=[{key:"instance",get:function(){return this[Q]||(this[Q]=new t(Z)),this[Q]}}],(n=[{key:"init",value:function(){this.data=X.instance,window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(s.d,this.onAdPositionInitialized,this),window.polygon.componentLoader.subscribe(s.r,this.onJWPlayerInitialized,this),window.polygon.componentLoader.subscribe(s.G,this.onPodloveWebplayerInitialized,this),window.polygon.componentLoader.subscribe(s.E,this.onPodcastNativePlayerPlayClick,this),window.polygon.componentLoader.subscribe(s.F,this.onPodcastNativePlayerReplayClick,this),window.polygon.componentLoader.subscribe(s.t,this.sendClickEvent,this))}},{key:"onAdPositionInitialized",value:function(t){if(t&&t.positionName&&"string"==typeof t.positionName){var e=!!t.containsAd,n=!!t.isEmpty,o=!!t.isBackfill,i=Array.isArray(t.size)?t.size:[void 0,void 0];this.sendAdPositionInitializedEvent(t.positionName,e,n,o,i)}}},{key:"onJWPlayerInitialized",value:function(t){t&&this.sendJWPlayerInitializedEvent(t)}},{key:"onPodloveWebplayerInitialized",value:function(t){t&&t.id&&this.sendPodloveWebplayerInitializedEvent(t.id,t.articleId)}},{key:"onPodcastNativePlayerPlayClick",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&t.id&&this.sendPodcastNativePlayerEvent("play",t.id,t.show,t.title,t.audioUrl,t.duration,t.articleId)}},{key:"onPodcastNativePlayerReplayClick",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&t.id&&this.sendPodcastNativePlayerEvent("replay",t.id,t.show,t.title,t.audioUrl,t.duration,t.articleId)}},{key:"sendClickEvent",value:function(t){if("function"==typeof t.composedPath&&Array.isArray(t.composedPath())){for(var e={event:{info:{action:"click",name:"generic"},attributes:{}}},n=t.composedPath(),o="",i="",r="",a="",s=[],c=n.length-1;c--;c>=0)n[c]instanceof HTMLElement&&(n[c].hasAttribute("data-area")&&(o=o?"".concat(o,">").concat(n[c].getAttribute("data-area")):n[c].getAttribute("data-area")),n[c].hasAttribute("data-pos")&&(i=n[c].getAttribute("data-pos")),"A"===n[c].nodeName&&(n[c].hasAttribute("href")&&(r=n[c].getAttribute("href")),n[c].hasAttribute("title")&&(a=n[c].getAttribute("title")),n[c].querySelector("[data-contains-flags]")&&(s=n[c].querySelector("[data-contains-flags]").getAttribute("data-contains-flags").split(" "))));o&&(e.event.attributes.click_id=o),i&&(e.event.attributes.pos=i),r&&(e.event.attributes.target_url=r),a&&(e.event.attributes.headline=a),s.length>0&&(e.event.attributes.label=s),this.push(e)}}},{key:"sendJWPlayerInitializedEvent",value:function(t){if(t){var e={event:{info:{action:"jw-init"},attributes:{player_id:t}}};this.push(e)}}},{key:"sendAdPositionInitializedEvent",value:function(t,e,n,o,i){if(t){var r={event:{info:{action:"adpos-init"},attributes:{pos:t,contains_ad:e,is_empty:n,is_backfill:o,size:i}}};this.push(r)}}},{key:"sendPageLoadEvent",value:function(){var t={};t=Object.assign(t,{event:{info:{action:"page_data_ready",name:"generic"},attributes:{current_url:"".concat(o.a.instance.urls.base).concat(window.location.pathname).concat(window.location.search)}}}),this.data.application&&(t=Object.assign(t,{application:this.data.application})),this.data.external&&(t=Object.assign(t,{external:this.data.external})),this.data.page&&(t=Object.assign(t,{page:this.data.page})),this.data.editorial&&(t=Object.assign(t,{editorial:this.data.editorial})),this.data.paywall&&(t=Object.assign(t,{paywall:this.data.paywall})),this.data.user&&(t=Object.assign(t,{user:this.data.user})),this.push(t)}},{key:"sendPodloveWebplayerInitializedEvent",value:function(t,e){if(t){var n={event:{info:{action:"podlove-init"},attributes:{player_id:t,article_id:e}}};this.push(n)}}},{key:"sendPodcastNativePlayerEvent",value:function(t,e,n,o,i,r,a){if(t&&e){var s={event:{info:{action:"audio",name:t},attributes:{item:{title:o,series:n,file:i,mediaid:e},duration:r/1e3,source:"native",article_id:a}}};this.push(s)}}},{key:"sendVirtualPageEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"generic",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"generic_recall",n=arguments.length>2?arguments[2]:void 0,o={};o=Object.assign(o,{event:{info:{action:"virtual_page",name:t},attributes:{label:e}}}),n&&(o.page={info:{referrer:n}}),this.push(o)}},{key:"push",value:function(t){return t.event&&t.event.info&&t.event.info.action?window.SARAs_data?(window.SARAs_data.push(t),!0):(console.error("SARAs->push: SARAs_data is not defined: ".concat(JSON.stringify(t))),!1):(console.error("SARAs->push: Event Param action is required: ".concat(JSON.stringify(t))),!1)}}])&&$(e.prototype,n),i&&$(e,i),t}();function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach((function(e){ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function it(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var rt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.user=q.a.instance,this.currentUserAccess=nt({},this.user.access)}var e,n,o;return e=t,(n=[{key:"execute",value:function(t,e){if(window.polygon&&window.polygon.cookies&&window.polygon.cookies.polygon_consent&&"function"==typeof window.polygon.cookies.polygon_consent.update&&window.polygon.cookies.polygon_consent.update(),this.user.update(),this.currentUserAccess.paid===this.user.access.paid&&this.currentUserAccess.conditional===this.user.access.conditional&&this.currentUserAccess.noAds===this.user.access.noAds&&this.currentUserAccess.audio===this.user.access.audio){this.currentUserAccess=nt({},this.user.access);var n=U.a.instance;n.shouldRedirectToConsent?n.redirectToConsent():n.shouldRedirectFromConsent?n.redirectToTargetUrl():(k.a.isApp&&window.navigator.webBridge.globalFontsize(b.a.instance.appFontSize),this.user.hasNoAdsAccess||I.instance.reloadAllAds(),tt.instance.sendVirtualPageEvent("app_call",e,t))}else window.location.reload()}}])&&it(e.prototype,n),o&&it(e,o),t}();function at(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var st=Symbol("INSTANCE"),ct=Symbol("SINGELTONENFORCER"),lt=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==ct)throw new Error("Instantiation failed: Use OverlayHandler.instance instead of new.");this.init()}var e,n,o;return e=t,o=[{key:"instance",get:function(){return this[st]||(this[st]=new t(ct)),this[st]}}],(n=[{key:"init",value:function(){var t=this;if(this.overlays=[],this.isComponentLoaderPresent){var e=window.polygon.componentLoader;e.subscribe(s.B,(function(e){return t.onOverlayOpened(e)})),e.subscribe(s.z,(function(e){return t.onOverlayClosed(e)})),e.subscribe(s.u,(function(){return t.onPageResume()}))}this.updateState()}},{key:"onOverlayOpened",value:function(t){this.overlays.push(t),this.updateState()}},{key:"onOverlayClosed",value:function(t){this.overlays=this.overlays.filter((function(e){return e!==t})),this.updateState()}},{key:"updateState",value:function(){if(document.documentElement.classList.toggle("overlay-open",this.isScrollingPrevented),k.a.isApp){var t=this.overlays.length>0?s.fb:s.db;b.a.instance.sendState(t)}this.isComponentLoaderPresent&&window.polygon.componentLoader.publish(s.A,this.currentOverlay)}},{key:"onPageResume",value:function(){this.updateState()}},{key:"currentOverlay",get:function(){return this.overlays[this.overlays.length-1]||null}},{key:"isScrollingPrevented",get:function(){return this.overlays.filter((function(t){return t.preventScrolling})).length>0}},{key:"isComponentLoaderPresent",get:function(){return window.polygon&&window.polygon.componentLoader&&"function"==typeof window.polygon.componentLoader.subscribe&&"function"==typeof window.polygon.componentLoader.publish}}])&&at(e.prototype,n),o&&at(e,o),t}(),ut=n(73);n(37);function ft(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var pt=Symbol("INSTANCE"),yt=Symbol("SINGELTONENFORCER"),dt=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==yt)throw new Error("Instantiation failed: Use TriggerHandler.instance instead of new.");this.init()}var e,n,i;return e=t,i=[{key:"instance",get:function(){return this[pt]||(this[pt]=new t(yt)),this[pt]}}],(n=[{key:"init",value:function(){this.registerEventHandlers()}},{key:"registerEventHandlers",value:function(){window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(s.ib,this.onLoginTriggered,this),window.polygon.componentLoader.subscribe(s.jb,this.onAccountTriggered,this),window.polygon.componentLoader.subscribe(s.kb,this.onLogoutTriggered,this),window.polygon.componentLoader.subscribe(s.mb,this.onRegisterTriggered,this),window.polygon.componentLoader.subscribe(s.lb,this.onOfferTriggered,this),window.polygon.componentLoader.subscribe(s.nb,this.onRestorePurchasesTriggered,this))}},{key:"onAccountTriggered",value:function(){if(k.a.isApp)b.a.instance.triggerAccount();else{var t=o.a.instance.urls;t&&t.account&&t.account.account&&window.location.assign(t.account.account)}}},{key:"onLoginTriggered",value:function(){if(k.a.isApp)b.a.instance.triggerLogin();else{var t=o.a.instance.urls;t&&t.account&&t.account.login&&window.location.assign(t.account.login)}}},{key:"onLogoutTriggered",value:function(){if(k.a.isApp)b.a.instance.triggerLogout();else{var t=o.a.instance.urls;t&&t.account&&t.account.logout&&window.location.assign(t.account.logout)}}},{key:"onRegisterTriggered",value:function(){if(k.a.isApp)b.a.instance.triggerRegister();else{var t=o.a.instance.urls;t&&t.account&&t.account.register&&window.location.assign(t.account.register)}}},{key:"onOfferTriggered",value:function(t){var e=t.product,n=t.targetUrl;if(e)if(k.a.isApp)b.a.instance.triggerInAppPurchase({product:e});else{var i=o.a.instance.urls;if(i&&i.offers&&i.offers[e]){var r=new URL(i.offers[e]);if(n)r.searchParams.set("targetUrl",n);else{var a=new URLSearchParams(window.location.search);(n=a.get("targetUrl")?decodeURIComponent(a.get("targetUrl")):void 0)&&r.searchParams.set("targetUrl",n)}window.location.assign(r.href)}}}},{key:"onRestorePurchasesTriggered",value:function(t){var e=t.targetUrl;if(k.a.isApp){if(!e){var n=new URLSearchParams(window.location.search);e=n.get("targetUrl")?decodeURIComponent(n.get("targetUrl")):void 0}b.a.instance.triggerRestorePurchases({targetUrl:e})}}}])&&ft(e.prototype,n),i&&ft(e,i),t}();n(118),n(119);function ht(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var bt=Symbol("INSTANCE"),gt=Symbol("SINGELTONENFORCER"),vt=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==gt)throw new Error("Instantiation failed: Use LanguageModel.instance instead of new.")}var e,n,o;return e=t,o=[{key:"instance",get:function(){return this[bt]||(this[bt]=new t(gt)),this[bt]}}],(n=[{key:"determineLanguage",value:function(){var t=g.a.getItem("lang"),e=navigator.language.slice(0,2),n=t;n||(n="de"===e?"de":"en"),this._language=n}},{key:"language",get:function(){return this._language||this.determineLanguage(),this._language},set:function(t){if(!g.a.setItem("lang",t))throw new ReferenceError("Unable to switch language because sessionStorage is not available");return this._language=t,this._language}}])&&ht(e.prototype,n),o&&ht(e,o),t}();function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ot(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function St(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kt(t,e,n){return(kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Et(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _t=function(t){function e(){var t,n;wt(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=St(this,(t=Et(e)).call.apply(t,[this].concat(i)))).localizationProto=n.el.innerHTML,n.localizationSettings=JSON.parse(n.data.localizationSettings),n.defaultLanguage=n.localizationSettings.defaultLanguage||"de",n.fallbackLanguage=n.localizationSettings.fallbackLanguage||"de",n.language=vt.instance.language,n.localizedFields=(n.localizationProto.match(/#?__localized_((\w|:)*)__/g)||[]).map((function(t){return t.split(/__(localized_)?/g)[2]})).filter((function(t,e,n){return n.indexOf(t)===e})),n._localize(),n.initSwitchLanguageButton(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(e,t),n=e,(o=[{key:"_renderPrototype",value:function(t,e){var n=this,o=this.localizationProto;return Object.keys(this.localizedFields).forEach((function(i){var r=n.localizedFields[i];if(r){var a=r.split(":")[0],s=r.split(":")[1],c=void 0!==t[a]?t[a]:e[a];s&&(c=c[s]),o=o.replace(new RegExp("__localized_".concat(r,"__"),"g"),c)}})),o}},{key:"_localize",value:function(){var t=this,e=this.localizationSettings.labels,n=Object.keys(e),o=this.language,i=e[this.fallbackLanguage];n.includes(this.language)||(o=this.defaultLanguage),this.language=o;var r=e[o],a=this._renderPrototype(r,i);this.el.textContent="",this.el.insertAdjacentHTML("afterbegin",a),Array.from(this.el.querySelectorAll("[data-localized-href]")).forEach((function(t){t.getAttribute("data-localized-href")&&(t.setAttribute("href",t.getAttribute("data-localized-href")),t.removeAttribute("data-localized-href"))})),this.boundOnComponentLoaderScanFinished=function(){return t.onComponentLoaderScanFinished()},this.subscribe(s.p,this.boundOnComponentLoaderScanFinished),window.polygon.componentLoader.scan()}},{key:"onComponentLoaderScanFinished",value:function(){this.unsubscribe(s.p,this.boundOnComponentLoaderScanFinished),this.onLocalized()}},{key:"onSwitchLanguageTriggered",value:function(){}},{key:"onLocalized",value:function(){}},{key:"initSwitchLanguageButton",value:function(){if(this.switchLanguageButton=this.el.querySelector('[data-localization-el="switchLanguageButton"]'),this.switchLanguageButton)try{window.sessionStorage,this.switchLanguageButton.addEventListener("click",this.onSwitchLanguageButtonClicked.bind(this))}catch(t){this.switchLanguageButton.remove()}}},{key:"onSwitchLanguageButtonClicked",value:function(t){t.preventDefault();var e="de"===this.language?"en":"de";this.switchLanguage(e)}},{key:"switchLanguage",value:function(t){this.onSwitchLanguageTriggered();try{vt.instance.language=t}catch(t){return void console.warn(t.message)}window.location.reload()}},{key:"destroy",value:function(){kt(Et(e.prototype),"destroy",this).call(this)}}])&&Ot(n.prototype,o),i&&Ot(n,i),e}(r.Component),At=n(6);function jt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Tt=Symbol("INSTANCE"),Lt=Symbol("SINGELTONENFORCER"),Ct=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==Lt)throw new Error("Instantiation failed: Use SourcepointModel.instance instead of new.");this.init()}var e,n,o;return e=t,o=[{key:"instance",get:function(){return this[Tt]||(this[Tt]=new t(Lt)),this[Tt]}}],(n=[{key:"init",value:function(){this.message="",this.errorOccurred=!1}}])&&jt(e.prototype,n),o&&jt(e,o),t}();function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function xt(t,e){return!e||"object"!==It(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bt(t,e,n){return(Bt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Nt(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Nt(t){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zt(t,e){return(zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mt=function(t){function e(){return Rt(this,e),xt(this,Nt(e).apply(this,arguments))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zt(t,e)}(e,t),n=e,(o=[{key:"onLocalized",value:function(){this.init()}},{key:"init",value:function(){this.settings=JSON.parse(this.data.settings),this.message=this.el.querySelector('[data-adblock-el="message"]'),this.loader=this.el.querySelector('[data-adblock-el="loader"]'),this.focusTrap=this.el.querySelector('[data-adblock-el="focusTrap"]'),this.whitelistButton=this.el.querySelector('[data-adblock-el="whitelistButton"]'),this.continueWithAdblockerButton=this.el.querySelector('[data-adblock-el="continueWithAdblockerButton"]'),this.loginLink=this.el.querySelector('[data-adblock-el="loginLink"]'),this.switchLanguageElement=this.el.querySelector('[data-adblock-el="switchLanguageElement"]'),this.isInitialized=!1,this.hasErrorOccurred=!1,this.state="STATE_LOADING",this.subscribe(s.P,this.onError,this),this.subscribe(s.R,this.onSourcepointMessageReceived,this),this.initContinueWithAdblockerButton(),this.initWhitelistButton(),"adblock-api"===Ct.instance.message&&this.onInitialized()}},{key:"initContinueWithAdblockerButton",value:function(){var t=this;this.continueWithAdblockerButton&&this.continueWithAdblockerButton.addEventListener("click",(function(e){t.onContinueWithAdblockerButtonClicked(e)}))}},{key:"initWhitelistButton",value:function(){var t=this;this.whitelistButton&&this.whitelistButton.addEventListener("click",(function(e){t.onWhitelistButtonClicked(e)}))}},{key:"onContinueWithAdblockerButtonClicked",value:function(t){t.preventDefault(),this.publish(s.V,S.c.continue_with_adblocker),this.el.classList.add("hidden"),this.publish(s.z,this),this.state="STATE_LOADING",this.publish(s.b)}},{key:"onWhitelistButtonClicked",value:function(t){t.preventDefault(),this.hasErrorOccurred?this.state="STATE_ERROR":(this.publish(s.V,S.c.whitelist_instructions_viewed,this.language),this.state="STATE_LOADING")}},{key:"onInitialized",value:function(){var t=this;this.isInitialized=!0,this.el.classList.remove("hidden"),this.focusTrap&&window.requestAnimationFrame((function(){t.focusTrap.focus()})),this.publish(s.B,this),this.state="STATE_DEFAULT",this.publish(s.c)}},{key:"onError",value:function(){this.hasErrorOccurred=!0,this.isInitialized?this.state="STATE_ERROR":(this.state="STATE_DEFAULT",this.isInitialized=!0)}},{key:"onSourcepointMessageReceived",value:function(t){"adblock-api"===t&&this.onInitialized()}},{key:"destroy",value:function(){Bt(Nt(e.prototype),"destroy",this).call(this)}},{key:"preventScrolling",get:function(){return!0}},{key:"state",get:function(){return this._state},set:function(t){switch(this._state=t,t){case"STATE_LOADING":At.a.toggleElementVisibility(this.message,!1),At.a.toggleElementVisibility(this.loader,!0),At.a.toggleElementVisibility(this.switchLanguageElement,!1);break;case"STATE_ERROR":At.a.toggleElementVisibility(this.message,!1),At.a.toggleElementVisibility(this.loader,!0),At.a.toggleElementVisibility(this.switchLanguageElement,!0);break;case"STATE_DEFAULT":default:At.a.toggleElementVisibility(this.message,!0),At.a.toggleElementVisibility(this.loader,!1),At.a.toggleElementVisibility(this.switchLanguageElement,!0)}}}])&&Dt(n.prototype,o),i&&Dt(n,i),e}(_t);function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ut(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ft(t,e){return!e||"object"!==Vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gt(t){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ht(t,e){return(Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Wt=function(t){function e(){var t,n;qt(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];if((n=Ft(this,(t=Gt(e)).call.apply(t,[this].concat(i)))).settings=JSON.parse(n.data.settings),n.inner=n.el.querySelector('[data-affiliate-box-el="inner"]'),n.affiliateConsentActivator=n.el.querySelector('[data-consent-el="activator"]'),n.affiliateConsentDeactivator=n.el.querySelector('[data-consent-el="deactivator"]'),n.consentHandlingPrepared=!1,n.settings.requireConsent){if(n.prepareConsentHandling(),!n.consentHandlingPrepared)return Ft(n);n.initAffiliateConsentHandling()}else n.showEmbed();return n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(e,t),n=e,(o=[{key:"prepareConsentHandling",value:function(){this.activateAffiliateConsentButton=this.affiliateConsentActivator.querySelector("button"),this.deactivateAffiliateConsentButton=this.affiliateConsentDeactivator.querySelector("button"),this.privacyPolicyLink=this.affiliateConsentDeactivator.querySelector('[data-link-el="privacy-policy"]'),this.activateAffiliateConsentButton&&this.deactivateAffiliateConsentButton?this.privacyPolicyLink?this.consentHandlingPrepared=!0:console.error("privacy policy link is not present in consent deactivator"):console.error("Third party consent activator and deactivator dont have a button")}},{key:"initAffiliateConsentHandling",value:function(){var t=this,e=function(e){e?(t.affiliateConsentActivator.classList.add("hidden"),t.affiliateConsentDeactivator.classList.remove("opacity-none"),t.affiliateConsentDeactivator.classList.remove("hidden"),t.privacyPolicyLink.setAttribute("tabindex","0"),t.showEmbed()):(t.affiliateConsentActivator.classList.remove("hidden"),t.privacyPolicyLink.setAttribute("tabindex","-1"))};e(q.a.instance.hasAcceptedAffiliateConsent),this.subscribe(s.f,(function(n){n.accepted?(e(n.accepted),t.showEmbed()):window.location.reload(!0)}))}},{key:"showEmbed",value:function(){this.inner.classList.remove("hidden")}}])&&Ut(n.prototype,o),i&&Ut(n,i),e}(r.Component);function Jt(t){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Xt(t,e){return!e||"object"!==Jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qt(t,e){return(Qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zt=function(t){function e(){var t,n;Yt(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=Xt(this,(t=$t(e)).call.apply(t,[this].concat(i)))).scriptElement=n.el.querySelector('[data-source-el="script"]'),n.stylesElement=n.el.querySelector('[data-source-el="styles"]'),n.isLoading=!1,n.scriptLoaded=!1,n.stylesLoaded=!1,n.loaded=!1,n.boundOnSourceRequested=function(){return n.onSourceRequested()},n.boundOnScriptElementLoaded=function(){return n.onScriptElementLoaded()},n.boundOnStylesElementLoaded=function(){return n.onStylesElementLoaded()},n.subscribe(s.g,n.boundOnSourceRequested),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qt(t,e)}(e,t),n=e,(o=[{key:"onSourceRequested",value:function(){this.loaded||this.isLoading||this.load()}},{key:"load",value:function(){this.isLoading=!0,this.scriptElement.addEventListener("load",this.boundOnScriptElementLoaded),this.stylesElement.addEventListener("load",this.boundOnStylesElementLoaded),this.scriptElement.src=this.scriptElement.dataset.src,this.stylesElement.href=this.stylesElement.dataset.href}},{key:"onScriptElementLoaded",value:function(){this.scriptLoaded=!0,this.stylesLoaded&&this.onLoaded()}},{key:"onStylesElementLoaded",value:function(){this.stylesLoaded=!0,this.scriptLoaded&&this.onLoaded()}},{key:"onLoaded",value:function(){this.isLoading=!1,this.loaded=!0,this.scriptElement.removeEventListener("load",this.boundOnScriptElementLoaded),this.stylesElement.removeEventListener("load",this.boundOnStylesElementLoaded)}}])&&Kt(n.prototype,o),i&&Kt(n,i),e}(r.Component);function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ne(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function oe(t,e){return!e||"object"!==te(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ie(t,e,n){return(ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=re(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function re(t){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ae(t,e){return(ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var se=function(t){function e(){var t,n;ee(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];(n=oe(this,(t=re(e)).call.apply(t,[this].concat(i)))).settings=n.data.settings?JSON.parse(n.data.settings):{},n.params=n.settings.params||{};var a=k.a.isApp;return(a||n.settings.href)&&(n.boundClickListener=function(t){t.preventDefault(),n.onClick()},n.el.addEventListener("click",n.boundClickListener)),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ae(t,e)}(e,t),n=e,(o=[{key:"onClick",value:function(){k.a.isApp?this.triggerAppAction():this.settings.href&&this.triggerRedirect()}},{key:"triggerAppAction",value:function(){var t=this;if(this.settings.action||!this.el.hasAttribute("disabled")){var e=b.a.instance;"function"==typeof e[this.settings.action]&&(e[this.settings.action](this.params),"triggerDownload"===this.settings.action&&(this.el.setAttribute("disabled",""),setTimeout((function(){t.el.removeAttribute("disabled")}),2e3)))}}},{key:"triggerRedirect",value:function(){if(this.settings.href){var t=new URL(this.settings.href);if(!t.searchParams.has("targetUrl")){var e=new URLSearchParams(window.location.search),n=e.get("targetUrl")?decodeURIComponent(e.get("targetUrl")):void 0;n&&t.searchParams.set("targetUrl",n)}window.location.replace(t.href)}}},{key:"destroy",value:function(){this.boundClickListener&&(this.el.removeEventListener("click",this.boundClickListener),this.boundClickListener=null),ie(re(e.prototype),"destroy",this).call(this)}}])&&ne(n.prototype,o),i&&ne(n,i),e}(r.Component);function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ue(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function fe(t,e){return!e||"object"!==ce(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pe(t,e,n){return(pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ye(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function ye(t){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function de(t,e){return(de=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var he=function(t){function e(){var t,n;le(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];if((n=fe(this,(t=ye(e)).call.apply(t,[this].concat(i)))).dataSettings=n.data&&n.data.settings&&JSON.parse(n.data.settings)||{},k.a.isApp&&!n.isAppUpdateRequired){var a=U.a.instance;a.redirectToHomepage()}else n.init();return n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&de(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=k.a.isApp,e=k.a.isAndroidApp,n=k.a.isIOSApp,o=this.el.querySelector('[data-appupdate-el="appStoreBadge"]'),i=this.el.querySelector('[data-appupdate-el="playStoreBadge"]');t?(n&&o&&o.classList.remove("hidden"),e&&i&&i.classList.remove("hidden")):(o&&o.classList.remove("hidden"),i&&i.classList.remove("hidden"))}},{key:"destroy",value:function(){pe(ye(e.prototype),"destroy",this).call(this)}},{key:"isAppUpdateRequired",get:function(){var t=k.a.isApp,e=k.a.appVersion;if(!t)return!1;var n=this.dataSettings.feature,o=b.a.instance;switch(n){case"offline-issue":return e<o.minOfflineIssueVersion;default:return e<o.minVersion}}}])&&ue(n.prototype,o),i&&ue(n,i),e}(r.Component);function be(t){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ve(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function me(t,e){return!e||"object"!==be(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function we(t,e,n){return(we="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Oe(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Oe(t){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Se(t,e){return(Se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ke=function(t){function e(){var t,n;ge(this,e);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(n=me(this,(t=Oe(e)).call.apply(t,[this].concat(r)))).settings=o.a.instance,n.basePath=n.settings.urls&&"string"==typeof n.settings.urls.base?n.settings.urls.base:window.location.origin,n.dataSettings=n.data&&n.data.settings&&JSON.parse(n.data.settings)||{},!P.a.isAndroid&&!P.a.isIOS||k.a.isApp?n.redirectToHomepage():n.redirectToAppStore(),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Se(t,e)}(e,t),n=e,(i=[{key:"redirectToHomepage",value:function(){var t=new URL(this.basePath),e=void 0,n=new URLSearchParams(window.location.search);n.has("ref")&&(e=decodeURIComponent(n.get("ref"))),t.searchParams.set("from","404"),e&&t.searchParams.set("ref",e),window.location.replace(t.href)}},{key:"redirectToAppStore",value:function(){var t=void 0;P.a.isAndroid?t=this.dataSettings.androidStoreUrl:P.a.isIOS&&(t=this.dataSettings.iosStoreUrl),t&&window.location.replace(t)}},{key:"destroy",value:function(){we(Oe(e.prototype),"destroy",this).call(this)}}])&&ve(n.prototype,i),r&&ve(n,r),e}(r.Component);function Ee(t){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ae(t,e){return!e||"object"!==Ee(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function je(t){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Te(t,e){return(Te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Le=At.a.toggleElementVisibility,Ce=function(t){function e(){var t,n;Pe(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=Ae(this,(t=je(e)).call.apply(t,[this].concat(i))),k.a.isApp?Ae(n):(n.banderole=n.el.querySelector('[data-audio-banderole-el="banderole"]'),n.webplayer=n.el.querySelector('[data-audio-banderole-el="webplayer"]'),n.webplayerTrigger=n.el.querySelector('[data-audio-banderole-el="webplayerTrigger"]'),n.boundOnWebplayerTriggerClicked=function(t){return n.onWebplayerTriggerClicked(t)},n.webplayerTrigger.addEventListener("click",n.boundOnWebplayerTriggerClicked),n)}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Te(t,e)}(e,t),n=e,(o=[{key:"onWebplayerTriggerClicked",value:function(t){t.preventDefault(),Le(this.banderole,!1),Le(this.webplayer,!0)}},{key:"destroy",value:function(){this.boundOnWebplayerTriggerClicked&&this.webplayerTrigger.removeEventListener("click",this.boundOnWebplayerTriggerClicked)}}])&&_e(n.prototype,o),i&&_e(n,i),e}(r.Component);function Ie(t){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function De(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function xe(t,e){return!e||"object"!==Ie(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Be(t,e,n){return(Be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ne(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Ne(t){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ze(t,e){return(ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Me=function(t){function e(){var t,n;Re(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=xe(this,(t=Ne(e)).call.apply(t,[this].concat(i)))).settings=n.data&&n.data.settings?JSON.parse(n.data.settings):{},n.id=n.settings.multiboxId?n.settings.multiboxId:n.data.componentId,n.breakpoints=n.settings.breakpoints?n.settings.breakpoints:[null],n.switchEl=n.el.querySelector('[data-accordion-el="switch"]'),n.collapseIconEl=n.el.querySelector('[data-accordion-el="collapseIcon"]'),n.expandIconEl=n.el.querySelector('[data-accordion-el="expandIcon"]'),n.containerEl=n.el.querySelector('[data-accordion-el="container"]'),n.containerEl&&(n.containerEl.addEventListener("transitionend",(function(){n.containerEl.style.maxHeight=null,n.containerEl.style.transition=""})),n.initAccordion()),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ze(t,e)}(e,t),n=e,(o=[{key:"initAccordion",value:function(){var t=this;this.toggleExpandedState(!!this.settings.isFirstItemOpen||!!this.settings.isExpanded),this.boundOnAccordionClick=function(){t.onAccordionClick()},this.switchEl.addEventListener("click",this.boundOnAccordionClick)}},{key:"onAccordionClick",value:function(){this.isExpanded?this.collapse():this.expand()}},{key:"expand",value:function(){var t=this;this.breakpoints.forEach((function(e){var n=t.getBreakpointClasses(e,"max-h-0"),o=t.getBreakpointClasses(e,"opacity-none"),i=t.getBreakpointClasses(e,"hidden");t.onExpand(),t.expandIconEl.classList.add(i),t.collapseIconEl.classList.remove(i),t.containerEl.style.transition="opacity 0.15s ease-in-out 0.05s , transform 0.2s ease-out",t.containerEl.classList.remove(n),t.containerEl.classList.remove(o),t.containerEl.classList.remove(i),t.containerEl.style.transform="translateY(0)",t.containerEl.setAttribute("aria-hidden",!1)}))}},{key:"collapse",value:function(){var t=this;this.breakpoints.forEach((function(e){var n=t.getBreakpointClasses(e,"max-h-0"),o=t.getBreakpointClasses(e,"opacity-none"),i=t.getBreakpointClasses(e,"hidden");t.onCollapse(),t.expandIconEl.classList.remove(i),t.collapseIconEl.classList.add(i),t.containerEl.classList.add(i),t.containerEl.classList.add(n),t.containerEl.classList.add(o),t.containerEl.style.transform="translateY(-10px)",t.containerEl.setAttribute("aria-hidden",!0)}))}},{key:"getBreakpointClasses",value:function(t,e){return t?"".concat(t,":").concat(e):e}},{key:"onExpand",value:function(){this.toggleExpandedState(!0)}},{key:"onCollapse",value:function(){this.toggleExpandedState(!1),this.publish(s.o,{id:this.id})}},{key:"toggleExpandedState",value:function(t){this.el.setAttribute("aria-expanded",t),this.isExpanded=t}},{key:"destroy",value:function(){this.switchEl.removeEventListener("click",this.boundOnAccordionClick),Be(Ne(e.prototype),"destroy",this).call(this)}}])&&De(n.prototype,o),i&&De(n,i),e}(r.Component);function Ve(t){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ue(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Fe(t,e){return!e||"object"!==Ve(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ge(t,e,n){return(Ge="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=He(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function He(t){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function We(t,e){return(We=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Je=function(t){function e(){return qe(this,e),Fe(this,He(e).apply(this,arguments))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&We(t,e)}(e,t),n=e,(o=[{key:"onExpand",value:function(){Ge(He(e.prototype),"onExpand",this).call(this),this.containerEl.classList.remove("hidden")}},{key:"onCollapse",value:function(){Ge(He(e.prototype),"onCollapse",this).call(this),this.containerEl.classList.add("hidden")}}])&&Ue(n.prototype,o),i&&Ue(n,i),e}(Me);n(139);function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function $e(t,e){return!e||"object"!==Ye(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qe(t,e,n){return(Qe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ze(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Ze(t){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tn(t,e){return(tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var en=function(t){function e(){var t,n;Ke(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=$e(this,(t=Ze(e)).call.apply(t,[this].concat(i)))).init(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tn(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;window.getComputedStyle(this.el,":before").getPropertyValue("content")?(this.breakpoint=this.getBreakpoint(),this.oldBreakpoint=this.breakpoint,this.publishEvent(),window.addEventListener("resize",(function(){t.onViewportResize()}),!1)):console.error("breakpoint check failed")}},{key:"getBreakpoint",value:function(){return window.getComputedStyle(this.el,":before").getPropertyValue("content").split('"').filter(Boolean).join('"')}},{key:"onViewportResize",value:function(){this.oldBreakpoint=this.breakpoint,this.breakpoint=this.getBreakpoint(),this.oldBreakpoint!==this.breakpoint&&this.publishEvent()}},{key:"publishEvent",value:function(){this.el.setAttribute("data-breakpoint",this.breakpoint),this.publish(s.i,{breakpoint:this.breakpoint})}},{key:"destroy",value:function(){Qe(Ze(e.prototype),"destroy",this).call(this)}}])&&Xe(n.prototype,o),i&&Xe(n,i),e}(r.Component),nn=n(52);function on(t){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function an(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function sn(t,e){return!e||"object"!==on(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cn(t,e,n){return(cn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ln(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function ln(t){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function un(t,e){return(un=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fn=function(t){function e(){var t,n;rn(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=sn(this,(t=ln(e)).call.apply(t,[this].concat(i)))).isInitialized=!1,n.hasErrorOccurred=!1,n.loader=n.el.querySelector('[data-consent-accept-reject-el="loader"]'),n.error=n.el.querySelector('[data-consent-accept-reject-el="error"]'),n.content=n.el.querySelector('[data-consent-accept-reject-el="content"]'),n.sourcepointMessageContainer=n.el.querySelector('[data-consent-accept-reject-el="sourcepointMessageContainer"]'),n.buttons=n.el.querySelector('[data-consent-accept-reject-el="buttons"]'),n.acceptAllButton=n.el.querySelector('[data-consent-accept-reject-el="acceptAllButton"]'),n.rejectAllButton=n.el.querySelector('[data-consent-accept-reject-el="rejectAllButton"]'),n.state="STATE_LOADING",n.init(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&un(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.subscribe(s.P,this.onError,this),this.subscribe(s.K,this.onError,this),this.subscribe(s.Q,this.onSourcepointMessageChoiceSelected,this),this.subscribe(s.O,this.onSourcepointChoiceProcessed,this),this.subscribe(s.R,this.onSourcepointMessageReceived,this),this.subscribe(s.T,this.onSourcepointPrivacyManagerOpened,this),this.subscribe(s.S,this.onSourcepointPrivacyManagerAction,this),this.initAcceptAllButton(),this.initRejectAllButton(),this.initializationTimoutId=setTimeout((function(){t.onInitializationTimeout()}),3e4)}},{key:"initAcceptAllButton",value:function(){var t=this,e=q.a.instance;this.acceptAllButton&&(e.hasAcceptedGlobalConsent?this.acceptAllButton.disabled=!0:(this.acceptAllButton.disabled=!1,this.acceptAllButton.addEventListener("click",(function(e){t.onAcceptAllButtonClicked(e)}))))}},{key:"initRejectAllButton",value:function(){var t=this,e=q.a.instance;this.rejectAllButton&&(e.hasAcceptedGlobalConsent?(this.rejectAllButton.disabled=!1,this.rejectAllButton.addEventListener("click",(function(e){t.onRejectAllButtonClicked(e)}))):this.rejectAllButton.disabled=!0)}},{key:"onAcceptAllButtonClicked",value:function(t){var e=this;t.preventDefault(),"STATE_ERROR"===this.state?(this.state="STATE_LOADING",setTimeout((function(){e.state="STATE_ERROR"}),1e3)):this.state="STATE_ERROR"}},{key:"onRejectAllButtonClicked",value:function(t){var e=this;t.preventDefault(),"STATE_ERROR"===this.state?(this.state="STATE_LOADING",setTimeout((function(){e.state="STATE_ERROR"}),1e3)):this.state="STATE_ERROR"}},{key:"onInitialized",value:function(){this.isInitialized=!0,this.initializationTimoutId&&clearTimeout(this.initializationTimoutId),this.state="STATE_DEFAULT"}},{key:"onInitializationTimeout",value:function(){this.hasErrorOccurred=!0,this.state="STATE_DEFAULT",this.isInitialized=!0}},{key:"onError",value:function(){this.hasErrorOccurred=!0,this.isInitialized?this.state="STATE_ERROR":(At.a.toggleElementVisibility(this.buttons,!0),this.state="STATE_DEFAULT",this.isInitialized=!0)}},{key:"onSourcepointMessageReceived",value:function(t){"enabled-accept-disabled-reject"!==t&&"disabled-accept-enabled-reject"!==t&&"accept-reject-fallback"!==t||this.isInitialized||(At.a.toggleElementVisibility(this.sourcepointMessageContainer,!0),this.onInitialized())}},{key:"onSourcepointMessageChoiceSelected",value:function(t){this.hasErrorOccurred||"STATE_ERROR"===this.state||(this.state="STATE_LOADING",At.a.toggleElementVisibility(this.buttons,!0),At.a.toggleElementVisibility(this.sourcepointMessageContainer,!1))}},{key:"onSourcepointChoiceProcessed",value:function(t){this.hasErrorOccurred||"STATE_ERROR"===this.state||window.location.reload()}},{key:"onSourcepointPrivacyManagerOpened",value:function(){this.state="STATE_LOADING"}},{key:"onSourcepointPrivacyManagerAction",value:function(t){t===S.d.cancel&&window.location.reload()}},{key:"destroy",value:function(){cn(ln(e.prototype),"destroy",this).call(this)}},{key:"state",get:function(){return this._state},set:function(t){switch(this._state=t,t){case"STATE_LOADING":At.a.toggleElementVisibility(this.content,!1),At.a.toggleElementVisibility(this.loader,!0),At.a.toggleElementVisibility(this.error,!1);break;case"STATE_ERROR":At.a.toggleElementVisibility(this.content,!0),At.a.toggleElementVisibility(this.loader,!1),At.a.toggleElementVisibility(this.error,!0);break;case"STATE_DEFAULT":default:At.a.toggleElementVisibility(this.content,!0),At.a.toggleElementVisibility(this.loader,!1),At.a.toggleElementVisibility(this.error,!1)}}}])&&an(n.prototype,o),i&&an(n,i),e}(r.Component);function pn(t){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function hn(t,e){return!e||"object"!==pn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bn(t,e,n){return(bn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gn(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function gn(t){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vn(t,e){return(vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mn=function(t){function e(){return yn(this,e),hn(this,gn(e).apply(this,arguments))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vn(t,e)}(e,t),n=e,(o=[{key:"onLocalized",value:function(){this.init()}},{key:"init",value:function(){var t=this;this.settings=this.data.settings?JSON.parse(this.data.settings):{};var e=new URLSearchParams(window.location.search);this.targetUrl=e.get("targetUrl")?decodeURIComponent(e.get("targetUrl")):void 0,this.message=this.el.querySelector('[data-consent-el="message"]'),this.sourcepointMessageContainer=this.el.querySelector('[data-consent-el="sourcepointMessageContainer"]'),this.loader=this.el.querySelector('[data-consent-el="loader"]'),this.error=this.el.querySelector('[data-consent-el="error"]'),this.footer=this.el.querySelector('[data-consent-el="footer"]'),this.fallbackFooter=this.el.querySelector('[data-consent-el="fallbackFooter"]'),this.sourcepoint=this.el.querySelector('[data-consent-el="_sp_msg"]'),this.acceptAllButton=this.el.querySelector('[data-consent-el="acceptAllButton"]'),this.triggerPurAboPurchaseButton=this.el.querySelector('[data-consent-el="triggerPurAboPurchaseButton"]'),this.loginLink=this.el.querySelector('[data-consent-el="loginLink"]'),this.loginElement=this.el.querySelector('[data-consent-el="login"]'),this.logoutElement=this.el.querySelector('[data-consent-el="logout"]'),this.loginCloseWindowText=this.el.querySelector('[data-consent-el="loginCloseWindowText"]'),this.inAppPurchaseReloadText=this.el.querySelector('[data-consent-el="inAppPurchaseReloadText"]'),this.switchLanguageElement=this.el.querySelector('[data-consent-el="switchLanguage"]'),this.isInitialized=this.settings.isInitialized||!1,this.hasErrorOccurred=this.settings.hasErrorOccurred||!1,this.state=this.settings.state||"STATE_LOADING",this.subscribe(s.P,this.onError,this),this.subscribe(s.K,this.onError,this),this.subscribe(s.R,this.onSourcepointMessageReceived,this),this.subscribe(s.Q,this.onSourcepointMessageChoiceSelected,this),this.subscribe(s.O,this.onSourcepointChoiceProcessed,this),this.subscribe(s.T,this.onSourcepointPrivacyManagerOpened,this),this.subscribe(s.S,this.onSourcepointPrivacyManagerAction,this),this.initAuthenticationElements(),this.initAcceptAllButton(),this.initTriggerPurAboPurchaseButton(),this.updateLoginLink(),At.a.toggleElementVisibility(this.footer,!0),At.a.toggleElementVisibility(this.fallbackFooter,!1),"STATE_ERROR"!==this.state&&(this.initializationTimoutId=setTimeout((function(){t.onInitializationTimeout()}),3e4),"consent-api"===Ct.instance.message&&this.onInitialized())}},{key:"initAuthenticationElements",value:function(){var t=b.a.instance;k.a.isIOSApp&&k.a.appVersion<t.minConsentVersion&&F.a.isUrlArticleContent(this.targetUrl)?At.a.toggleElementVisibility(this.loginCloseWindowText,!0):(At.a.toggleElementVisibility(this.loginElement,!0),At.a.toggleElementVisibility(this.logoutElement,!0))}},{key:"initAcceptAllButton",value:function(){var t=this;this.acceptAllButton&&this.acceptAllButton.addEventListener("click",(function(e){t.onAcceptAllButtonClicked(e)}))}},{key:"initTriggerPurAboPurchaseButton",value:function(){var t=this;this.triggerPurAboPurchaseButton&&this.triggerPurAboPurchaseButton.addEventListener("click",(function(e){t.onTriggerPurAboPurchaseButtonClicked(e)}))}},{key:"updateLoginLink",value:function(){if(this.loginLink&&this.loginLink.href&&this.targetUrl){var t=new URL(this.loginLink.href);t.searchParams.set("targetUrl",this.targetUrl),this.loginLink.href=t.href}}},{key:"onAcceptAllButtonClicked",value:function(t){var e=this;t.preventDefault(),"STATE_ERROR"===this.state?(this.state="STATE_LOADING",setTimeout((function(){e.state="STATE_ERROR"}),1e3)):this.state="STATE_ERROR"}},{key:"onTriggerPurAboPurchaseButtonClicked",value:function(){var t=b.a.instance;k.a.isIOSApp&&k.a.appVersion<t.minConsentVersion&&F.a.isUrlArticleContent(this.targetUrl)&&At.a.toggleElementVisibility(this.inAppPurchaseReloadText,!0)}},{key:"onInitialized",value:function(){this.isInitialized=!0,this.initializationTimoutId&&clearTimeout(this.initializationTimoutId),this.state="STATE_DEFAULT"}},{key:"onInitializationTimeout",value:function(){this.hasErrorOccurred=!0,this.state="STATE_DEFAULT",this.isInitialized=!0}},{key:"onError",value:function(){this.hasErrorOccurred=!0,this.isInitialized?this.state="STATE_ERROR":(At.a.toggleElementVisibility(this.acceptAllButton,!0),this.state="STATE_DEFAULT",this.isInitialized=!0)}},{key:"onSourcepointMessageReceived",value:function(t){t.match(/^accept(-(de|en))?$/g).length&&!this.isInitialized&&(At.a.toggleElementVisibility(this.sourcepointMessageContainer,!0),this.onInitialized())}},{key:"onSourcepointMessageChoiceSelected",value:function(t){this.hasErrorOccurred||"STATE_ERROR"===this.state||(this.state="STATE_LOADING",At.a.toggleElementVisibility(this.acceptAllButton,!0),At.a.toggleElementVisibility(this.sourcepointMessageContainer,!1))}},{key:"onSourcepointChoiceProcessed",value:function(t){if(this.hasErrorOccurred||"STATE_ERROR"===this.state||t===S.c.accept_all){if(t===S.c.accept_all){var e=b.a.instance;k.a.isApp&&k.a.appVersion>=e.minConsentVersion?e.sendConsent(this.targetUrl):U.a.instance.redirectToTargetUrl()}}else window.location.reload()}},{key:"onSourcepointPrivacyManagerOpened",value:function(){this.state="STATE_LOADING"}},{key:"onSourcepointPrivacyManagerAction",value:function(t){t===S.d.cancel&&window.location.reload()}},{key:"updateSettings",value:function(t,e){this.settings[t]=e,this.el.setAttribute("data-settings",JSON.stringify(this.settings))}},{key:"destroy",value:function(){bn(gn(e.prototype),"destroy",this).call(this),this.unsubscribe(s.P,this.onError),this.unsubscribe(s.K,this.onError),this.unsubscribe(s.R,this.onSourcepointMessageReceived),this.unsubscribe(s.Q,this.onSourcepointMessageChoiceSelected),this.unsubscribe(s.O,this.onSourcepointChoiceProcessed),this.unsubscribe(s.S,this.onSourcepointPrivacyManagerAction),this.unsubscribe(s.T,this.onSourcepointPrivacyManagerOpened)}},{key:"state",get:function(){return this._state},set:function(t){switch(this._state=t,t){case"STATE_LOADING":At.a.toggleElementVisibility(this.message,!1),At.a.toggleElementVisibility(this.loader,!0),At.a.toggleElementVisibility(this.error,!1),At.a.toggleElementVisibility(this.switchLanguageElement,!1);break;case"STATE_ERROR":At.a.toggleElementVisibility(this.message,!0),At.a.toggleElementVisibility(this.loader,!1),At.a.toggleElementVisibility(this.error,!0),At.a.toggleElementVisibility(this.switchLanguageElement,!0);break;case"STATE_DEFAULT":default:At.a.toggleElementVisibility(this.message,!0),At.a.toggleElementVisibility(this.loader,!1),At.a.toggleElementVisibility(this.error,!1),At.a.toggleElementVisibility(this.switchLanguageElement,!0)}this.updateSettings("state",t)}},{key:"isInitialized",get:function(){return this._isInitialized},set:function(t){this._isInitialized=t,this.updateSettings("isInitialized",t)}},{key:"hasErrorOccurred",get:function(){return this._hasErrorOccurred},set:function(t){this._hasErrorOccurred=t,this.updateSettings("hasErrorOccurred",t)}}])&&dn(n.prototype,o),i&&dn(n,i),e}(_t);function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function On(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function kn(t,e){return!e||"object"!==wn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function En(t){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pn(t,e){return(Pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _n=function(t){function e(){var t,n;On(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=kn(this,(t=En(e)).call.apply(t,[this].concat(i)))).offsetContainerEl=document.querySelector('[data-body-el="offset-container"]'),n.articleEl=document.querySelector('[data-area="article"]'),n.offsetContainerEl&&n.articleEl&&n.init(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pn(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){this.offsetContainerEl.classList.remove("OffsetContainer"),this.articleEl.classList.add("w-screen"),this.articleEl.classList.add("relative"),this.articleEl.style.left="calc(-50vw + 50%)",this.el.classList.remove("hidden")}}])&&Sn(n.prototype,o),i&&Sn(n,i),e}(r.Component);function An(t){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ln(t,e){return!e||"object"!==An(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cn(t,e,n){return(Cn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=In(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function In(t){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rn(t,e){return(Rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Dn=function(t){function e(){var t,n;jn(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=Ln(this,(t=In(e)).call.apply(t,[this].concat(i)))).settings=n.data.settings?JSON.parse(n.data.settings):{},n.iframe=n.el.querySelector('[data-datawrapper-el="iframe"]'),n.boundOnLazyLoad=function(t){t.target===n.el&&n.onLazyLoad()},n.el.addEventListener("lazybeforeunveil",n.boundOnLazyLoad),n.iframeSrc="//datawrapper.dwcdn.net/".concat(n.settings.id,"/"),window.addEventListener("message",(function(t){t.data&&t.data["datawrapper-height"]&&t.data["datawrapper-height"][n.settings.id]&&n.resizeHeight(t.data["datawrapper-height"][n.settings.id])})),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rn(t,e)}(e,t),n=e,(o=[{key:"onLazyLoad",value:function(){this.iframe.src="//datawrapper.dwcdn.net/".concat(this.settings.id,"/")}},{key:"resizeHeight",value:function(t){this.iframe.height=t}},{key:"destroy",value:function(){Cn(In(e.prototype),"destroy",this).call(this)}}])&&Tn(n.prototype,o),i&&Tn(n,i),e}(r.Component);function xn(t){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function zn(t,e){return!e||"object"!==xn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mn(t,e,n){return(Mn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vn(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Vn(t){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qn(t,e){return(qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Un=function(t){function e(){var t,n;Bn(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=zn(this,(t=Vn(e)).call.apply(t,[this].concat(i)))).settings=JSON.parse(n.el.dataset.deferSettings),n.componentName=n.settings.component,n.loader=window.polygon.componentLoader,n.component=window.polygon.deferredComponents[n.componentName],n.importRequirements().then((function(){n.init()})),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qn(t,e)}(e,t),n=e,(o=[{key:"importRequirements",value:function(){var t=this;return this.component().then((function(e){e&&t.registerComponent(e)}))}},{key:"registerComponent",value:function(t){var e={};e[this.componentName]=t.default,this.loader.register(e)}},{key:"init",value:function(){this.prepareComponent(),this.refreshComponents(),this.destroy()}},{key:"prepareComponent",value:function(){this.el.dataset.component=this.componentName}},{key:"refreshComponents",value:function(){this.loader.scan()}},{key:"destroy",value:function(){Mn(Vn(e.prototype),"destroy",this).call(this)}}])&&Nn(n.prototype,o),i&&Nn(n,i),e}(r.Component);function Fn(t){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Wn(t,e){return!e||"object"!==Fn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jn(t,e,n){return(Jn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yn(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Yn(t){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kn(t,e){return(Kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xn=function(t){function e(){var t,n;Gn(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];if((n=Wn(this,(t=Yn(e)).call.apply(t,[this].concat(i)))).settings=JSON.parse(n.data.settings),n.replacer=n.el.querySelector('[data-embed-el="replacer"]'),n.thirdPartyConsentActivator=n.el.querySelector('[data-consent-el="activator"]'),n.thirdPartyConsentDeactivator=n.el.querySelector('[data-consent-el="deactivator"]'),n.title=n.el.querySelector('[data-embed-el="title"]'),n.caption=n.el.querySelector('[data-embed-el="caption"]'),n.outerWrapper=n.el.querySelector('[data-wrapper-el="outer-wrapper"]'),n.innerWrapper=n.el.querySelector('[data-wrapper-el="inner-wrapper"]'),n.embedContent=n.replacer.dataset.content,n.settings.requireConsent){if(n.activateThirdPartyConsentButton=n.thirdPartyConsentActivator.querySelector("button"),n.deactivateThirdPartyConsentButton=n.thirdPartyConsentDeactivator.querySelector("button"),n.privacyPolicyLink=n.thirdPartyConsentDeactivator.querySelector('[data-link-el="privacy-policy"]'),!n.activateThirdPartyConsentButton||!n.deactivateThirdPartyConsentButton)return console.error("Third party consent activator and deactivator dont have a button"),Wn(n);if(!n.privacyPolicyLink)return console.error("privacy policy link is not present in consent deactivator"),Wn(n);n.initThirdPartyConsentHandling()}return n.boundOnLazyLoad=function(t){t.target===n.el&&(n.settings.requireConsent&&!q.a.instance.hasAcceptedThirdPartyConsent||n.onLazyLoad())},n.el.addEventListener("lazybeforeunveil",n.boundOnLazyLoad),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kn(t,e)}(e,t),n=e,(o=[{key:"initThirdPartyConsentHandling",value:function(){var t=this,e=function(e){e?(t.title&&t.title.classList.remove("hidden"),t.caption&&t.caption.classList.remove("hidden"),t.thirdPartyConsentActivator.classList.add("hidden"),t.thirdPartyConsentDeactivator.classList.remove("hidden"),t.privacyPolicyLink.setAttribute("tabindex","0")):(t.thirdPartyConsentActivator.classList.remove("hidden"),t.privacyPolicyLink.setAttribute("tabindex","-1"))};e(q.a.instance.hasAcceptedThirdPartyConsent),this.subscribe(s.bb,(function(n){n.accepted?(e(n.accepted),t.onLazyLoad()):window.location.reload(!0)}))}},{key:"onLazyLoad",value:function(){try{this.replacer.parentNode.appendChild(document.createRange().createContextualFragment(this.embedContent))}catch(t){this.replacer.parentNode.insertAdjacentHTML("beforeend",this.embedContent)}this.replacer.classList.add("hidden"),this.replacer.remove(),"Instagram"===this.settings.providerName&&window.instgrm&&window.instgrm.Embeds&&"function"==typeof window.instgrm.Embeds.process&&window.instgrm.Embeds.process(),"Twitter"===this.settings.providerName&&window.twttr&&window.twttr.widgets&&"function"==typeof window.twttr.widgets.load&&window.twttr.widgets.load(this.el)}},{key:"destroy",value:function(){this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyLoad),Jn(Yn(e.prototype),"destroy",this).call(this)}}])&&Hn(n.prototype,o),i&&Hn(n,i),e}(r.Component);function $n(t){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function to(t,e){return!e||"object"!==$n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eo(t,e,n){return(eo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=no(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function no(t){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oo(t,e){return(oo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var io=function(t){function e(){var t,n;Qn(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=to(this,(t=no(e)).call.apply(t,[this].concat(i)))).tcDataModel=ut.a.instance,n.requiredPurposeIds=[],n.requiredVendorIds=[],n._src="",n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oo(t,e)}(e,t),n=e,(o=[{key:"addRequiredPurpose",value:function(t){t&&this.requiredPurposeIds.push(t)}},{key:"addRequiredVendor",value:function(t){t&&this.requiredVendorIds.push(t)}},{key:"initSrc",value:function(){this.consentVerified?this.loadSrc():this.subscribe(s.ab,this.onTCDataChanged)}},{key:"onTCDataChanged",value:function(){var t=this;this.consentVerified&&(this.loadSrc(),this.defer((function(){t.unsubscribe(s.ab,t.onTCDataChanged)})))}},{key:"loadSrc",value:function(){this.src&&this.scriptEl&&!this.scriptEl.getAttribute("src")&&this.scriptEl.setAttribute("src",this.src)}},{key:"destroy",value:function(){eo(no(e.prototype),"destroy",this).call(this)}},{key:"requiredPurposesVerified",get:function(){for(var t=!0,e=0;e<this.requiredPurposeIds.length;e++){var n=this.requiredPurposeIds[e];if(!this.tcDataModel.isPurposeGranted(n)){t=!1;break}}return t}},{key:"requiredVendorsVerified",get:function(){for(var t=!0,e=0;e<this.requiredVendorIds.length;e++){var n=this.requiredVendorIds[e];if(!this.tcDataModel.isVendorGranted(n)){t=!1;break}}return t}},{key:"consentVerified",get:function(){return!0}},{key:"src",get:function(){if(this._src)return this._src;var t=this.scriptEl.getAttribute("data-src");return t?(this._src=t,this._src):""}},{key:"scriptEl",get:function(){return this.el}}])&&Zn(n.prototype,o),i&&Zn(n,i),e}(r.Component);function ro(t){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ao(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function so(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function co(t,e){return!e||"object"!==ro(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lo(t,e,n){return(lo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=uo(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function uo(t){return(uo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fo(t,e){return(fo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var po=function(t){function e(){var t,n;ao(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=co(this,(t=uo(e)).call.apply(t,[this].concat(i)))).initSrc(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fo(t,e)}(e,t),n=e,(o=[{key:"destroy",value:function(){lo(uo(e.prototype),"destroy",this).call(this)}}])&&so(n.prototype,o),i&&so(n,i),e}(io);function yo(t){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ho(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function go(t,e){return!e||"object"!==yo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vo(t,e,n){return(vo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mo(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function mo(t){return(mo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wo(t,e){return(wo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Oo=function(t){function e(){var t,n;ho(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=go(this,(t=mo(e)).call.apply(t,[this].concat(i)))).initCloseButton(),n.checkErrorCode(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wo(t,e)}(e,t),n=e,(o=[{key:"initCloseButton",value:function(){var t=this;this.closeButton=this.el.querySelector('[data-error-el="close"]'),this.closeButton&&this.closeButton.addEventListener("click",(function(){t.el.classList.add("hidden")}))}},{key:"checkErrorCode",value:function(){window.location.href.indexOf("?from=404")>-1&&this.el.classList.remove("hidden")}},{key:"destroy",value:function(){vo(mo(e.prototype),"destroy",this).call(this)}}])&&bo(n.prototype,o),i&&bo(n,i),e}(r.Component);function So(t){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ko(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Po(t,e){return!e||"object"!==So(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _o(t,e,n){return(_o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ao(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Ao(t){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jo(t,e){return(jo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var To=function(t){function e(){var t,n;ko(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=Po(this,(t=Ao(e)).call.apply(t,[this].concat(i))),window.document.addEventListener("mousedown",(function(t){n.onMouseDown(t)})),n.initPageVisibilityAPI(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jo(t,e)}(e,t),n=e,(o=[{key:"initPageVisibilityAPI",value:function(){var t,e=this;this.hiddenPropertyName=void 0,void 0!==document.hidden?(this.hiddenPropertyName="hidden",t="visibilitychange"):void 0!==document.mozHidden?(this.hiddenPropertyName="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(this.hiddenPropertyName="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden?(this.hiddenPropertyName="webkitHidden",t="webkitvisibilitychange"):t="visibilitychange",this.currentVisibilityState=this.visibilityState,this.boundOnVisibilityChange=function(){return e.onVisibilityChange(e.visibilityState)},window.document.addEventListener(t,this.boundOnVisibilityChange),this.boundOnPageHide=function(){return e.onVisibilityChange("hidden")},window.addEventListener("pagehide",this.boundOnPageHide)}},{key:"onVisibilityChange",value:function(t){this.currentVisibilityState!==t&&(this.currentVisibilityState=t,this.publish(s.v,t))}},{key:"onMouseDown",value:function(t){this.publish(s.t,t)}},{key:"destroy",value:function(){_o(Ao(e.prototype),"destroy",this).call(this)}},{key:"visibilityState",get:function(){return this.hiddenPropertyName?window.document[this.hiddenPropertyName]?"hidden":"visible":void 0!==window.document.visibilityState?window.document.visibilityState:void 0}}])&&Eo(n.prototype,o),i&&Eo(n,i),e}(r.Component),Lo=n(111);function Co(t){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Io(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ro(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Do(t,e){return!e||"object"!==Co(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xo(t,e,n){return(xo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Bo(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Bo(t){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function No(t,e){return(No=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zo=function(t){function e(){var t,n;Io(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=Do(this,(t=Bo(e)).call.apply(t,[this].concat(i)))).settings=JSON.parse(n.data.settings),n.getElements(),n.initState(),n.appBridge=b.a.instance,n.isApp=k.a.isApp,n.initContextMenu(),n.initLinks(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&No(t,e)}(e,t),n=e,(o=[{key:"getElements",value:function(){this.toggle=this.el.querySelector('[data-featurebar-share*="toggle"]'),this.contextMenu=this.el.querySelector('[data-featurebar-share*="context-menu"]'),this.links=Array.from(this.el.querySelectorAll('[data-featurebar-share*="link"]')),this.contextLinks=Array.from(this.el.querySelectorAll('[data-featurebar-share*="contextlink"]'))}},{key:"initState",value:function(){this.contextMenu&&!this.contextMenu.classList.contains("hidden")?this._isContextMenuVisibile=!0:this._isContextMenuVisibile=!1}},{key:"initContextMenu",value:function(){var t=this;this.toggle&&this.contextMenu&&(this.toggle.addEventListener("click",(function(e){t.onToggleClicked(e)})),window.addEventListener("click",(function(){t.isContextMenuVisibile&&(t.isContextMenuVisibile=!1)})))}},{key:"initLinks",value:function(){for(var t=this,e=function(e){var n=t.links[e];n.addEventListener("click",(function(e){t.onLinkClicked(e,n)}))},n=0;n<this.links.length;n++)e(n)}},{key:"onToggleClicked",value:function(t){t.preventDefault(),t.stopPropagation(),this.isContextMenuVisibile=!this.isContextMenuVisibile,this.focusContextMenuLink()}},{key:"focusContextMenuLink",value:function(){Array.isArray(this.contextLinks)&&0!==this.contextLinks.length&&P.a.isMobile&&this.contextLinks[0].focus()}},{key:"onLinkClicked",value:function(t,e){this.isApp?(t.preventDefault(),this.appBridge.triggerShareButton()):e.getAttribute("data-featurebar-share").includes("detached-sharing-window")&&!P.a.isMobile?(t.preventDefault(),window.open(e.href,"Beitrag teilen","height=500,width=600")):e.getAttribute("data-featurebar-share").includes("copy")&&(t.preventDefault(),this.settings.url&&Lo.a.copyToClipboard(this.settings.url)&&alert("Artikel-URL erfolgreich in die Zwischenablage kopiert."))}},{key:"destroy",value:function(){xo(Bo(e.prototype),"destroy",this).call(this)}},{key:"isContextMenuVisibile",get:function(){return this._isContextMenuVisibile},set:function(t){this._isContextMenuVisibile=!0===t,this.contextMenu&&(this.isContextMenuVisibile?(this.contextMenu.classList.remove("hidden"),this.toggle.classList.add("opacity-distinct")):(this.contextMenu.classList.add("hidden"),this.toggle.classList.remove("opacity-distinct")))}}])&&Ro(n.prototype,o),i&&Ro(n,i),e}(r.Component);function Mo(t){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Uo(t,e){return!e||"object"!==Mo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fo(t,e,n){return(Fo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Go(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Go(t){return(Go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ho(t,e){return(Ho=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Wo=function(t){function e(){return Vo(this,e),Uo(this,Go(e).apply(this,arguments))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ho(t,e)}(e,t),n=e,(o=[{key:"initAccordion",value:function(){var t=this;Fo(Go(e.prototype),"initAccordion",this).call(this),document.querySelector('[data-component="BreakpointListener"]')&&"sm"!==document.querySelector('[data-component="BreakpointListener"]').dataset.breakpoint&&this.disableAccordion(),this.subscribe(s.i,(function(e){"sm"===e.breakpoint?t.enableAccordion():t.disableAccordion()}))}},{key:"disableAccordion",value:function(){Fo(Go(e.prototype),"toggleExpandedState",this).call(this,!0),this.switchEl.removeEventListener("click",this.boundOnAccordionClick)}},{key:"enableAccordion",value:function(){Fo(Go(e.prototype),"toggleExpandedState",this).call(this,!1),this.switchEl.addEventListener("click",this.boundOnAccordionClick)}}])&&qo(n.prototype,o),i&&qo(n,i),e}(Me);function Jo(t){return(Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ko(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Xo(t,e){return!e||"object"!==Jo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $o(t,e,n){return($o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qo(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Qo(t){return(Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zo(t,e){return(Zo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ti=function(t){function e(){var t,n;Yo(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=Xo(this,(t=Qo(e)).call.apply(t,[this].concat(i)))).dataSettings=n.data.settings?JSON.parse(n.data.settings):{},void 0!==n.dataSettings.advertisementPositions&&Array.isArray(n.dataSettings.advertisementPositions)&&n.subscribe(s.e,(function(t){n.onAdPositionLoaded(t)})),void 0!==n.dataSettings.outbrainMovable&&n.dataSettings.outbrainMovable&&n.subscribe(s.x,(function(t){n.onOutbrainFurtherReadsReady(t)})),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zo(t,e)}(e,t),n=e,(o=[{key:"onAdPositionLoaded",value:function(t){var e=this;void 0!==this.dataSettings.advertisementPositions&&Array.isArray(this.dataSettings.advertisementPositions)&&this.dataSettings.advertisementPositions.forEach((function(n){t===n&&e.publish(s.ob,{furtherReadsId:e.dataSettings.furtherReadsId})}))}},{key:"onOutbrainFurtherReadsReady",value:function(t){t&&"function"==typeof t.appendChild&&t.appendChild(this.el),void 0!==this.dataSettings.advertisementPositions&&Array.isArray(this.dataSettings.advertisementPositions)&&this.dataSettings.advertisementPositions.forEach((function(t){I.instance.initAdPosition(t)}))}},{key:"destroy",value:function(){$o(Qo(e.prototype),"destroy",this).call(this)}}])&&Ko(n.prototype,o),i&&Ko(n,i),e}(Me);function ei(t){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ni(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ii(t,e){return!e||"object"!==ei(e)&&"function"!=typeof e?ri(t):e}function ri(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ai(t,e,n){return(ai="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=si(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function si(t){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ci(t,e){return(ci=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var li=function(t){function e(){var t,n;ni(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];(n=ii(this,(t=si(e)).call.apply(t,[this].concat(i)))).dataSettings=n.data.settings?JSON.parse(n.data.settings):{},n.id=n.dataSettings.id,n.hash="fotostrecke-".concat(n.id),n.galleryBar=n.el.querySelector('[data-gallerylayer-el="gallery-bar"]'),n.galleryContent=n.el.querySelector('[data-gallerylayer-el="gallery-content"]'),n.focusCatcher=n.el.querySelector('[data-gallerylayer-el="catchFocus"]'),n.orgImage=document.querySelector('[data-component="GalleryTeaser"][data-settings=\'{"id":"'.concat(JSON.parse(n.data.settings).id,"\"}']")),n.transitionDuration=200,n.gujAdContainers=Array.from(n.el.querySelectorAll('[data-advertisement^="GujAd"]'));var a=n.el.querySelector('[data-gallerylayer-el="back-to-article"]'),c=n.el.querySelector('[data-gallerylayer-el="close-gallery"]');return a.addEventListener("click",(function(){return n.publish(s.k)})),c.addEventListener("click",(function(){return n.publish(s.k)})),nn.a.instance.register(ri(n)),window.location.hash==="#".concat(n.hash)&&n.publish(s.n,n.id),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ci(t,e)}(e,t),n=e,(o=[{key:"open",value:function(){var t=this,e=[];this.gujAdContainers.forEach((function(t){var n=t.getAttribute("data-advertisement-id");n&&(t.setAttribute("id",n),e.push(n)),t.setAttribute("data-advertisement",t.getAttribute("data-advertisement").replace(new RegExp(" disabled","g"),""))})),e.forEach((function(t){I.instance.initAdPosition(t)})),document.removeEventListener("transitionend",this.boundHandleTransitionEnd),this.el.classList.remove("hidden"),this.el.style.transform="translateX(100vw)",this.publish(s.B,this),window.setTimeout((function(){t.el.classList.add("opacity-full"),t.el.style.transform="translateX(0)"}),0),P.a.isInternetExplorer&&window.dispatchEvent(new Event("resize")),this.focusLayer()}},{key:"focusLayer",value:function(){this.focusCatcher.focus()}},{key:"close",value:function(){var t=this;this.gujAdContainers.forEach((function(t){t.removeAttribute("id"),t.setAttribute("data-advertisement","".concat(t.getAttribute("data-advertisement")," disabled")),t.classList.add("hidden")})),this.publish(s.z,this),window.setTimeout((function(){t.el.style.transform="translateX(100vw)"}),0),this.boundHandleTransitionEnd=function(){return t.handleTransitionEnd()},document.addEventListener("transitionend",this.boundHandleTransitionEnd)}},{key:"handleTransitionEnd",value:function(){this.el.classList.add("hidden")}},{key:"destroy",value:function(){ai(si(e.prototype),"destroy",this).call(this)}},{key:"preventScrolling",get:function(){return!0}}])&&oi(n.prototype,o),i&&oi(n,i),e}(r.Component);function ui(t){return(ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function yi(t,e){return!e||"object"!==ui(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function di(t,e,n){return(di="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hi(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function hi(t){return(hi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bi(t,e){return(bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gi=function(t){function e(){var t,n;fi(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=yi(this,(t=hi(e)).call.apply(t,[this].concat(i)))).dataSettings=n.data.settings?JSON.parse(n.data.settings):{},n.galleryActivator=n.el.querySelector('[data-galleryteaser-el="galleryActivator"]'),n.galleryButton=n.el.querySelector('[data-galleryteaser-el="galleryButton"]'),n.galleryActivator.addEventListener("click",(function(){n.publish(s.n,n.dataSettings.id)})),n.subscribe(s.l,(function(t){t===n.dataSettings.id&&n.onFocusCallback()})),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bi(t,e)}(e,t),n=e,(o=[{key:"onFocusCallback",value:function(){this.galleryButton&&this.galleryButton.focus()}},{key:"destroy",value:function(){di(hi(e.prototype),"destroy",this).call(this)}}])&&pi(n.prototype,o),i&&pi(n,i),e}(r.Component);function vi(t){return(vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Oi(t,e){return!e||"object"!==vi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Si(t,e,n){return(Si="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ki(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function ki(t){return(ki=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ei(t,e){return(Ei=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pi=function(t){function e(){var t,n;mi(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];if((n=Oi(this,(t=ki(e)).call.apply(t,[this].concat(i)))).isGujDisabled)return Oi(n);n.settings=n.data.settings?JSON.parse(n.data.settings):{};var a=n.settings.srcPreview||"",s=n.settings.srcLive||"",c=window.location.search.indexOf("gujAd=1")>-1?a:s;return c&&(n.el.onload=function(){void 0!==window.GujAd&&void 0!==window.GujAd.cmd&&window.GujAd.cmd.push((function(){window.GujAd.finalize()}))},n._src=c,n.initSrc()),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ei(t,e)}(e,t),n=e,(i=[{key:"destroy",value:function(){Si(ki(e.prototype),"destroy",this).call(this)}},{key:"isGujDisabled",get:function(){return q.a.instance.hasNoAdsAccess||o.a.instance.disableAds}},{key:"src",get:function(){return this._src}}])&&wi(n.prototype,i),r&&wi(n,r),e}(io);function _i(t){return(_i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ai(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ji(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ti(t,e){return!e||"object"!==_i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Li(t,e,n){return(Li="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ci(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Ci(t){return(Ci=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ii(t,e){return(Ii=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ri=function(t){function e(){var t,n;Ai(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=Ti(this,(t=Ci(e)).call.apply(t,[this].concat(i)))).menuActivator=n.el.querySelector('[data-headerbar-el="menuActivator"]'),n.intersectionObserverTarget=document.querySelector('[data-headerbar-el="intersectionObserverTarget"]'),n.intersectionObserver=null,n.isInTopArea=!0,n.isInOverlay=!1,n._state=n.el.classList.contains("collapsed")?"STATE_COLLAPSED":"STATE_EXPANDED",n.init(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ii(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.menuActivator&&this.menuActivator.addEventListener("click",(function(){t.publish(s.w)})),this.intersectionObserverTarget&&(this.intersectionObserver=new IntersectionObserver((function(e){return t.onIntersectionChanged(e)}),{rootMargin:"-50px 0px 0px 0px"}),this.intersectionObserver.observe(this.intersectionObserverTarget)),this.subscribe(s.A,(function(e){return t.onActiveOverlayChanged(e)}))}},{key:"onIntersectionChanged",value:function(t){this.isInTopArea=t[0].isIntersecting,this.updateState()}},{key:"onActiveOverlayChanged",value:function(t){this.isInOverlay=t&&t.expandHeader,this.updateState()}},{key:"updateState",value:function(){this.isInOverlay||this.isInTopArea?this.state="STATE_EXPANDED":this.state="STATE_COLLAPSED"}},{key:"toggleHeaderBarCollapsed",value:function(t){this.el.classList.toggle("collapsed",!0===t)}},{key:"destroy",value:function(){Li(Ci(e.prototype),"destroy",this).call(this)}},{key:"state",get:function(){return this._state},set:function(t){if(t===this._state)return this._state;switch(t){case"STATE_COLLAPSED":this.toggleHeaderBarCollapsed(!0),this._state=t;break;case"STATE_EXPANDED":this.toggleHeaderBarCollapsed(!1),this._state=t;break;default:console.warn('Could not set state for HeaderBar: Invalid value "'.concat(t,'"'))}return this._state}}])&&ji(n.prototype,o),i&&ji(n,i),e}(r.Component);function Di(t){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ni(t,e){return!e||"object"!==Di(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zi(t,e,n){return(zi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mi(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Mi(t){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vi(t,e){return(Vi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qi=function(t){function e(){var t,n;xi(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];var a=(n=Ni(this,(t=Mi(e)).call.apply(t,[this].concat(i)))).el.getAttribute("data-src");return a&&n.el.setAttribute("src",a),n.el.onload=function(){n.publish(s.q)},n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vi(t,e)}(e,t),n=e,(o=[{key:"destroy",value:function(){zi(Mi(e.prototype),"destroy",this).call(this)}}])&&Bi(n.prototype,o),i&&Bi(n,i),e}(r.Component);function Ui(t){return(Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Hi(t,e){return!e||"object"!==Ui(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wi(t){return(Wi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ji(t,e){return(Ji=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yi=function(t){function e(){var t,n;Fi(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];if((n=Hi(this,(t=Wi(e)).call.apply(t,[this].concat(i)))).settings=JSON.parse(n.data.settings),n.inner=n.el.querySelector('[data-html-embed-el="inner"]'),n.thirdPartyConsentActivator=n.el.querySelector('[data-consent-el="activator"]'),n.thirdPartyConsentDeactivator=n.el.querySelector('[data-consent-el="deactivator"]'),n.consentHandlingPrepared=!1,n.settings.requireConsent){if(n.prepareConsentHandling(),!n.consentHandlingPrepared)return Hi(n);n.initThirdPartyConsentHandling()}else n.showEmbed();return n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ji(t,e)}(e,t),n=e,(o=[{key:"prepareConsentHandling",value:function(){this.activateThirdPartyConsentButton=this.thirdPartyConsentActivator.querySelector("button"),this.deactivateThirdPartyConsentButton=this.thirdPartyConsentDeactivator.querySelector("button"),this.privacyPolicyLink=this.thirdPartyConsentDeactivator.querySelector('[data-link-el="privacy-policy"]'),this.activateThirdPartyConsentButton&&this.deactivateThirdPartyConsentButton?this.privacyPolicyLink?this.consentHandlingPrepared=!0:console.error("privacy policy link is not present in consent deactivator"):console.error("Third party consent activator and deactivator dont have a button")}},{key:"initThirdPartyConsentHandling",value:function(){var t=this,e=function(e){e?(t.thirdPartyConsentActivator.classList.add("hidden"),t.thirdPartyConsentDeactivator.classList.remove("opacity-none"),t.thirdPartyConsentDeactivator.classList.remove("hidden"),t.privacyPolicyLink.setAttribute("tabindex","0"),t.showEmbed()):(t.thirdPartyConsentActivator.classList.remove("hidden"),t.privacyPolicyLink.setAttribute("tabindex","-1"))};e(q.a.instance.hasAcceptedThirdPartyConsent),this.subscribe(s.bb,(function(n){n.accepted?(e(n.accepted),t.showEmbed()):window.location.reload(!0)}))}},{key:"showEmbed",value:function(){this.inner.classList.remove("hidden")}}])&&Gi(n.prototype,o),i&&Gi(n,i),e}(r.Component);function Ki(t){return(Ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Qi(t,e){return!e||"object"!==Ki(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zi(t){return(Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tr(t,e){return(tr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var er=function(t){function e(){var t,n;Xi(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=Qi(this,(t=Zi(e)).call.apply(t,[this].concat(i)))).settings=JSON.parse(n.data.settings),n.loader=n.el.querySelector('[data-iframe-el="loader"]'),n.iframe=n.el.querySelector('[data-iframe-el="iframe"]'),n.isLoaded=!1,n.addMessageListener(),n.init(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tr(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.iframe&&(this.iframe.addEventListener("load",(function(){t.onLoaded()})),this.iframe.classList.remove("hidden"),this.iframe.classList.contains("lazyload")||this.iframe.classList.contains("lazytrigger")||this.loadSrc())}},{key:"addMessageListener",value:function(){var t=this;window.addEventListener("message",(function(e){var n=e.data;if(e.origin===new URL(t.settings.src).origin){try{n=JSON.parse(n)}catch(t){return}["resize","track"].includes(n.event)&&e.source===t.iframe.contentWindow&&("resize"===n.event&&n.height?(t.el.style.paddingBottom="".concat(n.height,"px"),t.isLoaded&&(t.el.style.minHeight="")):"track"===n.event&&tt.instance.push(n.payload))}}))}},{key:"loadSrc",value:function(){this.src&&this.iframe&&!this.iframe.getAttribute("src")&&this.iframe.setAttribute("src",this.src)}},{key:"onLoaded",value:function(){this.isLoaded=!0,this.loader&&this.loader.classList.add("hidden"),this.el.style.paddingBottom&&(this.el.style.minHeight="")}},{key:"src",get:function(){if(this._src)return this._src;var t=this.iframe?this.iframe.getAttribute("data-src"):void 0;return t?(this._src=t,this._src):""}}])&&$i(n.prototype,o),i&&$i(n,i),e}(r.Component);function nr(t){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function or(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ir(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function rr(t,e){return!e||"object"!==nr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ar(t,e,n){return(ar="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sr(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function sr(t){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cr(t,e){return(cr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lr=function(t){function e(){return or(this,e),rr(this,sr(e).apply(this,arguments))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cr(t,e)}(e,t),n=e,(o=[{key:"addMessageListener",value:function(){this.loadContent(),ar(sr(e.prototype),"addMessageListener",this).call(this)}},{key:"loadContent",value:function(){var t=new URLSearchParams(window.location.search),e=t.get("n2g"),n=t.get("action"),o=/^[a-zA-Z0-9-]+$/;if(e||n){var i=new URL(this.settings.src);e&&o.test(e)&&i.searchParams.set("n2g",e),n&&o.test(n)&&i.searchParams.set("action",n),this.iframe.dataset.src=i.href}else this.iframe.dataset.src=this.settings.src}}])&&ir(n.prototype,o),i&&ir(n,i),e}(er);function ur(t){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function yr(t,e){return!e||"object"!==ur(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dr(t,e,n){return(dr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hr(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function hr(t){return(hr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function br(t,e){return(br=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gr=function(t){function e(){var t,n;fr(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];(n=yr(this,(t=hr(e)).call.apply(t,[this].concat(i)))).settings={uuid:"",zoomAnimation:!1,zoomId:""};var a=n.data.settings?JSON.parse(n.data.settings):{};return n.settings=Object.assign(n.settings,a),n.settings.zoomable&&(n.zoomButton=n.el.querySelector('[data-image-el="zoomButton"]'),n.el.addEventListener("click",(function(){n.onZoom()})),n.subscribe(s.l,(function(t){t===n.settings.id&&n.onFocusCallback()}))),n.image=n.el.querySelector('[data-image-el="img"]'),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&br(t,e)}(e,t),n=e,(o=[{key:"onZoom",value:function(){this.publish(s.n,this.settings.zoomId)}},{key:"onFocusCallback",value:function(){this.zoomButton&&this.zoomButton.focus()}},{key:"destroy",value:function(){dr(hr(e.prototype),"destroy",this).call(this)}}])&&pr(n.prototype,o),i&&pr(n,i),e}(r.Component);function vr(t){return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Or(t,e){return!e||"object"!==vr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sr(t,e,n){return(Sr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kr(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function kr(t){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Er(t,e){return(Er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pr=function(t){function e(){var t,n;mr(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=Or(this,(t=kr(e)).call.apply(t,[this].concat(i))),"function"==typeof window.jwplayer?n.publish(s.s):n.el.onload=function(){n.publish(s.s)},n.initSrc(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Er(t,e)}(e,t),n=e,(o=[{key:"destroy",value:function(){Sr(kr(e.prototype),"destroy",this).call(this)}}])&&wr(n.prototype,o),i&&wr(n,i),e}(io);function _r(t){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ar(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Tr(t,e){return!e||"object"!==_r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lr(t,e,n){return(Lr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cr(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Cr(t){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ir(t,e){return(Ir=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rr=function(t){function e(){var t,n;Ar(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];var a=(n=Tr(this,(t=Cr(e)).call.apply(t,[this].concat(i)))).data.settings?JSON.parse(n.data.settings):{};return n.magazineImage=n.el.querySelector('[data-image-el="magazineImg"]'),n.magazineImage.onerror=function(){n.loadFallbackImage(a.fallbackImageUrl)},n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ir(t,e)}(e,t),n=e,(o=[{key:"loadFallbackImage",value:function(t){var e=this;this.disableImage(),this.magazineImage.src=t,this.magazineImage.onload=function(){e.showImage()},this.magazineImage.onerror=function(){e.disableImage()}}},{key:"showImage",value:function(){this.magazineImage.style.display="block"}},{key:"disableImage",value:function(){this.magazineImage.style.display="none"}},{key:"destroy",value:function(){Lr(Cr(e.prototype),"destroy",this).call(this)}}])&&jr(n.prototype,o),i&&jr(n,i),e}(r.Component);function Dr(t){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Br(t,e){return!e||"object"!==Dr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nr(t){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zr(t,e){return(zr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mr=function(t){function e(){return xr(this,e),Br(this,Nr(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zr(t,e)}(e,t),e}(Me);function Vr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var qr=Symbol("INSTANCE"),Ur=Symbol("SINGELTONENFORCER"),Fr=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==Ur)throw new Error("Instantiation failed: Use FeatureDetection.instance instead of new.");this.init()}var e,n,o;return e=t,o=[{key:"instance",get:function(){return this[qr]||(this[qr]=new t(Ur)),this[qr]}}],(n=[{key:"init",value:function(){this._supportsPassiveEventListener=this.getSupportsPassiveEventListener()}},{key:"getSupportsPassiveEventListener",value:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}return t}},{key:"supportsPassiveEventListener",get:function(){return this._supportsPassiveEventListener}}])&&Vr(e.prototype,n),o&&Vr(e,o),t}();function Gr(t){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Jr(t,e){return!e||"object"!==Gr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yr(t,e,n){return(Yr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Kr(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Kr(t){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xr(t,e){return(Xr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $r=Fr.instance,Qr=function(t){function e(){var t,n;Hr(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=Jr(this,(t=Kr(e)).call.apply(t,[this].concat(i))),k.a.isApp?Jr(n):(n.overlay=n.el.querySelector('[data-menu-el="overlay"]'),n.menuDrawer=n.el.querySelector('[data-menu-el="menuDrawer"]'),n.rightSwiper=n.el.querySelector('[data-menu-el="rightSwiper"]'),n.focusCatcher=n.el.querySelector('[data-menu-el="catchFocus"]'),n.subscribe(s.w,(function(){n.open()})),n.overlay.addEventListener("click",(function(){n.close()})),n.boundOnKeyDown=function(t){return n.onKeyDown(t)},n.initSwipe(),n)}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xr(t,e)}(e,t),n=e,(o=[{key:"initSwipe",value:function(){var t=this;this.initialX=null,this.initialY=null,this.el.addEventListener("touchstart",(function(e){return t.onTouchStart(e)}),!!$r.supportsPassiveEventListener&&{passive:!0}),this.rightSwiper.addEventListener("touchstart",(function(e){return t.onTouchStart(e)}),!!$r.supportsPassiveEventListener&&{passive:!0}),this.el.addEventListener("touchmove",(function(e){return t.onTouchMove(e)}),!!$r.supportsPassiveEventListener&&{passive:!0}),this.rightSwiper.addEventListener("touchmove",(function(e){return t.onTouchMove(e)}),!!$r.supportsPassiveEventListener&&{passive:!0})}},{key:"onTouchStart",value:function(t){this.initialX=t.touches[0].clientX,this.initialY=t.touches[0].clientY}},{key:"onTouchMove",value:function(t){if(null!==this.initialX&&null!==this.initialY){var e=t.touches[0].clientX,n=t.touches[0].clientY,o=this.initialX-e,i=this.initialY-n,r=i>-Math.abs(5)&&i<Math.abs(5);Math.abs(o)>Math.abs(i)&&(o>0&&r?this.close():this.open()),this.initialX=null,this.initialY=null}}},{key:"open",value:function(){var t=this;this.overlay.classList.add("fixed"),this.el.setAttribute("aria-hidden",!1),this.el.classList.toggle("hidden",!1),window.setTimeout((function(){t.menuDrawer.style.transform="translateX(0px)"}),0),this.focusDrawer(),window.document.addEventListener("keydown",this.boundOnKeyDown,!0)}},{key:"close",value:function(){var t=this;this.overlay.classList.remove("fixed"),this.el.setAttribute("aria-hidden",!0),window.setTimeout((function(){t.menuDrawer.style.transform="translateX(-320px)"}),0),this.el.addEventListener("transitionend",(function e(){t.el.classList.toggle("hidden",!0),t.el.removeEventListener("transitionend",e)})),"function"==typeof this.boundOnKeyDown&&window.document.removeEventListener("keydown",this.boundOnKeyDown,!0)}},{key:"focusDrawer",value:function(){this.focusCatcher.focus()}},{key:"onKeyDown",value:function(t){t.defaultPrevented||"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||(t.preventDefault(),this.close())}},{key:"destroy",value:function(){Yr(Kr(e.prototype),"destroy",this).call(this)}}])&&Wr(n.prototype,o),i&&Wr(n,i),e}(r.Component);function Zr(t){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ta(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ea(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function na(t,e){return!e||"object"!==Zr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oa(t,e,n){return(oa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ia(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function ia(t){return(ia=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ra(t,e){return(ra=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var aa=function(t){function e(){var t,n;ta(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=na(this,(t=ia(e)).call.apply(t,[this].concat(i)))).el.id&&document.querySelectorAll('main [id="'.concat(n.el.id,'"]'))&&(n.initLayer(),n.initLinks()),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ra(t,e)}(e,t),n=e,(o=[{key:"initLayer",value:function(){var t=this;this.hash=this.el.id,this.el.removeAttribute("id"),window.history.scrollRestoration="manual",this.layerService=nn.a.instance,this.layerService.register(this),this.subscribe(s.j,(function(e){return t.onActiveLayerChanged(e)})),window.location.hash&&window.location.hash==="#".concat(this.hash)&&this.publish(s.n,this.id)}},{key:"initLinks",value:function(){var t=this;Array.from(document.querySelectorAll('main a[href="#'.concat(this.hash,'"]'))).forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),t.publish(s.n,t.id)}))}))}},{key:"onExpand",value:function(){oa(ia(e.prototype),"onExpand",this).call(this),this.switchEl.classList.add("bg-sec2-lightest")}},{key:"onCollapse",value:function(){oa(ia(e.prototype),"onCollapse",this).call(this),this.switchEl.classList.remove("bg-sec2-lightest")}},{key:"onActiveLayerChanged",value:function(t){t===this.id&&this.el.scrollIntoView()}},{key:"open",value:function(){this.expand()}},{key:"close",value:function(){this.collapse()}}])&&ea(n.prototype,o),i&&ea(n,i),e}(Me);n(236),n(177);function sa(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ca=Symbol("INSTANCE"),la=Symbol("SINGELTONENFORCER"),ua=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==la)throw new Error("Instantiation failed: Use Secretbox.instance instead of new.");this._state="STATE_LOADING",this.key=q.a.instance.secretboxKey,this.key?this.init():this._state="STATE_ERROR"}var e,o,i;return e=t,i=[{key:"instance",get:function(){return this[ca]||(this[ca]=new t(la)),this[ca]}}],(o=[{key:"init",value:function(){var t=this;Promise.all([Promise.all([n.e(2),n.e(12)]).then(n.t.bind(null,263,7)),n.e(2).then(n.t.bind(null,264,7)),n.e(2).then(n.t.bind(null,265,7))]).then((function(e){t.secretbox=e[0].secretbox,t.decodeBase64=e[1].decode,t.encodeUTF8=e[2].decode,t._state="STATE_READY",window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(s.N)})).catch((function(e){t._state="STATE_ERROR",console.error(e.message)}))}},{key:"decrypt",value:function(t){if("STATE_READY"!==this.state){var e="";switch(this.state){case"STATE_ERROR":e="Secretbox is not available";break;case"STATE_LOADING":e="Secretbox is not yet ready";break;default:e="Secretbox has not been initialized"}return console.error(e),""}var n=this.decodeBase64(this.key),o=this.decodeBase64(t),i=o.slice(0,this.secretbox.nonceLength),r=o.slice(this.secretbox.nonceLength),a=this.secretbox.open(r,i,n);return a?this.encodeUTF8(a):(console.error("Could not decrypt message"),"")}},{key:"ready",get:function(){return"STATE_READY"===this.state}},{key:"state",get:function(){return this._state}}])&&sa(e.prototype,o),i&&sa(e,i),t}();n(70);function fa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function pa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ya(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var da=Symbol("INSTANCE"),ha=Symbol("SINGELTONENFORCER"),ba=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==ha)throw new Error("Instantiation failed: Use OmnyStudio.instance instead of new.");this.init()}var e,n,i;return e=t,i=[{key:"instance",get:function(){return this[da]||(this[da]=new t(ha)),this[da]}}],(n=[{key:"init",value:function(){var t=o.a.instance;t.thirdparty&&t.thirdparty.omny&&t.thirdparty.omny.apiUrl&&t.thirdparty.omny.orgId?(this.apiUrl=t.thirdparty.omny.apiUrl,this.orgId=t.thirdparty.omny.orgId,this.programs=t.thirdparty.omny.programs?t.thirdparty.omny.programs:{}):console.error("OmnyStudio requires apiUrl and orgId for correct instantiation.")}},{key:"getClipByClipId",value:function(t){var e=this;if(!t||"string"!=typeof t)return Promise.reject(new Error("OmnyStudio getClipByClipId - missing valid clipId function param"));var n="".concat(this.apiUrl,"/orgs/").concat(this.orgId,"/clips/").concat(t);return new Promise((function(o,i){e.fetchUrl(n).then((function(n){if(n){var r=e.sanitizeFieldsInObject(n,["Title","Description"]);o(r)}else i(new Error("OmnyStudio getClipByClipId - no clip found for clipId: ".concat(t)))})).catch((function(t){return i(t)}))}))}},{key:"getClipByPlaylistId",value:function(t){var e=this;if(!t||"string"!=typeof t)return Promise.reject(new Error("OmnyStudio getClipByPlaylistId - missing valid playlistId function param"));var n="".concat(this.apiUrl,"/orgs/").concat(this.orgId,"/playlists/").concat(t,"/clips");return new Promise((function(o,i){e.fetchUrl(n).then((function(n){var r=n.Clips&&Array.isArray(n.Clips)&&"undefined"!==n.Clips[0]?n.Clips[0]:void 0;if(r){var a=e.sanitizeFieldsInObject(r,["Title","Description"]);o(a)}else i(new Error("OmnyStudio getClipByPlaylistId - no clip found for playlistId: ".concat(t)))})).catch((function(t){return i(t)}))}))}},{key:"getClipsByPlaylistId",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;if(!t||"string"!=typeof t)return Promise.reject(new Error("OmnyStudio getClipByPlaylistId - missing valid playlistId function param"));var o="".concat(this.apiUrl,"/orgs/").concat(this.orgId,"/playlists/").concat(t,"/clips?pageSize=").concat(n);return new Promise((function(n,i){e.fetchUrl(o).then((function(o){var r=o.Clips&&Array.isArray(o.Clips)&&o.Clips.length>0?o.Clips:void 0;if(r){var a=r.map((function(t){return e.sanitizeFieldsInObject(t,["Title","Description"])}));n(a)}else i(new Error("OmnyStudio getClipsByPlaylistId - no clips found for playlistId: ".concat(t)))})).catch((function(t){return i(t)}))}))}},{key:"getPlaylistByPlaylistId",value:function(t){var e=this;if(!t||"string"!=typeof t)return Promise.reject(new Error("OmnyStudio getPlaylistByPlaylistId - missing valid playlistId function param"));var n="".concat(this.apiUrl,"/orgs/").concat(this.orgId,"/playlists/").concat(t);return new Promise((function(o,i){e.fetchUrl(n).then((function(n){if(n){var r=e.sanitizeFieldsInObject(n,["Title","Description"]);o(r)}else i(new Error("OmnyStudio getPlaylistByPlaylistId - no playlist found for playlistId: ".concat(t)))})).catch((function(t){return i(t)}))}))}},{key:"getPlaylistIdFromClip",value:function(t){return void 0!==t&&t.PlaylistIds&&Array.isArray(t.PlaylistIds)?t.PlaylistIds[0]:""}},{key:"getProgramIdFromClip",value:function(t){return void 0!==t&&t.ProgramId?t.ProgramId:""}},{key:"getProgramNameByProgramId",value:function(t){return this.programs[t]&&this.programs[t].name?this.programs[t].name:""}},{key:"getPlayButtonLabelByProgramId",value:function(t){return t&&this.programs[t]&&this.programs[t].playButtonLabel?this.programs[t].playButtonLabel:""}},{key:"getReplayButtonLabelByProgramId",value:function(t){return t&&this.programs[t]&&this.programs[t].replayButtonLabel?this.programs[t].replayButtonLabel:""}},{key:"fetchUrl",value:function(t){return fetch(t,{method:"GET",headers:{"Content-Type":"text/plain"}}).then((function(t){return 200!==t.status?Promise.reject(new Error("OmnyStudio fetchUrl - failed to get data from API, URL: ".concat(t.url))):t.json()}))}},{key:"sanitizeFieldsInObject",value:function(t,e){var n=this,o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fa(Object(n),!0).forEach((function(e){pa(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);return e.forEach((function(t){o[t]&&"string"==typeof o[t]&&(o[t]=n.sanitizeString(o[t]))})),o}},{key:"sanitizeString",value:function(t){return t.replace(/[AOUaou]\u0308/g,(function(t){switch(t.charCodeAt(0)){case 65:return"Ä";case 79:return"Ö";case 85:return"Ü";case 97:return"ä";case 111:return"ö";case 117:return"ü";default:return t}}))}}])&&ya(e.prototype,n),i&&ya(e,i),t}();function ga(t){return(ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function va(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ma(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function wa(t,e){return!e||"object"!==ga(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oa(t,e,n){return(Oa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sa(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Sa(t){return(Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ka(t,e){return(ka=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ea=function(t){function e(){var t,n;va(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=wa(this,(t=Sa(e)).call.apply(t,[this].concat(i))),k.a.isApp?(n.settings=At.a.parseBase64Settings(n.data.settings),n.audios=Array.isArray(n.settings.audios)&&n.settings.audios.length>0?n.settings.audios:null,n.audios?(n.omnyStudio=ba.instance,n.clips=[],n._errorOccurred=!1,n):wa(n)):wa(n)}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ka(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this.audios.filter((function(t){return t.isEncrypted})).length>0;t&&!q.a.instance.secretboxKey||(t?ua.instance.ready?this.onSecretboxReady():this.subscribe(s.N,this.onSecretboxReady,this):this.onInitialized())}},{key:"onSecretboxReady",value:function(){var t=ua.instance;this.audios.forEach((function(e){e.isEncrypted&&e.omnystudioClipId&&(e.omnystudioClipId=t.decrypt(e.omnystudioClipId)),e.isEncrypted&&e.omnystudioPlaylistId&&(e.omnystudioPlaylistId=t.decrypt(e.omnystudioPlaylistId))})),this.onInitialized()}},{key:"onInitialized",value:function(){}},{key:"loadData",value:function(){var t=this;return new Promise((function(e,n){Promise.all(t.audios.map((function(e){return e.omnystudioPlaylistId?t.fetchOmnyDataByPlaylistId(e.omnystudioPlaylistId):e.omnystudioClipId?t.fetchOmnyDataByClipId(e.omnystudioClipId):Promise.resolve(null)}))).then((function(o){if(Array.isArray(o)&&o.forEach((function(e){if(e){var n=t.convertOmnyDataToAppClip(e);n&&t.clips.push(n)}})),0===t.clips.length){var i=new Error("Error while fetching and parsing Omny data.");console.error(i.message),t._errorOccurred=!0,n(i)}e()})).catch((function(e){console.error(e.message),t._errorOccurred=!0,n(e)}))}))}},{key:"fetchOmnyDataByClipId",value:function(t){var e=this;return new Promise((function(n,o){var i={};e.omnyStudio.getClipByClipId(t).then((function(t){return i.clip=t,i.playlistId=e.omnyStudio.getPlaylistIdFromClip(t),i.programId=e.omnyStudio.getProgramIdFromClip(t),i.playlistId||(i.programName=i.programId?e.omnyStudio.getProgramNameByProgramId(i.programId):"",n(i)),e.omnyStudio.getPlaylistByPlaylistId(i.playlistId)})).then((function(t){i.playlist=t,n(i)})).catch((function(t){return o(t)}))}))}},{key:"fetchOmnyDataByPlaylistId",value:function(t){var e=this;return new Promise((function(n,o){var i={};e.omnyStudio.getClipByPlaylistId(t).then((function(n){return i.clip=n,e.omnyStudio.getPlaylistByPlaylistId(t)})).then((function(t){i.playlist=t,n(i)})).catch((function(t){return o(t)}))}))}},{key:"convertOmnyDataToAppClip",value:function(t){if(!t.clip)return null;var e=null;t.clip.ImageUrl?(e=new URL(t.clip.ImageUrl)).searchParams.set("size","small"):t.playlist&&t.playlist.ArtworkUrl&&(e=new URL(t.playlist.ArtworkUrl)).searchParams.set("size","small");var n=[];return t.playlist&&t.playlist.DirectoryLinks&&Object.keys(t.playlist.DirectoryLinks).forEach((function(e){if(t.playlist.DirectoryLinks[e])switch(e){case"ApplePodcasts":var o=t.playlist.DirectoryLinks.ApplePodcasts;-1===o.indexOf("https://podcasts.apple.com/")&&-1===o.indexOf("https://geo.itunes.apple.com/")||n.push({id:"apple-podcasts",service:o});break;case"GooglePodcasts":var i=t.playlist.DirectoryLinks.GooglePodcasts;i&&n.push({id:"google-podcasts",service:i});break;case"Spotify":var r=t.playlist.DirectoryLinks.Spotify;-1!==r.indexOf("https://open.spotify.com/")&&n.push({id:"spotify",service:r});break;case"Stitcher":var a=t.playlist.DirectoryLinks.Stitcher;-1!==a.indexOf("https://castbox.fm/")&&n.push({id:"castbox",service:a});break;case"TuneIn":case"GooglePlay":break;case"RssFeed":var s=t.playlist.DirectoryLinks.RssFeed;s&&n.push({id:"rss",service:s})}})),n.find((function(t){return"apple-podcasts"===t.id}))||n.push({id:"apple-podcasts",service:""}),{id:t.clip.Id?t.clip.Id:"",audioUrl:this.getStreamUrlByOmnyClip(t.clip),downloadUrl:this.getDownloadUrlByOmnyClip(t.clip),posterUrl:e?e.href:"",clients:n,duration:t.clip.DurationSeconds?Math.round(1e3*t.clip.DurationSeconds):-1,headline:t.clip.Title?t.clip.Title:"",kicker:t.playlist&&t.playlist.Title?t.playlist.Title:t.programName?t.programName:"",flags:this.getFlagsByClipId(t.clip.Id),playButtonLabel:this.omnyStudio.getPlayButtonLabelByProgramId(t.programId),replayButtonLabel:this.omnyStudio.getReplayButtonLabelByProgramId(t.programId)}}},{key:"getStreamUrlByOmnyClip",value:function(t){if(!t.AudioUrl)return"";var e=new URL(t.AudioUrl);return k.a.isIOSApp?e.searchParams.set("utm_source","CustomPlayer3"):k.a.isAndroidApp&&e.searchParams.set("utm_source","CustomPlayer4"),e.href}},{key:"getDownloadUrlByOmnyClip",value:function(t){if(!t.AudioUrl)return"";var e=new URL(t.AudioUrl);return k.a.isIOSApp?e.searchParams.set("utm_source","CustomPlayer8"):k.a.isAndroidApp&&e.searchParams.set("utm_source","CustomPlayer9"),e.searchParams.set("download","true"),e.href}},{key:"getFlagsByClipId",value:function(t){var e=[];return this.audios.forEach((function(n){n.omnystudioClipId===t&&Array.isArray(n.flags)&&n.flags.forEach((function(t){var n=t.replace(new RegExp("-(paid|conditional)","g"),"");e.push(n)}))})),e}},{key:"getArticleIdByClipId",value:function(t){var e="";return this.audios.forEach((function(n){n.omnystudioClipId===t&&n.articleId&&(e=n.articleId)})),e}},{key:"destroy",value:function(){Oa(Sa(e.prototype),"destroy",this).call(this)}},{key:"errorOccurred",get:function(){return this._errorOccurred}},{key:"eventPayload",get:function(){if(0===this.clips.length)return{};var t=this.clips[0];return{show:t.kicker?t.kicker:"",title:t.headline?t.headline:"",audioUrl:t.audioUrl?t.audioUrl:"",duration:t.duration?t.duration:-1,id:t.id?t.id:"",articleId:t.id?this.getArticleIdByClipId(t.id):""}}}])&&ma(n.prototype,o),i&&ma(n,i),e}(r.Component);function Pa(t){return(Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aa(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ja(t,e){return!e||"object"!==Pa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ta(t,e,n){return(Ta="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=La(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function La(t){return(La=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ca(t,e){return(Ca=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ia=function(t){function e(){var t,n;_a(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=ja(this,(t=La(e)).call.apply(t,[this].concat(i))),k.a.isApp?(n.player=n.el.querySelector("[data-native-audio-player-el=player]"),n.loader=n.el.querySelector("[data-native-audio-player-el=loader]"),n.poster=n.el.querySelector("[data-native-audio-player-el=poster]"),n.kicker=n.el.querySelector("[data-native-audio-player-el=kicker]"),n.headline=n.el.querySelector("[data-native-audio-player-el=headline]"),n.playButton=n.el.querySelector("[data-native-audio-player-el=playButton]"),n.playButtonLabel=n.el.querySelector("[data-native-audio-player-el=playButtonLabel]"),n.replayButton=n.el.querySelector("[data-native-audio-player-el=replayButton]"),n.replayButtonLabel=n.el.querySelector("[data-native-audio-player-el=replayButtonLabel]"),n.state="STATE_LOADING",n.clip=null,n.init(),n):ja(n)}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ca(t,e)}(e,t),n=e,(o=[{key:"onInitialized",value:function(){var t=this;this.loadData().then((function(){t.clips.length>0?(t.clip=t.clips[0],t.initPlayer(),setTimeout((function(){t.state="STATE_DEFAULT"}),2e3)):t.state="STATE_ERROR"})).catch((function(){t.state="STATE_ERROR"}))}},{key:"initPlayer",value:function(){var t=this;this.clip&&(this.poster&&this.clip.posterUrl&&this.poster.setAttribute("src",this.clip.posterUrl),this.kicker&&(this.kicker.innerHTML=this.clip.kicker?this.clip.kicker:""),this.headline&&(this.headline.innerHTML=this.clip.headline?this.clip.headline:""),this.playButton&&(this.boundOnPlay=function(){t.onPlay()},this.playButton.addEventListener("click",this.boundOnPlay)),this.playButtonLabel&&this.clip.playButtonLabel&&(this.playButtonLabel.innerHTML=this.clip.playButtonLabel),this.replayButton&&(this.boundOnReplay=function(){t.onReplay()},this.replayButton.addEventListener("click",this.boundOnReplay)),this.replayButtonLabel&&this.clip.replayButtonLabel&&(this.replayButtonLabel.innerHTML=this.clip.replayButtonLabel),this.publish(s.D,this.eventPayload),this.state="STATE_DEFAULT")}},{key:"onPlay",value:function(){var t=this;b.a.instance.triggerNativeAudioPlayer(this.clip),this.publish(s.E,this.eventPayload),this.playButton.setAttribute("disabled",""),setTimeout((function(){t.replayButton&&(t.playButton.classList.add("hidden"),t.replayButton.classList.remove("hidden"))}),2e3)}},{key:"onReplay",value:function(){var t=this;b.a.instance.triggerNativeAudioPlayer(this.clip),this.publish(s.F,this.eventPayload),this.replayButton.setAttribute("disabled",""),setTimeout((function(){t.replayButton.removeAttribute("disabled")}),2e3)}},{key:"destroy",value:function(){this.playButton&&this.boundOnPlay&&this.playButton.removeEventListener("click",this.boundOnPlay),this.replayButton&&this.boundOnReplay&&this.replayButton.removeEventListener("click",this.boundOnReplay),Ta(La(e.prototype),"destroy",this).call(this)}},{key:"state",get:function(){return this._state},set:function(t){switch(this._state=t,t){case"STATE_LOADING":case"STATE_ERROR":At.a.toggleElementVisibility(this.player,!1),At.a.toggleElementVisibility(this.loader,!0);break;case"STATE_DEFAULT":default:At.a.toggleElementVisibility(this.player,!0),At.a.toggleElementVisibility(this.loader,!1)}}}])&&Aa(n.prototype,o),i&&Aa(n,i),e}(Ea);function Ra(t){return(Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Da(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xa(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ba(t,e){return!e||"object"!==Ra(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Na(t,e,n){return(Na="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=za(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function za(t){return(za=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ma(t,e){return(Ma=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Va=function(t){function e(){var t,n;Da(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=Ba(this,(t=za(e)).call.apply(t,[this].concat(i)))).thumbnail=n.el.querySelector('[data-nativevideo-el="thumbnail"]'),n.playButton=n.el.querySelector('[data-nativevideo-el="playButton"]'),n.video=n.el.querySelector('[data-nativevideo-el="video"]'),n.videoSource=n.video.querySelector("source"),n.videoUrl=!!n.videoSource&&!!n.videoSource.dataset&&n.videoSource.dataset.src&&n.videoSource.dataset.src,n.videoUrl?(n.thumbnail?(n.boundOnClick=function(){n.onClick()},n.playButton.addEventListener("click",n.boundOnClick),n.thumbnail.addEventListener("click",n.boundOnClick)):(n.boundOnLazyLoad=function(t){t.target===n.el&&n.onLazyLoad()},n.el.addEventListener("lazybeforeunveil",n.boundOnLazyLoad)),n):(console.error("Video has no source"),Ba(n))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ma(t,e)}(e,t),n=e,(o=[{key:"onClick",value:function(){var t=this;this.setVideoSource(),this.showVideo(),setTimeout((function(){t.video.play()}),0),this.removeEventListeners()}},{key:"onLazyLoad",value:function(){this.setVideoSource(),this.showVideo()}},{key:"setVideoSource",value:function(){var t=this;this.videoSource.setAttribute("src",this.videoUrl),setTimeout((function(){t.video.load(),t.video.play(),t.video.pause()}),0)}},{key:"showVideo",value:function(){this.thumbnail&&this.thumbnail.classList.add("hidden"),this.video.classList.remove("hidden")}},{key:"removeEventListeners",value:function(){this.thumbnail?(this.playButton.removeEventListener("click",this.boundOnClick),this.thumbnail.removeEventListener("click",this.boundOnClick)):this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyLoad)}},{key:"destroy",value:function(){this.removeEventListeners(),Na(za(e.prototype),"destroy",this).call(this)}}])&&xa(n.prototype,o),i&&xa(n,i),e}(r.Component),qa=n(114),Ua=n.n(qa),Fa=n(65);function Ga(t){return(Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ha(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wa(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ja(t,e){return!e||"object"!==Ga(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ya(t,e,n){return(Ya="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ka(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Ka(t){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xa(t,e){return(Xa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Fa.b.use([Fa.a]);var $a=function(t){function e(){var t,n;Ha(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];(n=Ja(this,(t=Ka(e)).call.apply(t,[this].concat(i)))).settings=JSON.parse(n.data.settings);var a=window.getComputedStyle(n.el).fontFamily.split(", ")[0];if("serif"!==a&&"sans-serif"!==a){var s=new Ua.a(a);s.load().then((function(){n.initSwiper()}),(function(){n.initSwiper(),s.load(null,1e4).then((function(){n.swiper.update()}),(function(){console.error("".concat(a," font is not available"))}))}))}else n.initSwiper();return n.initSearch(),n.initMenuActivator(),n.initLatestNews(),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xa(t,e)}(e,t),n=e,(i=[{key:"initSwiper",value:function(){var t=this,e=this.el.querySelector(".swiper-container"),n=this.el.querySelector('[data-swiper-el="prevEl"]'),o=this.el.querySelector('[data-swiper-el="nextEl"]'),i=this.settings.isBreadcrumb;this.swiper=new Fa.b(e,{freeMode:!0,slidesPerView:"auto",navigation:{nextEl:o,prevEl:n,disabledClass:"hidden"},on:{init:function(){if(i)this.slideTo(this.slides.length-1,500,!1);else{var t=Array.from(this.slides).findIndex((function(t){return t.dataset.itemActive}));this.slideTo(t-1,500,!1)}},reachBeginning:function(){t.onSwiperReachBeginning()},fromEdge:function(){t.onSwiperFromEdge()}}})}},{key:"initSearch",value:function(){var t=this;this.searchFormEl=this.el.querySelector('[data-search-el="form"]'),this.searchFormEl.style.transition="width .3s ease-out",this.searchToggleContainerEl=this.el.querySelector('[data-search-el="toggle-container"]'),this.searchInputContainerEl=this.el.querySelector('[data-search-el="input-container"]');var e=this.el.querySelector('[data-search-el="toggle"]'),n=this.el.querySelector('[data-search-el="submit"]');this.searchInputEl=this.el.querySelector('[data-search-el="input"]'),this.searchFormEl.addEventListener("transitionend",(function(){t.swiper.update(),t.searchFormEl.classList.contains("lg:w-4/12")||t.toggleSearchContainer(!1)})),e.addEventListener("click",(function(){t.toggleSearchContainer(!0),t.searchFormEl.classList.add("lg:w-4/12"),t.searchFormEl.classList.add("md:w-5/12"),t.searchInputEl.focus()})),n.addEventListener("click",(function(){t.submitForm()||(t.searchFormEl.classList.remove("lg:w-4/12"),t.searchFormEl.classList.remove("md:w-5/12"))})),document.addEventListener("click",(function(e){t.searchFormEl.contains(e.target)||(t.searchFormEl.classList.remove("lg:w-4/12"),t.searchFormEl.classList.remove("md:w-5/12"))})),this.searchFormEl.addEventListener("submit",(function(e){e.preventDefault(),t.submitForm()}))}},{key:"toggleSearchContainer",value:function(t){this.searchToggleContainerEl.classList.toggle("hidden",t),this.searchInputContainerEl.classList.toggle("hidden",!t),this.searchInputContainerEl.classList.toggle("relative",t),this.searchInputContainerEl.classList.toggle("absolute",!t),this.searchInputContainerEl.classList.toggle("pointer-events-none",!t),this.searchInputContainerEl.classList.toggle("opacity-none",!t),this.searchInputContainerEl.setAttribute("aria-hidden",!t)}},{key:"submitForm",value:function(){return!!this.searchInputEl.value&&(document.location.replace("".concat(o.a.instance.urls.base,"/suche/?").concat(this.searchInputEl.name,"=").concat(this.searchInputEl.value)),!0)}},{key:"initMenuActivator",value:function(){var t=this;this.el.querySelector('[data-navbar-el="menuActivator"]').addEventListener("click",(function(){t.publish(s.w)}))}},{key:"initLatestNews",value:function(){this.latestNewsTooltip=this.el.querySelector('[data-navbar-el="latestNewsTooltip"]')}},{key:"onSwiperFromEdge",value:function(){this.latestNewsTooltip&&(this.latestNewsTooltip.style.visibility="hidden")}},{key:"onSwiperReachBeginning",value:function(){this.latestNewsTooltip&&(this.latestNewsTooltip.style.visibility="visible")}},{key:"destroy",value:function(){Ya(Ka(e.prototype),"destroy",this).call(this)}}])&&Wa(n.prototype,i),r&&Wa(n,r),e}(r.Component);n(237);function Qa(t){return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Za(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ts(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function es(t,e){return!e||"object"!==Qa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ns(t,e,n){return(ns="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=os(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function os(t){return(os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function is(t,e){return(is=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rs=function(t){function e(){var t,n;Za(this,e);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];n=es(this,(t=os(e)).call.apply(t,[this].concat(r)));var s=E.a.instance;return s.isIssueArticle?es(n):(n._src="//widgets.outbrain.com/outbrain.js",n.consentDisabled=!(!o.a.instance.consent||"boolean"!=typeof o.a.instance.consent.disabled)&&o.a.instance.consent.disabled,n.settings=JSON.parse(n.data.outbrainSettings),n.app=!!k.a.isApp&&k.a.appCode,n.outbrainId=String(),n.init(),n)}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&is(t,e)}(e,t),n=e,(i=[{key:"init",value:function(){this.determineOutbrainId(),this.outbrainId&&(this.setTrackingReducedVersion(),this.embedOutbrainScript(),this.embedOutbrainElement(),this.initSrc())}},{key:"determineOutbrainId",value:function(){var t=this,e="web";"android"===this.app?e="android":"ios"===this.app&&(e="ios");var n=Array.from(this.settings.widgetIDs).filter((function(n){return n.ads===!t.settings.noAds&&n.guaranteed===t.settings.guaranteed&&n.type===t.settings.type&&n.device===e?n.id:null}));this.outbrainId=n[0]&&n[0].id?n[0].id:null}},{key:"setTrackingReducedVersion",value:function(){if(this.consentDisabled){var t="OB_ContextKeyValue";window[t]||(window[t]="notracking")}}},{key:"embedOutbrainScript",value:function(){var t='<script type"text/javascript" async="async" data-outbrain-el="script"><\/script>'.trim();this.embedToWrapper(t)}},{key:"embedOutbrainElement",value:function(){var t={};k.a.isApp&&(t["data-ob-installation-type"]="app_js_widget",t["data-is-secured"]="true",t["data-ob-installation-key"]=this.partnerKey,t["data-ob-user-id"]=b.a.instance.advertisingId?b.a.instance.advertisingId:"null",t["data-ob-app-ver"]=b.a.instance.bundleId?b.a.instance.bundleId:"");var e='\n            <div class="outbrain-container">\n                <div id="'.concat(this.outbrainId,'"\n                    class="OUTBRAIN"\n                    data-src="').concat(this.settings.src,'"\n                    data-widget-id="').concat(this.outbrainId,'"\n                    data-ob-template="').concat(this.settings.template||"DE_SPIEGEL",'"\n        ');Object.keys(t).forEach((function(n){e+="".concat(n,'="').concat(t[n],'"\n            ')})),e+=">\n                </div>\n            </div>\n        ",this.embedToWrapper(e.trim())}},{key:"embedToWrapper",value:function(t){if(t)try{this.el.appendChild(document.createRange().createContextualFragment(t))}catch(e){this.el.insertAdjacentHTML("beforeend",t)}}},{key:"destroy",value:function(){this.el.innerHTML="",ns(os(e.prototype),"destroy",this).call(this)}},{key:"partnerKey",get:function(){return k.a.isApp&&(k.a.isAndroidApp||k.a.isIOSApp)?this.settings.partnerKeys["".concat(k.a.isAndroidApp?"android":"ios").concat(P.a.isTablet?"Tablet":"Mobile")]:""}},{key:"src",get:function(){return this._src}},{key:"scriptEl",get:function(){return this.el.querySelector('[data-outbrain-el="script"]')}}])&&ts(n.prototype,i),r&&ts(n,r),e}(io);function as(t){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ss(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cs(t,e){return!e||"object"!==as(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ls(t){return(ls=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function us(t,e){return(us=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fs=function(t){function e(){var t,n;ss(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=cs(this,(t=ls(e)).call.apply(t,[this].concat(i)))).subscribe(s.A,(function(t){n.el.classList.toggle("hidden",t&&t.expandHeader)})),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&us(t,e)}(e,t),e}(r.Component);function ps(t){return(ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ys(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ds(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function hs(t,e){return!e||"object"!==ps(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bs(t,e,n){return(bs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gs(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function gs(t){return(gs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vs(t,e){return(vs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ms=function(t){function e(){var t,n;ys(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=hs(this,(t=gs(e)).call.apply(t,[this].concat(i))),k.a.isApp?(n.isInitialized=!1,n.isClickPending=!1,n.icon=n.el.querySelector("[data-play-button-el=icon]"),n.loader=n.el.querySelector("[data-play-button-el=loader]"),n.label=n.el.querySelector("[data-play-button-el=label]"),n.state="STATE_DEFAULT",n.event=s.E,n.boundOnClick=function(t){return n.onClick(t)},n.el.addEventListener("click",n.boundOnClick),n.init(),n):hs(n)}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vs(t,e)}(e,t),n=e,(o=[{key:"onInitialized",value:function(){this.isInitialized||(this.isInitialized=!0,this.isClickPending&&(this.play(),this.isClickPending=!1))}},{key:"onClick",value:function(t){t.preventDefault(),"STATE_DEFAULT"===this.state&&(this.state="STATE_LOADING",this.isInitialized?this.play():this.isClickPending=!0)}},{key:"play",value:function(){var t=this;this.errorOccurred?this.state="STATE_ERROR":this.clips.length>0?this.triggerPlay():this.loadData().then((function(){t.triggerPlay()})).catch((function(){t.errorOccurred=!0,t.state="STATE_ERROR"}))}},{key:"triggerPlay",value:function(){var t=this;if(0!==this.clips.length){this.state="STATE_DISABLED";var e=b.a.instance;"function"==typeof e.triggerNativeAudioPlayer&&(e.triggerNativeAudioPlayer(this.clips[0]),this.publish(this.event,this.eventPayload)),this.event=s.F,setTimeout((function(){t.state="STATE_DEFAULT"}),2e3)}}},{key:"destroy",value:function(){this.boundOnClick&&(this.el.removeEventListener("click",this.boundOnClick),this.boundOnClick=null),bs(gs(e.prototype),"destroy",this).call(this)}},{key:"state",get:function(){return this._state},set:function(t){switch(this._state=t,t){case"STATE_LOADING":this.el.setAttribute("disabled",""),At.a.toggleElementVisibility(this.icon,!1),At.a.toggleElementVisibility(this.loader,!0),this.label.classList.remove("group-hover:border-black","group-focus:border-transparent");break;case"STATE_ERROR":case"STATE_DISABLED":this.el.setAttribute("disabled",""),At.a.toggleElementVisibility(this.icon,!0),At.a.toggleElementVisibility(this.loader,!1),this.label.classList.remove("group-hover:border-black","group-focus:border-transparent");break;case"STATE_DEFAULT":default:this.el.removeAttribute("disabled"),At.a.toggleElementVisibility(this.icon,!0),At.a.toggleElementVisibility(this.loader,!1),this.label.classList.add("group-hover:border-black","group-focus:border-transparent")}}}])&&ds(n.prototype,o),i&&ds(n,i),e}(Ea);function ws(t){return(ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Os(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ss(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ks(t,e){return!e||"object"!==ws(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Es(t,e,n){return(Es="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ps(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Ps(t){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _s(t,e){return(_s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var As=function(t){function e(){var t,n;Os(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=ks(this,(t=Ps(e)).call.apply(t,[this].concat(i))),k.a.isApp?(n.isInitialized=!1,n.isClickPending=!1,n.icon=n.el.querySelector("[data-playlist-button-el=icon]"),n.loader=n.el.querySelector("[data-playlist-button-el=loader]"),n.label=n.el.querySelector("[data-playlist-button-el=label]"),n.state="STATE_DEFAULT",n.boundOnClick=function(t){return n.onClick(t)},n.el.addEventListener("click",n.boundOnClick),n.init(),n):ks(n)}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_s(t,e)}(e,t),n=e,(o=[{key:"onInitialized",value:function(){this.isInitialized||(this.isInitialized=!0,this.isClickPending&&(this.addToPlaylist(),this.isClickPending=!1))}},{key:"onClick",value:function(t){t.preventDefault(),"STATE_DEFAULT"===this.state&&(this.state="STATE_LOADING",this.isInitialized?this.addToPlaylist():this.isClickPending=!0)}},{key:"addToPlaylist",value:function(){var t=this;this.errorOccurred?this.state="STATE_ERROR":this.clips.length>0?this.triggerAddToPlaylist():this.loadData().then((function(){t.triggerAddToPlaylist()})).catch((function(){t.state="STATE_ERROR"}))}},{key:"triggerAddToPlaylist",value:function(){var t=this;if(0!==this.clips.length){this.state="STATE_DISABLED";var e=b.a.instance;"function"==typeof e.triggerAddToAudioPlaylist&&e.triggerAddToAudioPlaylist(this.clips),setTimeout((function(){t.state="STATE_DEFAULT"}),2e3)}}},{key:"destroy",value:function(){this.boundOnClick&&(this.el.removeEventListener("click",this.boundOnClick),this.boundOnClick=null),Es(Ps(e.prototype),"destroy",this).call(this)}},{key:"state",get:function(){return this._state},set:function(t){switch(this._state=t,t){case"STATE_LOADING":this.el.setAttribute("disabled",""),At.a.toggleElementVisibility(this.icon,!1),At.a.toggleElementVisibility(this.loader,!0),this.label.classList.remove("group-hover:border-black","group-focus:border-transparent");break;case"STATE_ERROR":case"STATE_DISABLED":this.el.setAttribute("disabled",""),At.a.toggleElementVisibility(this.icon,!0),At.a.toggleElementVisibility(this.loader,!1),this.label.classList.remove("group-hover:border-black","group-focus:border-transparent");break;case"STATE_DEFAULT":default:this.el.removeAttribute("disabled"),At.a.toggleElementVisibility(this.icon,!0),At.a.toggleElementVisibility(this.loader,!1),this.label.classList.add("group-hover:border-black","group-focus:border-transparent")}}}])&&Ss(n.prototype,o),i&&Ss(n,i),e}(Ea);function js(t){return(js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ts(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ls(t,e){return!e||"object"!==js(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cs(t){return(Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Is(t,e){return(Is=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rs=function(t){function e(){var t,n;Ts(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];n=Ls(this,(t=Cs(e)).call.apply(t,[this].concat(i)));var a=b.a.instance,s=k.a.isApp&&a.isNativeAudioPlayerSupported?"nativeplayer":"webplayer";return n.el.querySelector('[data-podcast-player-loader-el="'.concat(s,'"]')).classList.remove("hidden"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Is(t,e)}(e,t),e}(r.Component);n(239);function Ds(t){return(Ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ns(t,e){return!e||"object"!==Ds(e)&&"function"!=typeof e?zs(t):e}function zs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ms(t,e,n){return(Ms="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vs(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Vs(t){return(Vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qs(t,e){return(qs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Us(t){return(Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Hs(t,e){return!e||"object"!==Us(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ws(t,e,n){return(Ws="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Js(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Js(t){return(Js=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ys(t,e){return(Ys=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ks=function(t){function e(){var t,n;Fs(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=Hs(this,(t=Js(e)).call.apply(t,[this].concat(i)))).omnyStudio=ba.instance,n.podloveConfig={activeTab:n.settings.activeTab?n.settings.activeTab:"",base:n.settings.podloveConfig.base?n.settings.podloveConfig.base:"/public/shared/generated/js/podlove/",playlist:[],share:n.settings.podloveConfig.share?n.settings.podloveConfig.share:{},runtime:n.settings.podloveConfig.runtime?n.settings.podloveConfig.runtime:{language:"de"},version:n.settings.podloveConfig.version?n.settings.podloveConfig.version:5},n.podloveConfig["subscribe-button"]=n.settings.podloveConfig["subscribe-button"]?n.settings.podloveConfig["subscribe-button"]:{clients:[]},n.settings.podloveConfig["subscribe-button"].feed="",n.settings.podloveConfig.theme&&"object"===Us(n.settings.podloveConfig.theme)&&(n.podloveConfig.theme=n.settings.podloveConfig.theme),n.podloveEpisode={link:n.settings.link?n.settings.link:void 0},n.omnyClip={},n.omnyClips=[],n.omnyPlaylist={},n.programName="",n.programId=void 0,n.hasPlaylist=n.settings.size&&"xl"===n.settings.size,n.playlistLength=n.settings.playlistLength?n.settings.playlistLength:7,n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ys(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.playlistId=this.settings.playlistId&&"string"==typeof this.settings.playlistId?this.settings.playlistId:void 0,this.clipId=this.settings.clipId&&"string"==typeof this.settings.clipId?this.settings.clipId:void 0,this.playlistId?this.fetchOmnyDataByPlaylistId(this.playlistId).then((function(){return t.initPodLoveWebPlayer()})).catch((function(e){return t.onError(e)})):this.clipId&&this.fetchOmnyDataByClipId(this.clipId).then((function(){return t.initPodLoveWebPlayer()})).catch((function(e){return t.onError(e)}))}},{key:"fetchOmnyDataByPlaylistId",value:function(t){var e=this;return new Promise((function(n,o){e.hasPlaylist?e.omnyStudio.getClipsByPlaylistId(t,e.playlistLength).then((function(n){return n&&Array.isArray(n)&&0!==n.length?(e.omnyClips=n,e.omnyClip=n[0],e.omnyStudio.getPlaylistByPlaylistId(t)):o(new Error("PodLoveWebPlayerOmny getClipsByPlaylistId - didn't receive any clips for playlistId: ".concat(t)))})).then((function(t){e.omnyPlaylist=t,n()})).catch((function(t){return o(t)})):e.omnyStudio.getClipByPlaylistId(t).then((function(n){return e.omnyClip=n,e.omnyStudio.getPlaylistByPlaylistId(t)})).then((function(t){e.omnyPlaylist=t,n()})).catch((function(t){return e.onError(t)}))}))}},{key:"fetchOmnyDataByClipId",value:function(t){var e=this;return new Promise((function(n,o){e.hasPlaylist?e.omnyStudio.getClipByClipId(t).then((function(t){return e.omnyClip=t,e.playlistId=e.omnyStudio.getPlaylistIdFromClip(t),e.programId=e.omnyStudio.getProgramIdFromClip(t),e.playlistId||(e.programName=e.programId?e.omnyStudio.getProgramNameByProgramId(e.programId):"",n()),e.omnyStudio.getClipsByPlaylistId(e.playlistId,e.playlistLength)})).then((function(t){return t&&Array.isArray(t)&&0!==t.length?(e.omnyClips=t,e.omnyStudio.getPlaylistByPlaylistId(e.playlistId)):o(new Error("PodLoveWebPlayerOmny getClipsByPlaylistId - didn't receive any clips for playlistId: ".concat(e.playlistId)))})).then((function(t){e.omnyPlaylist=t,n()})).catch((function(t){return o(t)})):e.omnyStudio.getClipByClipId(t).then((function(t){return e.omnyClip=t,e.playlistId=e.omnyStudio.getPlaylistIdFromClip(t),e.programId=e.omnyStudio.getProgramIdFromClip(t),e.playlistId||(e.programName=e.programId?e.omnyStudio.getProgramNameByProgramId(e.programId):"",n()),e.omnyStudio.getPlaylistByPlaylistId(e.playlistId)})).then((function(t){e.omnyPlaylist=t,n()})).catch((function(t){return o(t)}))}))}},{key:"initPodLoveWebPlayer",value:function(){var t=this;if(this.podloveEpisode=this.convertOmnyClipToPodloveEpisode(this.omnyClip),this.omnyClips.forEach((function(e){var n=t.convertOmnyClipToPodloveEpisode(e);n&&t.podloveConfig.playlist.push({config:n,title:n.title,duration:n.duration})})),this.omnyPlaylist.DirectoryLinks&&this.playlistId){this.podloveConfig["subscribe-button"].feed=this.omnyPlaylist.DirectoryLinks.RssFeed?this.omnyPlaylist.DirectoryLinks.RssFeed:"";for(var n=0;n<this.podloveConfig["subscribe-button"].clients.length;n++)switch(this.podloveConfig["subscribe-button"].clients[n].id){case"apple-podcasts":if(this.omnyPlaylist.DirectoryLinks.ApplePodcasts){var o=this.omnyPlaylist.DirectoryLinks.ApplePodcasts;-1!==o.indexOf("https://podcasts.apple.com/")?this.podloveConfig["subscribe-button"].clients[n].service=o.replace(new RegExp("https://podcasts.apple.com/(de/)?podcast/","i"),"/"):-1!==o.indexOf("https://geo.itunes.apple.com/")&&(this.podloveConfig["subscribe-button"].clients[n].service=o.replace(new RegExp("https://geo.itunes.apple.com/(de/)?podcast/","i"),"/"))}break;case"google-podcasts":this.omnyPlaylist.DirectoryLinks.GooglePodcasts&&(this.podloveConfig["subscribe-button"].clients[n].service=this.omnyPlaylist.RssFeedUrl?this.omnyPlaylist.RssFeedUrl:"");break;case"spotify":if(this.omnyPlaylist.DirectoryLinks.Spotify){var i=this.omnyPlaylist.DirectoryLinks.Spotify;-1!==i.indexOf("https://open.spotify.com/")&&(this.podloveConfig["subscribe-button"].clients[n].service=i.replace(new RegExp("https://open.spotify.com/show/","i"),""))}break;case"stitcher":break;case"castbox":if(this.omnyPlaylist.DirectoryLinks.Stitcher){var r=this.omnyPlaylist.DirectoryLinks.Stitcher;-1!==r.indexOf("https://castbox.fm/")&&(this.podloveConfig["subscribe-button"].clients[n].service=r.replace(new RegExp("https://castbox.fm/channel/","i"),""))}break;case"deezer":if(this.omnyPlaylist.DirectoryLinks.Deezer){var a=this.omnyPlaylist.DirectoryLinks.Deezer;-1!==a.indexOf("https://www.deezer.com/us")?this.podloveConfig["subscribe-button"].clients[n].service=a.replace(new RegExp("https://www.deezer.com/us/show/","i"),""):-1!==a.indexOf("https://www.deezer.com/de")?this.podloveConfig["subscribe-button"].clients[n].service=a.replace(new RegExp("https://www.deezer.com/de/show/","i"),""):-1!==a.indexOf("https://www.deezer.com/pt")&&(this.podloveConfig["subscribe-button"].clients[n].service=a.replace(new RegExp("https://www.deezer.com/pt/show/","i"),""))}break;case"rss":this.omnyPlaylist.DirectoryLinks.RssFeed&&(this.podloveConfig["subscribe-button"].clients[n].service=this.podloveConfig["subscribe-button"].feed)}}else delete this.podloveConfig["subscribe-button"];Ws(Js(e.prototype),"initPodLoveWebPlayer",this).call(this,this.podloveConfig,this.podloveEpisode)}},{key:"convertOmnyClipToPodloveEpisode",value:function(t){var e={};if(t.AudioUrl&&"string"==typeof t.AudioUrl&&(t.ImageUrl||this.omnyPlaylist.ArtworkUrl)&&t.DurationSeconds&&t.Title){var n=new URL(t.AudioUrl);n.searchParams.set("utm_source","CustomPlayer1"),e.audio=[{mimeType:"audio/mpeg",title:"MP3 Audio",url:n.href}];var o=new URL(t.AudioUrl);o.searchParams.set("utm_source","CustomPlayer2"),o.searchParams.set("download","true"),e.files=[{mimeType:"audio/mpeg",size:t.PublishedAudioSizeInBytes?t.PublishedAudioSizeInBytes:-1,title:"MP3 Audio",url:o.href}];var i="";if(t.ImageUrl){var r=new URL(t.ImageUrl);r.searchParams.set("size","small"),i=r.href}else if(this.omnyPlaylist.ArtworkUrl){var a=new URL(this.omnyPlaylist.ArtworkUrl);a.searchParams.set("size","small"),i=a.href}return e.show={poster:i,title:this.omnyPlaylist.Title?this.omnyPlaylist.Title:this.programName?this.programName:""},e.duration=Math.round(1e3*t.DurationSeconds),e.title=t.Title,this.settings.link&&"string"==typeof this.settings.link&&(e.link=this.settings.link),e}}},{key:"onError",value:function(t){console.error(t.message)}},{key:"destroy",value:function(){Ws(Js(e.prototype),"destroy",this).call(this)}}])&&Gs(n.prototype,o),i&&Gs(n,i),e}(function(t){function e(){var t,n;xs(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=Ns(this,(t=Vs(e)).call.apply(t,[this].concat(i)))).settings=At.a.parseBase64Settings(n.data.settings),n.settings.isEncrypted&&!q.a.instance.secretboxKey?Ns(n):(n.id=n.settings.id?n.settings.id:void 0,n.player=n.el.querySelector('[data-audio-el="player"]'),n.loader=n.el.querySelector('[data-audio-el="loader"]'),n.footer=n.el.querySelector('[data-audio-el="footer"]'),n.isAutoPaused=!1,n.subscribe(s.c,n.onAdblockLayerOpened,zs(n)),n.subscribe(s.b,n.onAdblockLayerClosed,zs(n)),n.storeUnsubscribe=null,n.el.addEventListener("lazybeforeunveil",(function(t){return n.onLazyload(t)})),n)}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qs(t,e)}(e,t),n=e,(o=[{key:"onLazyload",value:function(t){var e=this;t.target===this.el&&Promise.all([this.loadWebplayerSource(),this.settings.isEncrypted?this.loadSecretbox():Promise.resolve()]).then((function(){e.settings.isEncrypted&&e.decryptSettings(),e.init()})).catch((function(){}))}},{key:"loadWebplayerSource",value:function(){var t=this;return new Promise((function(e){"function"==typeof window.podlovePlayer?e():(t.subscribe(s.H,e),t.publish(s.I))}))}},{key:"loadSecretbox",value:function(){var t=this;return new Promise((function(e){ua.instance.ready?e():t.subscribe(s.N,e)}))}},{key:"decryptSettings",value:function(){ua.instance.ready&&(this.settings.playlistId&&(this.settings.playlistId=ua.instance.decrypt(this.settings.playlistId)),this.settings.clipId&&(this.settings.clipId=ua.instance.decrypt(this.settings.clipId)))}},{key:"init",value:function(){}},{key:"initPodLoveWebPlayer",value:function(t,e){var n=this;window.polygon.componentLoader.subscribe(s.v,this.onVisibiltyChange,this),"function"==typeof window.podlovePlayer&&window.podlovePlayer(this.player,e,t).then((function(t){n.store=t,n.isPlayerReady?n.onReady():n.storeUnsubscribe=n.store.subscribe((function(){return n.onStoreChanged()}))})).catch((function(){}))}},{key:"onStoreChanged",value:function(){this.isPlayerReady&&("function"==typeof this.storeUnsubscribe&&this.storeUnsubscribe(),this.onReady())}},{key:"onReady",value:function(){this.publish(s.G,{id:this.id,store:this.store,articleId:this.settings.articleId?this.settings.articleId:""}),this.loader.classList.add("hidden"),this.footer&&this.footer.classList.remove("hidden"),this.settings.autoplay&&this.store.dispatch({type:"PLAYER_REQUEST_PLAY",payload:{}})}},{key:"onVisibiltyChange",value:function(t){k.a.isAndroidApp&&this.store&&"function"==typeof this.store.dispatch&&(this.isPlaying&&"hidden"===t?(this.store.dispatch({type:"PLAYER_REQUEST_PAUSE",payload:{}}),this.isAutoPaused=!0):"visible"===t&&this.isAutoPaused&&(this.store.dispatch({type:"PLAYER_REQUEST_PLAY",payload:{}}),this.isAutoPaused=!1))}},{key:"onAdblockLayerOpened",value:function(){this.store&&"function"==typeof this.store.dispatch&&this.isPlaying&&(this.store.dispatch({type:"PLAYER_REQUEST_PAUSE",payload:{}}),this.isAutoPaused=!0)}},{key:"onAdblockLayerClosed",value:function(){this.store&&"function"==typeof this.store.dispatch&&!this.isPlaying&&this.isAutoPaused&&(this.store.dispatch({type:"PLAYER_REQUEST_PLAY",payload:{}}),this.isAutoPaused=!1)}},{key:"destroy",value:function(){Ms(Vs(e.prototype),"destroy",this).call(this)}},{key:"isPlaying",get:function(){if(!this.store||"function"!=typeof this.store.getState)return!1;var t=this.store.getState();return!(!t||!t.driver||"boolean"!=typeof t.driver.playing)&&t.driver.playing}},{key:"isPlayerReady",get:function(){return this.store&&this.store.getState&&"function"==typeof this.store.getState&&"ready"===this.store.getState().lifecycle}}])&&Bs(n.prototype,o),i&&Bs(n,i),e}(r.Component));function Xs(t){return(Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Zs(t,e){return!e||"object"!==Xs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tc(t,e,n){return(tc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ec(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function ec(t){return(ec=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nc(t,e){return(nc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var oc=function(t){function e(){var t,n;$s(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];n=Zs(this,(t=ec(e)).call.apply(t,[this].concat(i)));var a=b.a.instance,c=!k.a.isApp||!a.isNativeAudioPlayerSupported;return c?(n.subscribe(s.I,(function(){return n.onSourceRequested()})),n):Zs(n)}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nc(t,e)}(e,t),n=e,(o=[{key:"onSourceRequested",value:function(){var t=this;"function"!=typeof window.podlovePlayer?(this.el.onload=function(){return t.publish(s.H)},this.initSrc()):this.publish(s.H)}},{key:"destroy",value:function(){tc(ec(e.prototype),"destroy",this).call(this)}}])&&Qs(n.prototype,o),i&&Qs(n,i),e}(io);function ic(t){return(ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ac(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function sc(t,e){return!e||"object"!==ic(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cc(t,e,n){return(cc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lc(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function lc(t){return(lc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uc(t,e){return(uc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fc=function(t){function e(){var t,n;rc(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=sc(this,(t=lc(e)).call.apply(t,[this].concat(i)))).clipId=n.data.settings?JSON.parse(n.data.settings):{},n.omnyStudio=ba.instance,n.title=n.el.querySelector('[data-preview-el="title"]'),n.init(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uc(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.fetchOmnyDataByClipId(this.clipId).then((function(e){return t.displayProgramName(e)})).catch((function(e){return t.onError(e)}))}},{key:"fetchOmnyDataByClipId",value:function(t){var e=this;return new Promise((function(n,o){e.omnyStudio.getClipByClipId(t).then((function(t){var o=e.omnyStudio.getProgramIdFromClip(t),i=o?e.omnyStudio.getProgramNameByProgramId(o):"";n(i)})).catch((function(t){return o(t)}))}))}},{key:"displayProgramName",value:function(t){this.title&&t&&(this.title.innerText=t)}},{key:"onError",value:function(t){console.error(t.message)}},{key:"destroy",value:function(){cc(lc(e.prototype),"destroy",this).call(this)}}])&&ac(n.prototype,o),i&&ac(n,i),e}(r.Component);function pc(t){return(pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function hc(t,e){return!e||"object"!==pc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bc(t,e,n){return(bc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gc(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function gc(t){return(gc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vc(t,e){return(vc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mc=function(t){function e(){var t,n;yc(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=hc(this,(t=gc(e)).call.apply(t,[this].concat(i)))).el.addEventListener("click",(function(t){t.preventDefault(),n.scrollFieldtypes()})),window.addEventListener("message",n.scrollIframeElements),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vc(t,e)}(e,t),n=e,(o=[{key:"scrollFieldtypes",value:function(){window.parent.postMessage({event:"scroll_live_preview",pos:this.data.pos},"*")}},{key:"scrollIframeElements",value:function(t){if("scroll_live_preview_iframe"===t.data.event){var e=document.querySelector('button[data-pos="'.concat(t.data.pos,'"]'));e&&e.scrollIntoView()}}},{key:"destroy",value:function(){this.el.removeEventListener("click",this.scrollFieldtypes()),window.removeEventListener("message",this.scrollIframeElements()),bc(gc(e.prototype),"destroy",this).call(this)}}])&&dc(n.prototype,o),i&&dc(n,i),e}(r.Component),wc=n(27),Oc=n.n(wc),Sc=n(112);function kc(t){return(kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ec(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _c(t,e){return!e||"object"!==kc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ac(t){return(Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jc(t,e){return(jc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tc=function(t){function e(){var t,n;Ec(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=_c(this,(t=Ac(e)).call.apply(t,[this].concat(i)))).settings=JSON.parse(n.data.settings),n.storageObject=new Sc.a("sourcepoint","session"),n.msgUrl=n.settings.msgUrl,n.msgWithoutDetectionUrl=n.settings.msgWithoutDetectionUrl,n.detectionShare=Number.isInteger(n.settings.detectionShare)&&n.settings.detectionShare>=0&&n.settings.detectionShare<100?n.settings.detectionShare:100,n.pendingChoiceId=null,n.init(),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jc(t,e)}(e,t),n=e,(i=[{key:"init",value:function(){var t=this;if(!q.a.instance.hasAcceptedGlobalConsent){var e=".".concat(o.a.instance.secondLevelDomain?o.a.instance.secondLevelDomain:"spiegel",".").concat(o.a.instance.topLevelDomain?o.a.instance.topLevelDomain:"de");Oc.a.remove(S.a.euconsent.name,{domain:e})}this.subscribe(s.U,this.openPrivacyManager,this),this.subscribe(s.V,this.selectChoice,this),this.subscribe(s.ab,this.onTCDataChanged),window.addEventListener("error",(function(e){t.onWindowError(e)})),this.initSourcepointConfig(),this.initPrivacyManagerButtons(),this.attachPrivacyManagerPullToRefreshFix(),this.addSourcepointScriptElement()}},{key:"initSourcepointConfig",value:function(){var t=this,e=this.settings,n=e.accountId,i=e.mmsDomain,r=e.wrapperAPIOrigin,a=e.propertyHref,s=e.requestMessage,c=o.a.instance,l=q.a.instance,u=c.page&&c.page.category&&c.page.category.route?c.page.category.route:"";window._sp_={config:{mmsDomain:i,accountId:n,wrapperAPIOrigin:r,propertyHref:a,events:{onPrivacyManagerAction:function(e){t.onPrivacyManagerAction(e)},onPMCancel:function(){t.onPrivacyManagerCancel()},onMessageReady:function(){t.onMessageReady()},onMessageReceiveData:function(e){t.onReceiveMessageData(e)},onMessageChoiceSelect:function(e,n){t.onMessageChoiceSelect(e,n)},onMessageChoiceError:function(e){t.onMessageChoiceError(e)},onConsentReady:function(e,n){t.onConsentReady(e,n)}},targetingParams:{platform:k.a.isApp?"app":"web",is_phone:P.a.isPhone,is_tablet:P.a.isTablet,is_mobile:P.a.isMobile,route:u,is_loggedIn:l.isLoggedIn,has_paid_access:l.hasPaidAccess,has_noAds_access:l.hasNoAdsAccess,has_conditional_access:l.hasConditionalAccess,has_accepted_global_consent:l.hasAcceptedGlobalConsent,disable_consent:!(!c.consent||"boolean"!=typeof c.consent.disabled)&&c.consent.disabled,lang:vt.instance.language}}},"article"===u&&(window._sp_.config.targetingParams.paywall_is_active=c.paywall&&c.paywall.attributes&&c.paywall.attributes.is_active,window._sp_.config.targetingParams.paywall_type=c.paywall&&c.paywall.category&&c.paywall.category.type?c.paywall.category.type:""),k.a.isApp&&(k.a.isAndroidApp?window._sp_.config.targetingParams.os="Android":k.a.isIOSApp&&(window._sp_.config.targetingParams.os="iOS"),window._sp_.config.targetingParams.app_version=k.a.appVersion),s&&(window._sp_.config.targetingParams.requestMessage=s)}},{key:"initPrivacyManagerButtons",value:function(){var t=this,e=Array.from(document.querySelectorAll('a[href^="#sp_privacy_manager"]'));if(e&&e.length>0)for(var n=function(n){var o=e[n],i=o.hash.split("#sp_privacy_manager_")[1]?o.hash.split("#sp_privacy_manager_")[1]:"";o.addEventListener("click",(function(e){e.preventDefault(),t.publish(s.U,i)}))},o=0;o<e.length;o++)n(o)}},{key:"addSourcepointScriptElement",value:function(){var t=this,e=o.a.instance,n=document.createElement("script"),i=e.page&&e.page.category&&e.page.category.route?e.page.category.route:"",r=!!(e.paywall&&e.paywall.category&&e.paywall.category.type)&&"paid"===e.paywall.category.type,a=!1;this.storageObject.getItem("isInDetectionShare")?a="1"===this.storageObject.getItem("isInDetectionShare"):(a=Math.floor(101*Math.random())<=this.detectionShare,this.storageObject.setItem("isInDetectionShare",a?"1":"0"));var s=!(!e.consent||"boolean"!=typeof e.consent.disabled)&&e.consent.disabled,c=!P.a.isMobile&&!e.noAds&&!s&&!r&&a&&"partner"!==i;n.src=c?this.msgUrl:this.msgWithoutDetectionUrl,n.addEventListener("error",(function(e){t.onScriptElementError(e)})),this.el.appendChild(n)}},{key:"openPrivacyManager",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.settings,n=e.siteId,o=e.privacyManagerId;n&&o&&window._sp_&&"function"==typeof window._sp_.loadPrivacyManagerModal&&(window._sp_.loadPrivacyManagerModal(o,t),this.attachPrivacyManagerResizeFix(),this.publish(s.T))}},{key:"onReceiveMessageData",value:function(t){t&&t.msgDescription&&(Ct.instance.message=t.msgDescription)}},{key:"onMessageReady",value:function(){this.publish(s.R,Ct.instance.message)}},{key:"onMessageChoiceSelect",value:function(t,e){e&&(this.publish(s.Q,e),this.onChoiceSelect(e))}},{key:"onMessageChoiceError",value:function(t){this.publish(s.P),Ct.instance.errorOccurred=!0}},{key:"onPrivacyManagerAction",value:function(t){var e;this.detachPrivacyManagerResizeFix(),t&&t.purposeConsent&&t.vendorConsent&&("all"===t.purposeConsent&&"all"===t.vendorConsent?(e=S.d.accept_all,this.onChoiceSelect(S.c.accept_all)):"none"===t.purposeConsent&&"none"===t.vendorConsent&&(e=S.d.reject_all,this.onChoiceSelect(S.c.reject_all)),this.publish(s.S,e))}},{key:"onPrivacyManagerCancel",value:function(){this.publish(s.S,S.d.cancel)}},{key:"onChoiceSelect",value:function(t){this.pendingChoiceId||(t===S.c.accept_all||t===S.c.accept_some||t===S.c.reject_all?this.pendingChoiceId=t:this.publish(s.O,t))}},{key:"onConsentReady",value:function(t,e){var n=this;if(this.pendingChoiceId){var i=this.pendingChoiceId;if(this.pendingChoiceId=null,i===S.c.accept_all)this.getEuconsentCookie().then((function(){var t=!0;window.polygon&&window.polygon.cookies&&window.polygon.cookies.polygon_consent&&"function"==typeof window.polygon.cookies.polygon_consent.updateCookie&&(window.polygon.cookies.polygon_consent.updateCookie(!0),t=window.polygon.cookies.polygon_consent.value),t?n.publish(s.O,i):(Ct.instance.errorOccurred=!0,n.publish(s.P))})).catch((function(){Ct.instance.errorOccurred=!0,n.publish(s.P)}));else if(i===S.c.reject_all||i===S.c.accept_some){var r=!0;window.polygon&&window.polygon.cookies&&window.polygon.cookies.polygon_consent&&"function"==typeof window.polygon.cookies.polygon_consent.updateCookie&&(window.polygon.cookies.polygon_consent.updateCookie(!1),r=!window.polygon.cookies.polygon_consent.value);var a=".".concat(o.a.instance.secondLevelDomain?o.a.instance.secondLevelDomain:"spiegel",".").concat(o.a.instance.topLevelDomain?o.a.instance.topLevelDomain:"de");Oc.a.remove(S.a.euconsent.name,{domain:a}),r?this.publish(s.O,i):(Ct.instance.errorOccurred=!0,this.publish(s.P))}else this.publish(s.O,i)}}},{key:"onTCDataChanged",value:function(t){}},{key:"onScriptElementError",value:function(t){console.error("SourcePoint onScriptElementError",t),this.publish(s.P),Ct.instance.errorOccurred=!0}},{key:"onWindowError",value:function(t){!t.filename||t.filename!==this.msgUrl&&t.filename!==this.msgWithoutDetectionUrl||(console.error("SourcePoint onWindowError",t),this.publish(s.P),Ct.instance.errorOccurred=!0)}},{key:"getEuconsentCookie",value:function(){var t=this;return new Promise((function(e,n){t.delayedEuconsentCookieCheck(0,e,n)}))}},{key:"delayedEuconsentCookieCheck",value:function(t,e,n){for(var o=this,i=100*t,r=0,a=0;r<=t;)a+=100*(r+=1);var s=setTimeout((function(){var i=Oc.a.get(S.a.euconsent.name);i?(clearInterval(s),e(i)):a>5e3?(console.error("Sourcepoint's euconsent-v2 cookie still not set after ".concat(a/1e3," seconds.")),clearInterval(s),n()):(clearInterval(s),o.delayedEuconsentCookieCheck(t+1,e,n))}),i)}},{key:"attachPrivacyManagerResizeFix",value:function(){P.a.isMobileSafari&&(this.boundOnWindowResize||(this.boundOnWindowResize=function(){setTimeout((function(){window.scrollTo(0,1)}),500)}),window.addEventListener("resize",this.boundOnWindowResize))}},{key:"detachPrivacyManagerResizeFix",value:function(){P.a.isMobileSafari&&this.boundOnWindowResize&&window.removeEventListener("resize",this.boundOnWindowResize)}},{key:"attachPrivacyManagerPullToRefreshFix",value:function(){if(k.a.isAndroidApp){var t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText='[id^="sp_message_container"] { overflow: visible !important; }':t.appendChild(document.createTextNode('[id^="sp_message_container"] { overflow: visible !important; }')),document.head&&t&&document.head.appendChild(t)}}}])&&Pc(n.prototype,i),r&&Pc(n,r),e}(r.Component);function Lc(t){return(Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ic(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Rc(t,e){return!e||"object"!==Lc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dc(t,e,n){return(Dc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xc(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function xc(t){return(xc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bc(t,e){return(Bc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Nc=function(t){function e(){var t,n;Cc(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];var a=(n=Rc(this,(t=xc(e)).call.apply(t,[this].concat(i)))).el.getAttribute("data-src");return a&&n.el.setAttribute("src",a),"function"==typeof window.__cmp?n.publish(s.W):n.el.onload=function(){n.publish(s.W)},n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bc(t,e)}(e,t),n=e,(o=[{key:"destroy",value:function(){Dc(xc(e.prototype),"destroy",this).call(this)}}])&&Ic(n.prototype,o),i&&Ic(n,i),e}(r.Component);function zc(t){return(zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function qc(t,e){return!e||"object"!==zc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Uc(t,e,n){return(Uc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fc(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Fc(t){return(Fc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gc(t,e){return(Gc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Hc=function(t){function e(){var t,n;Mc(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=qc(this,(t=Fc(e)).call.apply(t,[this].concat(i)))).settings=JSON.parse(n.data.settings),n.settings.storyId&&(n.boundOnClick=function(t){return n.onClick(t)},n.el.addEventListener("click",n.boundOnClick)),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gc(t,e)}(e,t),n=e,(o=[{key:"onClick",value:function(t){t.preventDefault(),this.publish(s.X,this.settings.storyId)}},{key:"destroy",value:function(){this.boundOnClick&&(this.el.removeEventListener("click",this.boundOnClick),this.boundOnClick=null),Uc(Fc(e.prototype),"destroy",this).call(this)}}])&&Vc(n.prototype,o),i&&Vc(n,i),e}(r.Component);function Wc(t){return(Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Kc(t,e){return!e||"object"!==Wc(e)&&"function"!=typeof e?$c(t):e}function Xc(t){return(Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qc(t,e){return(Qc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zc={android:5,IOS:11},tl=function(t){function e(){var t,n;Jc(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];(n=Kc(this,(t=Xc(e)).call.apply(t,[this].concat(i)))).settings=JSON.parse(n.data.settings),n.localStorageObject=new Sc.a("stories","local"),n.playerContainer=n.el.querySelector('[data-story-el="player-container"]'),n.player=n.el.querySelector('[data-story-el="player"]'),n.loader=n.el.querySelector('[data-story-el="loader"]'),n.nativeControls=n.el.querySelector('[data-story-el="native-controls"]'),n.nativeCloseButton=n.el.querySelector('[data-story-el="native-close-button"]'),n.isInitialized=!1,n.isOverlayAnimating=!1,n.state="STATE_CLOSED",n._playerState="STATE_PLAYER_LOADING",n.boundOnLayerOpened=function(){return n.onLayerOpened()},n.boundOnPlayerReady=function(){return n.onPlayerReady()},n.boundOnStoryNavigation=function(t){return n.onStoryNavigation(t)},n.boundClose=function(){return n.close()},n.subscribe(s.X,n.onActivateTriggered,$c(n));var a=n.localStorageObject.getItem("visited"),c=a&&a.indexOf(n.settings.storyId)>=0,l=new URLSearchParams(window.location.search),u="1"===l.get("forceStoryLayer"),f=e.isSupported&&(!c||u);return f&&n.open(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qc(t,e)}(e,t),n=e,i=[{key:"isSupported",get:function(){var t=!1,e=P.a.isAndroid,n=P.a.isIOS,o=e?"android":n?"IOS":null,i=o?P.a["".concat(o,"Version")]:{},r=o?Zc[o]:null;return i&&i.major&&r&&i.major<r&&(t=!0),!t&&!P.a.isInternetExplorer}}],(o=[{key:"init",value:function(){var t=this;this.isInitialized||(this.player.addEventListener("ready",this.boundOnPlayerReady),this.player.addEventListener("amp-story-player-close",this.boundClose),this.player.addEventListener("noNextStory",this.boundClose),Promise.resolve().then((function(){t.publish(s.g)})))}},{key:"onActivateTriggered",value:function(t){e.isSupported&&t===this.settings.storyId&&this.open()}},{key:"onLayerOpened",value:function(){this.isOverlayAnimating=!1,this.player&&this.player.isReady&&(this.rewindStory(),this.player.play(),this.attachNativeControls())}},{key:"onPlayerReady",value:function(){this.playerState="STATE_PLAYER_READY",this.player.removeEventListener("ready",this.boundOnPlayerReady),this.player.add([{href:this.settings.storyUrl}]),this.attachNativeControls()}},{key:"open",value:function(){var t=this;"STATE_OPEN"!==this.state&&(this.state="STATE_OPEN",this.isInitialized||this.init(),this.publish(s.B,this),this.isOverlayAnimating=!0,this.el.classList.remove("hidden"),this.el.style.opacity=0,this.el.style.transition="opacity .25s ease-out",setTimeout((function(){t.el.style.opacity=1}),0),setTimeout(this.boundOnLayerOpened,500))}},{key:"close",value:function(){var t=this;this.state="STATE_CLOSED",this.rewindStory(),this.player.pause(),this.recordStoryVisit(),this.publish(s.z,this),this.detachNativeControls(),this.isOverlayAnimating=!0,this.el.style.opacity=1,this.el.style.transition="opacity .25s ease-out",setTimeout((function(){t.el.style.opacity=0}),0),setTimeout((function(){t.el.classList.add("hidden"),t.isOverlayAnimating=!1}),500)}},{key:"attachNativeControls",value:function(){this.nativeControls.classList.remove("opacity-none"),this.nativeCloseButton.addEventListener("click",this.boundClose)}},{key:"detachNativeControls",value:function(){this.nativeControls.classList.add("opacity-none"),this.nativeCloseButton.removeEventListener("click",this.boundClose)}},{key:"rewindStory",value:function(){"function"==typeof this.player.rewind&&this.settings.storyUrl&&this.player.rewind(this.settings.storyUrl)}},{key:"recordStoryVisit",value:function(){var t=this.localStorageObject.getItem("visited")||[];t.indexOf(this.settings.storyId)<0&&t.push(this.settings.storyId),this.localStorageObject.setItem("visited",t)}},{key:"preventScrolling",get:function(){return!0}},{key:"expandHeader",get:function(){return!0}},{key:"playerState",get:function(){return this._playerState},set:function(t){switch(t){case"STATE_PLAYER_LOADING":this.loader.classList.toggle("hidden",!1),this.playerContainer.classList.toggle("hidden",!0),this._playerState=t;break;case"STATE_PLAYER_READY":this.loader.classList.toggle("hidden",!0),this.playerContainer.classList.toggle("hidden",!1),this._playerState=t;break;default:console.warn('StoryLayer: "'.concat(t,'" is not a valid value for playerState'))}}}])&&Yc(n.prototype,o),i&&Yc(n,i),e}(r.Component);function el(t){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ol(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function il(t,e){return!e||"object"!==el(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rl(t,e,n){return(rl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=al(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function al(t){return(al=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sl(t,e){return(sl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Fa.b.use([Fa.a]);var cl=function(t){function e(){var t,n;nl(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=il(this,(t=al(e)).call.apply(t,[this].concat(i)))).dataSettings=n.data.settings?JSON.parse(n.data.settings):{},n.dataSettings.furtherReadsId&&n.subscribe(s.ob,(function(t){t.furtherReadsId&&n.dataSettings.furtherReadsId===t.furtherReadsId&&n.swiper.update()})),n.dataSettings.loadLazy?(n.boundOnLazyLoad=function(t){t.target===n.el&&n.onLazyLoad()},n.el.addEventListener("lazybeforeunveil",n.boundOnLazyLoad)):n.init(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sl(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.settings=this.data.settings?JSON.parse(this.data.settings):{};var e=void 0===this.settings.observeFonts||this.settings.observeFonts,n=window.getComputedStyle(this.el).fontFamily.split(", ")[0];if("serif"!==n&&"sans-serif"!==n&&e){var o=new Ua.a(n);o.load().then((function(){t.initSwiper()}),(function(){t.initSwiper(),o.load(null,1e4).then((function(){t.swiper.update()}),(function(){console.error("".concat(n," font is not available"))}))}))}else this.initSwiper()}},{key:"onLazyLoad",value:function(){this.init()}},{key:"initSwiper",value:function(){var t=this.el.classList.contains("swiper-container")?this.el:this.el.querySelector(".swiper-container"),e=this.el.querySelector('[data-swiper-el="prevEl"]'),n=this.el.querySelector('[data-swiper-el="nextEl"]'),o=void 0===this.settings.freeMode||this.settings.freeMode,i=void 0!==this.settings.loop&&this.settings.loop,r=void 0!==this.settings.watchOverflow&&this.settings.watchOverflow;this.swiper=new Fa.b(t,{freeMode:o,roundLengths:!0,slidesPerView:"auto",loop:i,watchOverflow:r,navigation:{nextEl:n,prevEl:e,disabledClass:"hidden"},on:{init:function(){var t=Array.from(this.slides).findIndex((function(t){return t.dataset.itemActive}));this.slideTo(t-1,500,!1)}}})}},{key:"destroy",value:function(){this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyLoad),rl(al(e.prototype),"destroy",this).call(this)}}])&&ol(n.prototype,o),i&&ol(n,i),e}(r.Component);n(178);function ll(t){return(ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ul(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function pl(t,e){return!e||"object"!==ll(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yl(t){return(yl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dl(t,e){return(dl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hl=function(t){function e(){var t,n;ul(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=pl(this,(t=yl(e)).call.apply(t,[this].concat(i)))).tabs=Array.from(n.el.querySelectorAll('[data-tabs-el="tab"]')),n.panels=Array.from(n.el.querySelectorAll('[data-tabs-el="panel"]')),n.selectedIndex=null,n.boundOnTabClicked=function(t){return n.onTabClicked(t)},n.tabs.forEach((function(t){var e=parseInt(t.getAttribute("data-tab-index"),10);e&&"true"===t.getAttribute("aria-selected")&&(n.selectedIndex=e),t.addEventListener("click",n.boundOnTabClicked)})),Number.isInteger(n.selectedIndex)&&n.activateTab(n.selectedIndex),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dl(t,e)}(e,t),n=e,(o=[{key:"onTabClicked",value:function(t){t.preventDefault();var e=parseInt(t.target.getAttribute("data-tab-index"),10);Number.isInteger(e)&&this.activateTab(e)}},{key:"activateTab",value:function(t){this.tabs.forEach((function(e){var n=parseInt(e.getAttribute("data-tab-index"),10);e.setAttribute("aria-selected",n===t)})),this.panels.forEach((function(e){parseInt(e.getAttribute("data-panel-index"),10)===t?e.classList.remove("hidden"):e.classList.add("hidden")})),this.selectedIndex=t}},{key:"destroy",value:function(){var t=this;this.boundOnTabClicked&&(this.tabs.forEach((function(e){return e.removeEventListener("click",t.boundOnTabClicked)})),this.boundOnTabClicked=null)}}])&&fl(n.prototype,o),i&&fl(n,i),e}(r.Component);function bl(t){return(bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ml(t,e){return!e||"object"!==bl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wl(t,e,n){return(wl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ol(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Ol(t){return(Ol=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Sl(t,e){return(Sl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var kl=function(t){function e(){var t,n;gl(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=ml(this,(t=Ol(e)).call.apply(t,[this].concat(i)))).settings=JSON.parse(n.data.settings),n.articleId=n.settings.articleId?n.settings.articleId:"",n.embedRoot=n.el.querySelector('[data-talk-el="embedRoot"]'),n.el.classList.contains("lazyloaded")?n.init():(n.boundInit=function(){n.init()},n.el.addEventListener("lazybeforeunveil",n.boundInit)),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sl(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.settings.baseURL?window.Coral&&window.Coral.Talk?this.renderTalk():this.subscribe(s.Y,(function(){t.renderTalk()})):console.error("Talk Base URL is undefined")}},{key:"renderTalk",value:function(){window.Coral.Talk.render(this.embedRoot,{talk:this.settings.baseURL,auth_token:Oc.a.get("userInfo"),asset_id:this.articleId}),this.el.querySelector('iframe[src^="'.concat(this.settings.baseURL,'"]')).style.minHeight="450px"}},{key:"destroy",value:function(){wl(Ol(e.prototype),"destroy",this).call(this)}}])&&vl(n.prototype,o),i&&vl(n,i),e}(r.Component);function El(t){return(El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Al(t,e){return!e||"object"!==El(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jl(t,e,n){return(jl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Tl(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Tl(t){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ll(t,e){return(Ll=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Cl=function(t){function e(){var t,n;Pl(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=Al(this,(t=Tl(e)).call.apply(t,[this].concat(i)))).init(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ll(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.boundToggleTalk=function(e){t.toggleTalk(e)},this.el.addEventListener("click",this.boundToggleTalk)}},{key:"toggleTalk",value:function(t){t.preventDefault(),this.publish(s.hb,{id:this.data.componentId})}},{key:"destroy",value:function(){this.el.removeEventListener("click",this.boundToggleTalk),jl(Tl(e.prototype),"destroy",this).call(this)}}])&&_l(n.prototype,o),i&&_l(n,i),e}(r.Component);function Il(t){return(Il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function xl(t,e){return!e||"object"!==Il(e)&&"function"!=typeof e?Bl(t):e}function Bl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nl(t,e,n){return(Nl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zl(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function zl(t){return(zl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ml(t,e){return(Ml=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Vl=function(t){function e(){var t,n;Rl(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=xl(this,(t=zl(e)).call.apply(t,[this].concat(i)))).id="".concat(Math.floor(1e8+9e8*Math.random())),n.hash="kommentare",n.overlay=n.el.querySelector('[data-talk-drawer-el="overlay"]'),n.closeButton=n.el.querySelector('[data-talk-drawer-el="close"]'),n.toTopButton=n.el.querySelector('[data-talk-drawer-el="toTopButton"]'),n.talkDrawer=n.el.querySelector('[data-talk-drawer-el="talkDrawer"]'),n.intersectionObserverTarget=n.el.querySelector('[data-talk-drawer-el="intersectionObserverTarget"]'),n.body=document.querySelector("body"),n.talkActive=!1,n._showToTopButton=!1,n.subscribe(s.hb,(function(t){n.returnFocusElement=t&&t.id?document.querySelector('[data-component-id="'.concat(t.id,'"]')):null,n.talkActive?n.publish(s.k):n.publish(s.n,n.id)})),n.closeButton.addEventListener("click",(function(t){t.preventDefault(),n.publish(s.k)})),n.toTopButton.addEventListener("click",(function(){n.scrollToTop()})),n.overlay.addEventListener("click",(function(){n.publish(s.k)})),nn.a.instance.register(Bl(n)),window.location.hash==="#".concat(n.hash)&&n.publish(s.n,n.id),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ml(t,e)}(e,t),n=e,(o=[{key:"onIntersectionChanged",value:function(t){this.showToTopButton=!t[0].isIntersecting}},{key:"open",value:function(){this.overlay.classList.add("fixed"),this.talkDrawer.style.transform="translateX(0px)",this.talkDrawer.style.webkitTransform="translateX(0px)",this.talkDrawer.classList.remove("hidden"),this.body.classList.add("scrollbar-none"),this.intersectionObserverTarget&&!this.intersectionObserver&&this.initIntersectionObserver(),this.publish(s.B,this),this.focusDrawer(),this.talkActive=!0}},{key:"close",value:function(){var t=this;this.overlay.classList.remove("fixed"),this.talkDrawer.style.transform="translateX(100%)",this.talkDrawer.style.webkitTransform="translateX(100%)",this.talkDrawer.addEventListener("ontransitionend",(function(){t.talkDrawer.classList.add("hidden")})),this.body.classList.remove("scrollbar-none"),this.publish(s.z,this),this.returnFocusElement&&this.returnFocusElement.focus(),this.talkActive=!1}},{key:"initIntersectionObserver",value:function(){var t=this;this.intersectionObserverTarget&&(this.intersectionObserver=new IntersectionObserver((function(e){return t.onIntersectionChanged(e)}),{root:this.talkDrawer,rootMargin:"600px 0px 0px 0px"}),this.intersectionObserver.observe(this.intersectionObserverTarget))}},{key:"focusDrawer",value:function(){this.closeButton.focus()}},{key:"scrollToTop",value:function(){this.talkDrawer.scrollTo({top:0,behavior:"smooth"})}},{key:"destroy",value:function(){Nl(zl(e.prototype),"destroy",this).call(this)}},{key:"preventScrolling",get:function(){return P.a.isMobile}},{key:"showToTopButton",get:function(){return this._showToTopButton},set:function(t){t?(this.toTopButton.classList.remove("invisible"),this.toTopButton.style.transform="translateY(0px)",this.toTopButton.style.webkitTransform="translateY(0px)",this._showToTopButton=!0):(this.toTopButton.classList.add("invisible"),this.toTopButton.style.transform="translateY(100%)",this.toTopButton.style.webkitTransform="translateY(150%)",this._showToTopButton=!1)}}])&&Dl(n.prototype,o),i&&Dl(n,i),e}(r.Component);function ql(t){return(ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ul(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Gl(t,e){return!e||"object"!==ql(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hl(t,e,n){return(Hl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wl(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Wl(t){return(Wl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jl(t,e){return(Jl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yl=function(t){function e(){var t,n;Ul(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];var a=(n=Gl(this,(t=Wl(e)).call.apply(t,[this].concat(i)))).el.getAttribute("data-src");return a&&n.el.setAttribute("src",a),window.Coral&&window.Coral.Talk?n.publish(s.Y):n.el.onload=function(){n.publish(s.Y)},n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jl(t,e)}(e,t),n=e,(o=[{key:"destroy",value:function(){Hl(Wl(e.prototype),"destroy",this).call(this)}}])&&Fl(n.prototype,o),i&&Fl(n,i),e}(r.Component);function Kl(t){return(Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ql(t,e){return!e||"object"!==Kl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zl(t,e,n){return(Zl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tu(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function tu(t){return(tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function eu(t,e){return(eu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nu(t){return(nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ou(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iu(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ru(t,e){return!e||"object"!==nu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function au(t,e,n){return(au="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=su(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function su(t){return(su=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cu(t,e){return(cu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lu=function(t){function e(){var t,n;ou(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=ru(this,(t=su(e)).call.apply(t,[this].concat(i)))).events={default:{name:s.bb,set:function(t){return q.a.instance.setThirdPartyConsentState(t)},get:q.a.instance.hasAcceptedThirdPartyConsent},affiliate:{name:s.f,set:function(t){return q.a.instance.setAffiliateConsentState(t)},get:q.a.instance.hasAcceptedAffiliateConsent}},n.init(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cu(t,e)}(e,t),n=e,(o=[{key:"onClick",value:function(t){var n=this;au(su(e.prototype),"onClick",this).call(this,t),setTimeout((function(){n.events[n.settings.event].set(n.settings.activated),n.publish(n.events[n.settings.event].name,{accepted:n.settings.activated})}),this.animationDurationInMillis)}},{key:"init",value:function(){var t=this;au(su(e.prototype),"init",this).call(this),this.subscribe(this.events[this.settings.event].name,(function(e){t.toggleAriaAndTabindex(e.accepted)}))}},{key:"on",value:function(){au(su(e.prototype),"on",this).call(this),this.toggleAriaAndTabindex(this.events[this.settings.event].get)}},{key:"toggleAriaAndTabindex",value:function(t){this.settings.isActivator?(this.el.setAttribute("aria-hidden",t),this.el.setAttribute("tabindex",t?"-1":"-0")):(this.el.setAttribute("aria-hidden",!t),this.el.setAttribute("tabindex",t?"-0":"-1"))}},{key:"off",value:function(){au(su(e.prototype),"off",this).call(this),this.toggleAriaAndTabindex(this.events[this.settings.event].get),this.toggleAriaAndTabindex(q.a.instance.hasAcceptedThirdPartyConsent)}}])&&iu(n.prototype,o),i&&iu(n,i),e}(function(t){function e(){return Xl(this,e),Ql(this,tu(e).apply(this,arguments))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eu(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.settings=this.data&&this.data.settings&&JSON.parse(this.data.settings)||{},this.animationDurationInMillis=250,this.bar=this.el.querySelector('[data-toggle-el="bar"]'),this.knob=this.el.querySelector('[data-toggle-el="knob"]'),this.activated=this.settings.activated||!1,this.el.addEventListener("click",(function(e){t.onClick(e)})),this.toggle(this.settings.activated)}},{key:"onClick",value:function(){this.toggle(!this.settings.activated)}},{key:"toggle",value:function(t){t?this.on():this.off(),this.settings.activated=t}},{key:"on",value:function(){this.bar.classList.remove("bg-shade-light"),this.bar.classList.add("bg-positive"),this.knob.classList.add("border-positive"),this.knob.style.transition="transform ".concat(this.animationDurationInMillis/1e3,"s"),this.knob.style.transform="translateX(30px)"}},{key:"off",value:function(){this.bar.classList.remove("bg-positive"),this.bar.classList.add("bg-shade-light"),this.knob.classList.remove("border-positive"),this.knob.style.transition="transform ".concat(this.animationDurationInMillis/1e3,"s"),this.knob.style.transform="translateX(0px)"}},{key:"destroy",value:function(){Zl(tu(e.prototype),"destroy",this).call(this)}}])&&$l(n.prototype,o),i&&$l(n,i),e}(r.Component));function uu(t){return(uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pu(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function yu(t,e){return!e||"object"!==uu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function du(t,e,n){return(du="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hu(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function hu(t){return(hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bu(t,e){return(bu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gu=function(t){function e(){var t,n;fu(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];var a=(n=yu(this,(t=hu(e)).call.apply(t,[this].concat(i)))).data.settings?JSON.parse(n.data.settings):{},s=a.clientId,c=a.tickarooId,l=n.el.querySelector("[data-tickaroo-el=container]");return window._tik&&window._tik("embedLiveblog",{container:l,clientId:s,id:c,showWebEmbeds:"consent_handling"}),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bu(t,e)}(e,t),n=e,(o=[{key:"destroy",value:function(){du(hu(e.prototype),"destroy",this).call(this)}}])&&pu(n.prototype,o),i&&pu(n,i),e}(r.Component);function vu(t){return(vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wu(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ou(t,e){return!e||"object"!==vu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Su(t,e,n){return(Su="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ku(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function ku(t){return(ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Eu(t,e){return(Eu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pu=function(t){function e(){var t,n;mu(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=Ou(this,(t=ku(e)).call.apply(t,[this].concat(i)))).init(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Eu(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.boundOpenToc=function(e){t.openToc(e)},this.el.addEventListener("click",this.boundOpenToc)}},{key:"openToc",value:function(t){t.preventDefault(),this.publish(s.eb,{id:this.data.componentId})}},{key:"destroy",value:function(){this.el.removeEventListener("click",this.boundOpenToc),Su(ku(e.prototype),"destroy",this).call(this)}}])&&wu(n.prototype,o),i&&wu(n,i),e}(r.Component);function _u(t){return(_u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Au(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ju(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Tu(t,e){return!e||"object"!==_u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lu(t,e,n){return(Lu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cu(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Cu(t){return(Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Iu(t,e){return(Iu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ru=function(t){function e(){var t,n;Au(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=Tu(this,(t=Cu(e)).call.apply(t,[this].concat(i)))).id="".concat(Math.floor(1e8+9e8*Math.random())),n.hash="inhaltsverzeichnis",n.overlay=n.el.querySelector('[data-toc-drawer-el="overlay"]'),n.closeButton=n.el.querySelector('[data-toc-drawer-el="close"]'),n.container=n.el.querySelector('[data-toc-drawer-el="container"]'),n.activeItem=n.el.querySelector('[data-is-active="true"]'),n.items=Array.from(n.el.querySelectorAll('[data-toc-drawer-el="item"]')),n.body=document.querySelector("body"),n.pendingClickUrl="",n.scrollTop=-1,n.state="STATE_CLOSED",n.featureDetection=Fr.instance,n.init(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Iu(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.container&&(this.subscribe(s.eb,(function(e){t.returnFocusElement=e&&e.id?document.querySelector('[data-component-id="'.concat(e.id,'"]')):null,t.publish(s.n,t.id)})),this.subscribe(s.cb,(function(){t.publish(s.k)})),this.subscribe(s.gb,(function(){t.onToggle()})),this.closeButton&&this.closeButton.addEventListener("click",(function(e){e.preventDefault(),t.publish(s.k)})),this.overlay&&this.overlay.addEventListener("click",(function(){t.publish(s.k)}),!!this.featureDetection.supportsPassiveEventListener&&{passive:!0}),Array.isArray(this.items)&&this.items.length>0&&this.items.forEach((function(e){e.addEventListener("click",(function(e){t.onItemClicked(e)}))})),nn.a.instance.register(this),window.location.hash==="#".concat(this.hash)&&this.publish(s.n,this.id))}},{key:"open",value:function(){this.state="STATE_OPEN",this.overlay&&this.overlay.classList.add("fixed"),this.container.style.transform="translateX(0px)",this.container.style.webkitTransform="translateX(0px)",this.container.classList.remove("hidden"),this.body.classList.add("scrollbar-none"),this.publish(s.B,this),-1===this.scrollTop?this.centerActiveItem():this.container.scrollTop=this.scrollTop}},{key:"close",value:function(){var t=this;if(this.state="STATE_CLOSED",this.scrollTop=this.container.scrollTop,this.overlay&&this.overlay.classList.remove("fixed"),this.container.style.transform="translateX(100%)",this.container.style.webkitTransform="translateX(100%)",this.container.addEventListener("ontransitionend",(function(){t.container.classList.add("hidden")})),this.body.classList.remove("scrollbar-none"),this.publish(s.z,this),this.returnFocusElement&&this.returnFocusElement.focus(),this.pendingClickUrl){var e=this.pendingClickUrl;this.pendingClickUrl="",window.location.assign(e)}}},{key:"centerActiveItem",value:function(){if(this.activeItem&&"function"==typeof this.activeItem.getBoundingClientRect){var t=this.activeItem.getBoundingClientRect().top,e=this.activeItem.getBoundingClientRect().height,n=this.container.offsetHeight;if(t<0||t+e>n){var o=t-n/2;this.container.scrollTop+=o,this.scrollTop=this.container.scrollTop}}}},{key:"onItemClicked",value:function(t){k.a.isIOSApp&&t.target&&"string"==typeof t.target.href&&t.target.href&&(t.preventDefault(),this.pendingClickUrl=t.target.href),this.publish(s.k)}},{key:"onToggle",value:function(){switch(this.state){case"STATE_OPEN":this.publish(s.cb);break;case"STATE_CLOSED":this.publish(s.eb)}}},{key:"destroy",value:function(){Lu(Cu(e.prototype),"destroy",this).call(this)}},{key:"preventScrolling",get:function(){return P.a.isMobile}}])&&ju(n.prototype,o),i&&ju(n,i),e}(r.Component);function Du(t){return(Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bu(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Nu(t,e){return!e||"object"!==Du(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zu(t,e,n){return(zu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mu(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Mu(t){return(Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vu(t,e){return(Vu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qu=function(t){function e(){var t,n;xu(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];var a=(n=Nu(this,(t=Mu(e)).call.apply(t,[this].concat(i)))).el.querySelector("[data-tooltip-el=content]"),s=n.el.querySelector("[data-tooltip-el=trigger]");return s.addEventListener("mouseenter",(function(){a.classList.remove("hidden")})),s.addEventListener("mouseleave",(function(){a.classList.add("hidden")})),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vu(t,e)}(e,t),n=e,(o=[{key:"destroy",value:function(){zu(Mu(e.prototype),"destroy",this).call(this)}}])&&Bu(n.prototype,o),i&&Bu(n,i),e}(r.Component),Uu=n(115);function Fu(t){return(Fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hu(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Wu(t,e){return!e||"object"!==Fu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ju(t,e,n){return(Ju="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yu(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Yu(t){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ku(t,e){return(Ku=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xu=function(t){function e(){var t,n;Gu(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=Wu(this,(t=Yu(e)).call.apply(t,[this].concat(i)))).video=n.el.querySelector('[data-video-el="video"]'),n.poster=n.el.querySelector('[data-video-el="poster"]'),n.loader=n.el.querySelector('[data-video-el="loader"]'),!P.a.isInternetExplorer&&Element.prototype.closest&&(n.mouseTarget=n.el.closest('[data-video-el="mouseTarget"]')),n.mouseTarget=n.mouseTarget||n.el,n.settings=n.data.settings?JSON.parse(n.data.settings):{},n.dataSrc=n.video?n.video.getAttribute("data-src"):"",n.jwplayerMediaId=n.settings.jwplayerMediaId?n.settings.jwplayerMediaId:"",n.useJwplayerVideoThumbnail=!!n.settings.useJwplayerVideoThumbnail,n.lazyload=!!n.settings.lazyload,n.autoplay=!!n.settings.autoplay,n.boundOnMouseEnter=function(t){return n.onMouseEnter(t)},n.boundOnMouseMove=function(t){return n.onMouseMove(t)},n.boundOnLazyLoad=function(t){return n.onLazyLoad(t)},n.boundOnVideoCanPlay=function(){return n.onVideoCanPlay()},n.boundOnVideoLoadedMetadata=function(){return n.onVideoLoadedMetadata()},n.boundOnVideoPlaying=function(){return n.onVideoPlaying()},n.boundOnVideoWaiting=function(){return n.onVideoWaiting()},n.boundOnVideoEnded=function(){return n.onVideoEnded()},n.boundOnVideoError=function(){return n.onError()},n.isInitialized=!1,n.isLoaded=!1,n.mode="MODE_STOP",n.state="STATE_DEFAULT",n.video&&(n.dataSrc||n.jwplayerMediaId)?n.init():n.onError(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ku(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){(P.a.isMobileSafari||k.a.isIOSApp)&&this.video.addEventListener("loadedmetadata",this.boundOnVideoLoadedMetadata),this.video.addEventListener("canplay",this.boundOnVideoCanPlay),this.video.addEventListener("playing",this.boundOnVideoPlaying),this.video.addEventListener("waiting",this.boundOnVideoWaiting),this.video.addEventListener("ended",this.boundOnVideoEnded),this.video.addEventListener("error",this.boundOnVideoError),this.autoplay&&(this.intersectionObserverTarget=this.el,this.intersectionObserver=null,this.initIntersectionObserver(),P.a.isMobile||this.mouseTarget.addEventListener("mouseenter",this.boundOnMouseEnter)),this.lazyload?this.el.addEventListener("lazybeforeunveil",this.boundOnLazyLoad):this.loadVideo()}},{key:"loadVideo",value:function(){this.dataSrc?(this.loadVideoByDataSrc(),this.loadPosterFallback()):this.jwplayerMediaId&&this.useJwplayerVideoThumbnail?(this.loadVideoThumbnailByJwplayerMediaId(),this.loadPosterFallback()):this.jwplayerMediaId?this.loadVideoByJwplayerMediaId():this.onError()}},{key:"loadVideoByDataSrc",value:function(){this.dataSrc&&(this.src=this.dataSrc)}},{key:"loadVideoThumbnailByJwplayerMediaId",value:function(){if(this.jwplayerMediaId){var t=Uu.a.instance.getVideoThumbnailByMediaId(this.jwplayerMediaId,this.offsetWidth);t?this.src=t:this.onError()}}},{key:"loadVideoByJwplayerMediaId",value:function(){var t=this;if(this.jwplayerMediaId){var e=Uu.a.instance;e.getMediaObjectByMediaId(this.jwplayerMediaId).then((function(n){var o="";(o=t.useJwplayerVideoThumbnail?e.getVideoThumbnailByMediaObject(n,t.offsetWidth):e.getVideoByMediaObject(n,t.offsetWidth))?(t.src=o,t.poster||t.videoPoster||(t.videoPoster=e.getImageThumbnailByMediaObject(n,t.offsetWidth))):t.onError()})).catch((function(){return t.onError()}))}}},{key:"loadPosterFallback",value:function(){var t=this;if(!this.poster&&!this.videoPoster&&this.jwplayerMediaId){var e=Uu.a.instance;e.getMediaObjectByMediaId(this.jwplayerMediaId).then((function(n){t.videoPoster=e.getImageThumbnailByMediaObject(n,t.offsetWidth)})).catch((function(){}))}}},{key:"initIntersectionObserver",value:function(){var t=this;this.intersectionObserverTarget&&(this.intersectionObserver=new IntersectionObserver((function(e){return t.onIntersectionChanged(e)}),{threshold:[0,.5]}),this.intersectionObserver.observe(this.intersectionObserverTarget))}},{key:"play",value:function(){"function"==typeof this.video.play&&this.video.play()}},{key:"stop",value:function(){this.isPlaying&&"function"==typeof this.video.pause&&(this.video.pause(),this.video.currentTime=0,this.videoPoster&&"function"==typeof this.video.load&&this.video.load())}},{key:"onLazyLoad",value:function(t){t.target===this.el&&this.loadVideo()}},{key:"onVideoLoadedMetadata",value:function(){this.onVideoCanPlay()}},{key:"onVideoCanPlay",value:function(){this.isLoaded=!0,"MODE_PLAY"===this.mode&&this.play()}},{key:"onVideoPlaying",value:function(){"MODE_STOP"===this.mode?this.stop():this.state="STATE_PLAYING"}},{key:"onVideoWaiting",value:function(){this.state="STATE_WAITING"}},{key:"onVideoEnded",value:function(){this.mode="MODE_STOP"}},{key:"onIntersectionChanged",value:function(t){t[0].isIntersecting?P.a.isMobile&&t[0].intersectionRatio>=.5&&(this.mode="MODE_PLAY"):this.mode="MODE_STOP"}},{key:"onMouseEnter",value:function(){this.mode="MODE_PLAY"}},{key:"onMouseMove",value:function(t){this.isMousePositionInside(t.clientX,t.clientY)||(this.mode="MODE_STOP")}},{key:"onError",value:function(){this.state="STATE_ERROR",this.destroy()}},{key:"isMousePositionInside",value:function(t,e){if(!Number.isInteger(t)||!Number.isInteger(e))return!1;var n=this.mouseTarget.getBoundingClientRect(),o=t-n.left,i=e-n.top;return o>=0&&o<=n.width&&i>=0&&i<=n.height}},{key:"destroy",value:function(){this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyLoad),this.mouseTarget.removeEventListener("mouseenter",this.boundOnMouseEnter),window.removeEventListener("mousemove",this.boundOnMouseMove),this.intersectionObserver&&"function"==typeof this.intersectionObserver.disconnect&&this.intersectionObserver.disconnect(),this.video&&(this.video.removeEventListener("canplay",this.boundOnVideoCanPlay),this.video.removeEventListener("loadedmetadata",this.boundOnVideoLoadedMetadata),this.video.removeEventListener("playing",this.boundOnVideoPlaying),this.video.removeEventListener("waiting",this.boundOnVideoWaiting),this.video.removeEventListener("ended",this.boundOnVideoEnded),this.video.removeEventListener("error",this.boundOnVideoError)),Ju(Yu(e.prototype),"destroy",this).call(this)}},{key:"offsetWidth",get:function(){return this.el&&this.el.offsetWidth?this.el.offsetWidth:0}},{key:"isPlaying",get:function(){return this.video&&this.video.currentTime>0&&!this.video.paused&&!this.video.ended&&this.video.readyState>this.video.HAVE_CURRENT_DATA}},{key:"src",get:function(){return this._src?this._src:""},set:function(t){t&&this.video&&!this.video.getAttribute("src")&&(this._src=t,this.video.setAttribute("src",t))}},{key:"videoPoster",get:function(){return this.video&&this.video.getAttribute("poster")?this.video.getAttribute("poster"):""},set:function(t){t&&this.video&&!this.video.getAttribute("poster")&&this.video.setAttribute("poster",t)}},{key:"mode",get:function(){return this._mode?this._mode:""},set:function(t){if(this._mode!==t)switch(this._mode=t,t){case"MODE_PLAY":this.state="STATE_LOADING",this.isLoaded&&this.play(),P.a.isMobile||window.addEventListener("mousemove",this.boundOnMouseMove);break;case"MODE_STOP":default:this.state="STATE_DEFAULT",this.isLoaded&&this.stop(),P.a.isMobile||window.removeEventListener("mousemove",this.boundOnMouseMove)}}},{key:"state",set:function(t){if(this._state!==t)switch(this._state=t,t){case"STATE_LOADING":At.a.toggleElementVisibility(this.loader,!0),this.poster?(At.a.toggleElementVisibility(this.poster,!0),At.a.toggleElementVisibility(this.video,!1)):At.a.toggleElementVisibility(this.video,!0);break;case"STATE_WAITING":At.a.toggleElementVisibility(this.loader,!0),At.a.toggleElementVisibility(this.poster,!1),At.a.toggleElementVisibility(this.video,!0);break;case"STATE_PLAYING":At.a.toggleElementVisibility(this.loader,!1),At.a.toggleElementVisibility(this.poster,!1),At.a.toggleElementVisibility(this.video,!0);break;case"STATE_ERROR":case"STATE_DEFAULT":default:At.a.toggleElementVisibility(this.loader,!1),this.poster?(At.a.toggleElementVisibility(this.poster,!0),At.a.toggleElementVisibility(this.video,!1)):At.a.toggleElementVisibility(this.video,!0)}}}])&&Hu(n.prototype,o),i&&Hu(n,i),e}(r.Component),$u=n(140);function Qu(t){return(Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tf(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ef(t,e){return!e||"object"!==Qu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nf(t,e,n){return(nf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=of(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function of(t){return(of=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rf(t,e){return(rf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var af=function(t){function e(){var t,n;Zu(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];if((n=ef(this,(t=of(e)).call.apply(t,[this].concat(i)))).isInitialized=!1,n.settings=n.data.settings?JSON.parse(n.data.settings):{},n.settings.disableVideoDataControl)return ef(n);$u.a.instance;return"object"===Qu(window.$AC)&&"function"==typeof window.$AC.loadConfig?n.init():(n.el.onload=function(){n.onLoad()},n.el.onerror=function(){n.onError()}),n.initSrc(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rf(t,e)}(e,t),n=e,(o=[{key:"onLoad",value:function(){this.init()}},{key:"onError",value:function(){console.error("Unable to load VDC source"),this.publish(s.rb)}},{key:"init",value:function(){this.isInitialized||(this.publish(s.sb),this.isInitialized=!0)}},{key:"destroy",value:function(){nf(of(e.prototype),"destroy",this).call(this)}}])&&tf(n.prototype,o),i&&tf(n,i),e}(io);function sf(t){return(sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lf(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function uf(t,e){return!e||"object"!==sf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ff(t,e,n){return(ff="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pf(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function pf(t){return(pf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yf(t,e){return(yf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var df=function(t){function e(){var t,n;cf(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=uf(this,(t=pf(e)).call.apply(t,[this].concat(i)))).init(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yf(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this.el.querySelector('[data-vouchers-el="advertisementLabel"]'),e=this.el.querySelector('[data-vouchers-el="vouchersContainer"]');q.a.instance.hasNoAdsAccess||(t&&t.classList.remove("hidden"),e&&e.classList.remove("hidden"))}},{key:"destroy",value:function(){ff(pf(e.prototype),"destroy",this).call(this)}}])&&lf(n.prototype,o),i&&lf(n,i),e}(r.Component);function hf(t){return(hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gf(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function vf(t,e){return!e||"object"!==hf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mf(t,e,n){return(mf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wf(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function wf(t){return(wf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Of(t,e){return(Of=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Sf=function(t){function e(){var t,n;bf(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=vf(this,(t=wf(e)).call.apply(t,[this].concat(i)))).replacer=n.el.querySelector('[data-widget-el="replacer"]'),n.widgetContent=n.replacer.dataset.content,n.boundOnLazyLoad=function(t){t.target===n.el&&n.onLazyLoad()},n.el.addEventListener("lazybeforeunveil",n.boundOnLazyLoad),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Of(t,e)}(e,t),n=e,(o=[{key:"onLazyLoad",value:function(){try{this.replacer.parentNode.appendChild(document.createRange().createContextualFragment(this.widgetContent))}catch(t){this.replacer.parentNode.insertAdjacentHTML("beforeend",this.widgetContent)}this.replacer.classList.add("hidden"),this.replacer.remove()}},{key:"destroy",value:function(){this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyLoad),mf(wf(e.prototype),"destroy",this).call(this)}}])&&gf(n.prototype,o),i&&gf(n,i),e}(r.Component);window.polygon=window.polygon||{};var kf=new h({AdblockLayer:Mt,AffiliateBox:Wt,AmpStoryPlayerSource:Zt,AppButton:se,AppUpdate:he,AppStoreRedirect:ke,AudioBanderole:Ce,BestsellerAccordionSection:Je,BreakpointListener:en,ConsentAcceptReject:fn,ConsentLayer:mn,CreativeEmbed:_n,Datawrapper:Dn,Defer:Un,Embed:Xn,EmbedQuizSource:po,Error404InfoBox:Oo,EventObserver:To,FeatureBar:zo,FooterAccordionSection:Wo,FurtherReads:ti,GalleryLayer:li,GalleryTeaser:gi,GujSource:Pi,HeiseWidgetSource:qi,HeaderBar:Ri,HTMLEmbed:Yi,IframeNewsletter:lr,Iframe:er,Image:gr,JWPlayerSource:Pr,MagazineImage:Rr,MenuAccordionSection:Mr,MenuDrawer:Qr,MultiboxAccordionSection:aa,NativeAudioPlayerOmny:Ia,NativeVideo:Va,NavBar:$a,Outbrain:rs,PartnerBar:fs,PlayButton:ms,PlaylistButton:As,PodlovePlayerLoader:Rs,PodLoveWebPlayerOmny:Ks,PodloveWebplayerSource:oc,PreviewOmny:fc,PreviewScrolling:mc,SourcePoint:Tc,SourcePointSource:Nc,StoryActivator:Hc,StoryLayer:tl,SwiperBar:cl,Tabs:hl,Talk:kl,TalkActivator:Cl,TalkDrawer:Vl,TalkSource:Yl,ThirdPartyConsentToggleButton:lu,Tickaroo:gu,TocActivator:Pu,TocDrawer:Ru,Tooltip:qu,Video:Xu,VideoDataControlSource:af,Vouchers:df,Widget:Sf});window.polygon.deferredComponents={BeforeAfterSlider:function(){return n.e(1).then(n.bind(null,260))},CappingLayer:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,268))},ImageZoomLayer:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,267))},JWPlayer:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,269))},Search:function(){return n.e(8).then(n.bind(null,261))}},B.then((function(){return function(){window.polygon.componentLoader&&"function"==typeof window.polygon.componentLoader.destroy?window.polygon.componentLoader.destroy(kf):window.polygon.componentLoader=kf;var t=tt.instance;b.a.instance,I.instance,V.instance,O.instance,ut.a.instance,dt.instance,nn.a.instance,lt.instance;t.sendPageLoadEvent(),window.polygon.componentLoader.subscribe(s.u,(function(t,e){(new rt).execute(t,e)})),n.e(0).then(n.t.bind(null,251,7)).then((function(t){var e=t.default;new e({elements_selector:".lazyload",use_native:!0,unobserve_entered:!0,unobserve_completed:!0}),new e({elements_selector:".lazytrigger",use_native:!1,unobserve_entered:!0,unobserve_completed:!0,callback_enter:function(t){t.dispatchEvent(new Event("lazybeforeunveil"))},callback_loaded:function(t){t.dispatchEvent(new Event("lazyloaded"))}})})).catch((function(){})),window.polygon.componentLoader.scan()}()}))},52:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(4),n(5),n(28),n(92),n(54),n(55),n(57),n(3),n(24),n(45),n(29);var o=n(0);function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=Symbol("INSTANCE"),a=Symbol("SINGELTONENFORCER"),s=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==a)throw new Error("Instantiation failed: Use BrowserHistoryService.instance instead of new.");this.registeredLayers={},this.browserHistoryLayers=[],this.currentIndex=window.history?0:-1,this.currentHash="",this.id=Date.now(),this.init()}var e,n,s;return e=t,s=[{key:"instance",get:function(){return this[r]||(this[r]=new t(a)),this[r]}}],(n=[{key:"init",value:function(){var t=this;window.history&&(window.history.state&&Number.isInteger(window.history.state.index)?this.currentIndex=window.history.state.index:(this.currentIndex=window.history.length-1,window.history.replaceState({layerServiceId:this.id,index:this.currentIndex,hash:"",isInitState:!0},""))),this.boundOnKeyDown=function(e){return t.onKeyDown(e)},window.document.addEventListener("keydown",this.boundOnKeyDown),window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(o.k,this.onCloseLayerTriggered,this),window.polygon.componentLoader.subscribe(o.n,this.onOpenLayerTriggered,this)),window.addEventListener("popstate",(function(e){return t.onPopstate(e)}))}},{key:"register",value:function(t){t&&"string"==typeof t.id&&"string"==typeof t.hash&&"function"==typeof t.close&&"function"==typeof t.open?this.registeredLayers[t.id]=t:console.error("LayerService registration failed: layer needs to implement an id and hash string and a close and open function")}},{key:"addLayerToBrowserHistory",value:function(t){if(this.currentHash&&this.currentHash===t.hash)return!1;if(window.history)if(window.history.state&&window.history.state.hash&&window.history.state.hash===t.hash){this.currentHash=t.hash?t.hash:"";var e={layerServiceId:this.id,index:this.currentIndex,hash:this.currentHash};window.history.replaceState(e,"",t.hash?"#".concat(t.hash):"")}else{this.currentIndex<this.browserHistoryLayers.length-1&&(this.browserHistoryLayers=this.browserHistoryLayers.slice(0,this.currentIndex+1)),this.currentIndex+=1,this.currentHash=t.hash?t.hash:"";var n={layerServiceId:this.id,index:this.currentIndex,hash:this.currentHash};window.history.pushState(n,"",this.currentHash?"#".concat(this.currentHash):"")}else this.currentIndex+=1;return this.browserHistoryLayers[this.currentIndex]=t,this.openLayer(this.currentIndex),this.onActiveLayerChanged(),!0}},{key:"openLayer",value:function(t){var e=this.browserHistoryLayers[t];return!(!e||"function"!=typeof e.open||(e.open(),window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.m,e.id),0))}},{key:"closeLayer",value:function(t){var e=this.browserHistoryLayers[t];return!(!e||"function"!=typeof e.close||(e.close(),window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.l,e.id),0))}},{key:"back",value:function(){void 0!==this.browserHistoryLayers[this.currentIndex]&&(window.history&&"function"==typeof window.history.go?window.history.go(-1):(this.closeLayer(this.currentIndex),this.currentIndex=this.currentIndex>=0?this.currentIndex-1:-1,this.onActiveLayerChanged()))}},{key:"goTo",value:function(t){if(this.currentIndex>t){for(var e=t>=0?t+1:0,n=this.currentIndex;n>=e;n--)this.closeLayer(n);this.currentIndex=t,this.onActiveLayerChanged()}else if(this.currentIndex<t){for(var o=this.currentIndex>=0?this.currentIndex+1:0;o<=t;o++)this.openLayer(o);this.currentIndex=t,this.onActiveLayerChanged()}}},{key:"restoreLayerByHash",value:function(t){var e=this,n=!1;Object.keys(this.registeredLayers).forEach((function(o){var i=e.registeredLayers[o];n||i.hash!==t||(e.addLayerToBrowserHistory(i),n=!0)}))}},{key:"onPopstate",value:function(t){if(t&&t.state){var e,n="",o="";if(t.state.layerServiceId===this.id){if(e=t.state&&Number.isInteger(t.state.index)?t.state.index:void 0,n=t.state&&t.state.hash?t.state.hash:"",t.state&&t.state.isInitState&&this.windowHash&&window.history){var i={layerServiceId:this.id,index:Number.isInteger(e)?e:this.currentIndex,hash:""};window.history.replaceState(i,"",window.location.pathname+window.location.search)}}else if(e=t.state&&Number.isInteger(t.state.index)?t.state.index:void 0,this.currentHash!==this.windowHash)o=this.windowHash;else if(window.history){var r={layerServiceId:this.id,index:Number.isInteger(e)?e:this.currentIndex,hash:""};window.history.replaceState(r,"",window.location.pathname+window.location.search)}void 0!==e&&this.currentIndex!==e&&(this.goTo(e),this.currentHash=n),o&&this.restoreLayerByHash(o)}}},{key:"onKeyDown",value:function(t){t.defaultPrevented||"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||void 0===this.browserHistoryLayers[this.currentIndex]||(t.preventDefault(),this.back())}},{key:"onOpenLayerTriggered",value:function(t){this.registeredLayers[t]&&"function"==typeof this.registeredLayers[t].close&&"function"==typeof this.registeredLayers[t].open&&this.addLayerToBrowserHistory(this.registeredLayers[t])}},{key:"onCloseLayerTriggered",value:function(){this.back()}},{key:"onActiveLayerChanged",value:function(){var t=this.browserHistoryLayers[this.currentIndex];t&&t.id&&window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.j,t.id)}},{key:"windowHash",get:function(){return window.location.hash?window.location.hash.substring(1):""}}])&&i(e.prototype,n),s&&i(e,s),t}()},6:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(58),i=n(113);function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,a;return e=t,a=[{key:"parseBase64Settings",value:function(t){if(!t||"string"!=typeof t)return{};try{return i.a.pipe(o.a.decodeBase64,o.a.decodeHtmlEntities,o.a.decodeURI,o.a.parseJson)(t)}catch(t){return{}}}},{key:"toggleElementVisibility",value:function(t,e){t&&(e?t.classList.remove("hidden"):t.classList.add("hidden"))}}],(n=null)&&r(e.prototype,n),a&&r(e,a),t}()},73:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(4),n(5),n(3);var o=n(0);function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=Symbol("INSTANCE"),a=Symbol("SINGELTONENFORCER"),s=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==a)throw new Error("Instantiation failed: Use TCDataModel.instance instead of new.");this._ready=!1,this._tcData=void 0,this._customVendorData=void 0,this.lastEventStatus=void 0,this.init()}var e,n,s;return e=t,s=[{key:"instance",get:function(){return this[r]||(this[r]=new t(a)),this[r]}}],(n=[{key:"init",value:function(){var t=this;"function"==typeof window.__tcfapi?window.__tcfapi("addEventListener",2,(function(e,n){n&&e&&e.eventStatus&&t.lastEventStatus!==e.eventStatus&&(t.lastEventStatus=e.eventStatus,t.onTCDataChanged(e,n))})):console.warn("TCData window.__tcfapi is not available!")}},{key:"onTCDataChanged",value:function(t){var e=this;this._tcData=t,t&&t.eventStatus&&("tcloaded"===t.eventStatus||"useractioncomplete"===t.eventStatus)&&window.__tcfapi("getCustomVendorConsents",2,(function(t,n){n&&e.onCustomVendorConsentsReceived(t)}))}},{key:"onCustomVendorConsentsReceived",value:function(t){this._ready=!0,this._customVendorData=t,window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.ab,t)}},{key:"isPurposeGranted",value:function(t){var e=!1;if(this._customVendorData&&this._customVendorData.consentedPurposes&&Array.isArray(this._customVendorData.consentedPurposes)&&this._customVendorData.consentedPurposes.length>0)for(var n=0;n<this._customVendorData.consentedPurposes.length;n++)if(this._customVendorData.consentedPurposes[n]._id&&this._customVendorData.consentedPurposes[n]._id===t){e=!0;break}return e}},{key:"isVendorGranted",value:function(t){return!!(this._customVendorData&&this._customVendorData.grants&&this._customVendorData.grants[t]&&this._customVendorData.grants[t].vendorGrant)}},{key:"ready",get:function(){return this._ready}},{key:"tcData",get:function(){return this._tcData}},{key:"customVendorData",get:function(){return this._customVendorData}}])&&i(e.prototype,n),s&&i(e,s),t}()}});