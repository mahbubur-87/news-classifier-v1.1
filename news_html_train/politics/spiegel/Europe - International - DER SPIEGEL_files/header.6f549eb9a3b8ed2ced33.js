!function(e){function o(o){for(var t,r,s=o[0],l=o[1],c=o[2],d=0,p=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(t in l)Object.prototype.hasOwnProperty.call(l,t)&&(e[t]=l[t]);for(u&&u(o);p.length;)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,o=0;o<a.length;o++){for(var n=a[o],t=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(t=!1)}t&&(a.splice(o--,1),e=r(r.s=n[0]))}return e}var t={},i={10:0},a=[];function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,o,n){r.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,o){if(1&o&&(e=r(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var t in e)r.d(n,t,function(o){return e[o]}.bind(null,t));return n},r.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(o,"a",o),o},r.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},r.p="/public/";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=o,s=s.slice();for(var c=0;c<s.length;c++)o(s[c]);var u=l;a.push([179,3]),n()}({179:function(e,o,n){n(141),e.exports=n(247)},247:function(e,o,n){"use strict";n.r(o);var t=n(0),i=(n(14),n(70),n(54),n(55),n(27)),a=n.n(i),r=n(19),s=n(10);function l(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var c=function(){function e(){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e),a.a.remove("spconsent"),this.update(),window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.subscribe(t.O,this.onSourcepointChoiceProcessed,this)}var o,n,i;return o=e,(n=[{key:"update",value:function(){this.getCookie()}},{key:"getCookie",value:function(){var e=a.a.get(r.a.polygonConsent.name),o=a.a.get(r.a.euconsent.name);if(e&&o){var n=s.a.instance.consent&&s.a.instance.consent.minUpdatedAt?s.a.instance.consent.minUpdatedAt:0,t=this.decode(e);if(t&&t.updated_at&&t.updated_at>n)return void(this._cookie=t)}this.writeCookie(!1)}},{key:"updateCookie",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=e!==this.value,n=this.writeCookie(e);n&&o&&window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(t.J,e)}},{key:"writeCookie",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o={value:e,updated_at:Math.floor(Date.now()/1e3)},n=Number.isInteger(r.a.polygonConsent.expires)?r.a.polygonConsent.expires:365,i="boolean"!=typeof r.a.polygonConsent.secure||r.a.polygonConsent.secure,l=".".concat(s.a.instance.secondLevelDomain?s.a.instance.secondLevelDomain:"spiegel",".").concat(s.a.instance.topLevelDomain?s.a.instance.topLevelDomain:"de");return a.a.set(r.a.polygonConsent.name,this.encode(o),{domain:l,expires:n,secure:i}),a.a.get(r.a.polygonConsent.name)?(this._cookie=o,!0):(window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(t.K),!1)}},{key:"onSourcepointChoiceProcessed",value:function(e){var o;e===r.c.accept_all?o=!0:e!==r.c.reject_all&&e!==r.c.accept_some||(o=!1),void 0!==o&&this.updateCookie(o)}},{key:"encode",value:function(e){return window.btoa(JSON.stringify(e))}},{key:"decode",value:function(e){return JSON.parse(window.atob(e))||{}}},{key:"value",get:function(){return!(!this._cookie||!this._cookie.value)&&this._cookie.value}}])&&l(o.prototype,n),i&&l(o,i),e}();n(4),n(5),n(11),n(38),n(7),n(3),n(56),n(8),n(9);function u(e){return function(e){if(Array.isArray(e)){for(var o=0,n=new Array(e.length);o<e.length;o++)n[o]=e[o];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var p=function(){function e(){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriptions=[],this.publications=[]}var o,n,t;return o=e,(n=[{key:"subscribe",value:function(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];this.subscriptions.push(o)}},{key:"publish",value:function(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];this.publications.push(o)}},{key:"destroy",value:function(e){if(e&&"function"==typeof e.subscribe&&"function"==typeof e.publish){for(window.polygon&&(window.polygon.componentLoader=e);this.subscriptions.length>0;){var o=this.subscriptions.pop();e.subscribe.apply(e,u(o))}for(;this.publications.length>0;){var n=this.publications.pop();e.publish.apply(e,u(n))}}}}])&&d(o.prototype,n),t&&d(o,t),e}();n(49);function f(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var y=Symbol("INSTANCE"),g=Symbol("SINGELTONENFORCER"),v=function(){function e(o){if(function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e),o!==g)throw new Error("Instantiation failed: Use Settings.instance instead of new.");this.init()}var o,n,i;return o=e,i=[{key:"instance",get:function(){return this[y]||(this[y]=new e(g)),this[y]}}],(n=[{key:"init",value:function(){this.stores={},window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.subscribe(t.G,this.onPodloveWebplayerInitialized,this)}},{key:"onPodloveWebplayerInitialized",value:function(e){e.id&&e.store&&(this.stores[e.id]=e.store)}},{key:"getStore",value:function(e){return this.stores[e]}}])&&f(o.prototype,n),i&&f(o,i),e}(),h=n(20);function w(e){return function(e){if(Array.isArray(e)){for(var o=0,n=new Array(e.length);o<e.length;o++)n[o]=e[o];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var m=function(){function e(){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e);v.instance}var o,n,i;return o=e,(n=[{key:"globalFontsize",value:function(e){if(e){var o=s.a.instance;if(void 0!==(void 0!==o&&void 0!==o.page&&void 0!==o.page.category&&void 0!==o.page.category.route?o.page.category.route:void 0)){var n,t=["typo-xs","typo-s","typo-m","typo-l","typo-xl"].filter((function(o){return o!==e}));(n=document.documentElement.classList).remove.apply(n,w(t)),document.documentElement.classList.add(e)}}}},{key:"hyphenation",value:function(e){e?document.documentElement.classList.add("hyphenated"):document.documentElement.classList.remove("hyphenated")}},{key:"onPageResume",value:function(e,o){void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(t.u,e,o)}},{key:"outbrainFurtherReadsContainerReady",value:function(e){e&&void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(t.x,e)}},{key:"outbrainTopReadsContainerReady",value:function(e){e&&void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(t.y,e)}},{key:"targetAdPositionLoaded",value:function(e){"string"==typeof e&&e&&void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(t.Z,e)}},{key:"triggerRegister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e&&"function"==typeof e.preventDefault&&e.preventDefault(),void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(t.mb)}},{key:"triggerLogin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e&&"function"==typeof e.preventDefault&&e.preventDefault(),void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(t.jb)}},{key:"triggerLogout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e&&"function"==typeof e.preventDefault&&e.preventDefault(),void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(t.kb)}},{key:"triggerAccount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e&&"function"==typeof e.preventDefault&&e.preventDefault(),void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(t.ib)}},{key:"triggerOffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e&&"function"==typeof e.preventDefault&&e.preventDefault();var o=e&&e.product?e.product:"paid",n=e&&e.targetUrl?e.targetUrl:void 0;void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(t.lb,{product:o,targetUrl:n})}},{key:"triggerRestorePurchases",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e&&"function"==typeof e.preventDefault&&e.preventDefault();var o=e&&e.targetUrl?e.targetUrl:void 0;void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(t.nb,{targetUrl:o})}},{key:"getTeaserImageSrc",value:function(e){var o=s.a.instance;return e&&o.urls&&"string"==typeof o.urls.assetsBasePath?"".concat(o.urls.assetsBasePath,"/assets/image/").concat(e,"_tm.jpg"):""}},{key:"getPodloveWebplayerStore",value:function(e){if(e){var o,n=v.instance;return n&&(o=n.getStore(e)),o}}},{key:"toggleTalk",value:function(){void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(t.hb)}},{key:"toggleToc",value:function(){void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(t.gb)}},{key:"userAccess",get:function(){var e=h.a.instance;return{paid:e.hasPaidAccess,noAds:e.hasNoAdsAccess}}}])&&b(o.prototype,n),i&&b(o,i),e}(),k=(n(28),n(57),n(29),n(37),n(17)),L=n(1),A=n(18),C=n(64),P=n(111),_=n(53);function O(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var T=function(){function e(){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e),this.user=h.a.instance,this.route=C.a.instance}var o,n,t;return o=e,(n=[{key:"execute",value:function(){var e=_.a.instance;e.shouldRedirectToAppUpdate?e.redirectToAppUpdate():e.shouldRedirectToConsent?e.redirectToConsent():e.shouldRedirectFromConsent?e.redirectToTargetUrl():(this.setRootClasses(),this.deleteAccessTokenUrlParam(),this.initApp())}},{key:"setRootClasses",value:function(){var e=this,o=document.documentElement,n=k.a.instance;L.a.isApp&&(o.classList.add("is-app"),o.classList.add("is-".concat(L.a.appCode)),L.a.appVersion<n.minVersion&&(o.classList.add("is-unsupported"),o.classList.add("is-unsupported-version")),L.a.appVersion<n.minOfflineIssueVersion?o.classList.add("is-unsupported-offline-issue"):o.classList.add("is-supported-offline-issue"),L.a.appVersion<n.minNativeAudioPlayerVersion&&o.classList.add("is-unsupported-native-audio-player"),L.a.appVersion<n.minAudioPlaylistVersion&&o.classList.add("is-unsupported-audio-playlist"),n.isAudioSubscriptionSupported||o.classList.add("is-unsupported-audio-subscription"),window.navigator.webBridge.globalFontsize(n.appFontSize)),P.a.isSupported||(o.classList.add("is-unsupported"),o.classList.add("is-unsupported-feature")),A.a.isMobile&&o.classList.add("is-mobile"),this.user.isLoggedIn&&o.classList.add("is-logged-in"),this.user.hasConditionalAccess&&!this.user.hasPaidAccess&&o.classList.add("hide-conditional"),this.user.hasPaidAccess&&o.classList.add("has-paid-access"),this.user.hasNoAdsAccess&&o.classList.add("has-noads-access"),this.user.accessInfo&&Object.keys(this.user.accessInfo).forEach((function(n){!0===e.user.accessInfo[n]&&o.classList.add(n)})),this.user.hasAcceptedGlobalConsent&&o.classList.add("has-consent"),A.a.isTablet&&o.classList.add("is-tablet"),(this.route.isIssueArticle||"issue"===this.route.route)&&o.classList.add("is-issue-context"),this.route.route&&o.classList.add(this.route.route)}},{key:"deleteAccessTokenUrlParam",value:function(){var e=new URL(document.location);e.searchParams.get("accessToken")&&(e.searchParams.delete("accessToken"),window.history.replaceState({},document.title,e.href))}},{key:"initApp",value:function(){if(L.a.isApp){var e=s.a.instance,o=k.a.instance;e.app&&e.app.pageContext&&o.sendPageContext(e.app.pageContext),o.registerEventHandlers()}}}])&&O(o.prototype,n),t&&O(o,t),e}();n(66),n(24),n(47);function S(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var x=function(){function e(o,n){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e),o&&(this.el=o,this.list=this.el.querySelector('[data-breakingnews-el="list"]'),this.listItemPrototypeDefault=this.el.querySelector('[data-breakingnews-prototype="default"]'),this.listItemPrototypeTextOnly=this.el.querySelector('[data-breakingnews-prototype="textOnly"]'),this.list&&this.listItemPrototypeDefault&&this.listItemPrototypeTextOnly&&(n&&Array.isArray(n)&&n.length>0?this.refreshItems(n):window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.subscribe(t.h,this.onBreakingNewsChanged,this)))}var o,n,i;return o=e,(n=[{key:"onBreakingNewsChanged",value:function(e){e&&Array.isArray(e)&&this.refreshItems(e)}},{key:"refreshItems",value:function(e){var o=this;if(e&&Array.isArray(e)){for(;this.list.firstChild;)this.list.removeChild(this.list.firstChild);0===e.length?this.el.classList.add("hidden"):(this.el.classList.remove("hidden"),e.forEach((function(e){if(e.headline&&e.url){var n=o.listItemPrototypeDefault.outerHTML;n=(n=n.replace(new RegExp("#__proto_path__","g"),e.url)).replace(new RegExp("__proto_headline__","g"),e.headline),o.list.insertAdjacentHTML("beforeend",n)}else if(e.headline){var t=o.listItemPrototypeTextOnly.outerHTML;t=t.replace(new RegExp("__proto_headline__","g"),e.headline),o.list.insertAdjacentHTML("beforeend",t)}})))}}}])&&S(o.prototype,n),i&&S(o,i),e}(),j=n(41);function E(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var I=function(){function e(){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e)}var o,n,t;return o=e,(n=[{key:"execute",value:function(){var e=[];if(j.a.getItem("breakingnews")){var o;try{o=JSON.parse(j.a.getItem("breakingnews"))}catch(e){}if(o){var n=s.a.instance,t=n.cacheControl&&n.cacheControl.breakingnews&&Number.isInteger(n.cacheControl.breakingnews.sessionStorageMaxAge)?n.cacheControl.breakingnews.sessionStorageMaxAge:900,i=Date.now()-1e3*t;o.updated_at&&o.updated_at>=i&&o.items&&Array.isArray(o.items)&&o.items.length>0&&(e=o.items)}}var a=document.querySelector("[data-breakingnews]");a&&(window.polygon.breakingNewsRenderer=new x(a,e),e.length>0&&document.documentElement.classList.add("has-breaking-news"))}}])&&E(o.prototype,n),t&&E(o,t),e}();window.polygon=window.polygon||{},window.polygon.componentLoader=new p,window.addEventListener(t.L,(function(){(new I).execute()})),window.navigator.webBridge=new m,window.polygon.cookies=window.polygon.cookies||{},window.polygon.cookies.polygon_consent=new c,(new T).execute()}});