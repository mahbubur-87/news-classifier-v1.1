(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[94],{1376:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"LoadMore",(function(){return I}));var r=n(3),a=n.n(r),o=n(8),s=n.n(o),i=n(36),u=n.n(i),c=n(37),l=n.n(c),d=n(123),p=n.n(d),f=n(68),h=n.n(f),b=n(69),m=n.n(b),v=n(49),y=n.n(v),g=n(2),M=n.n(g),L=n(0),w=n.n(L),S=n(1),q=n.n(S),N=n(48),x=n(222),O=n(23),T=n(855),k=n(30),B=n(856),j=n(2229),C=n(963);function E(e){var t=P();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var A={};A[O.a]=Object(T.a)({chunkName:"components/PcmModule/LoadMore/styles.acorns.scss",requireAsync:function(){return n.e(217).then(n.t.bind(null,1500,7))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function(){return 1500}}),A[O.b]=Object(T.a)({chunkName:"components/PcmModule/LoadMore/styles.cnbc.scss",requireAsync:function(){return n.e(370).then(n.t.bind(null,1501,7))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function(){return 1501}}),A[O.d]=Object(T.a)({chunkName:"components/PcmModule/LoadMore/styles.makeit.scss",requireAsync:function(){return n.e(272).then(n.t.bind(null,1502,7))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function(){return 1502}}),A[O.e]=Object(T.a)({chunkName:"components/PcmModule/LoadMore/styles.select.scss",requireAsync:function(){return n.e(322).then(n.t.bind(null,1503,7))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function(){return 1503}});var R={threeUpStack:6,twoColumnImageDense:5,river:6,dynamicContentFeed:10},I=function(e){h()(n,e);var t=E(n);function n(){var e;u()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),M()(p()(e),"state",{showModules:[],page:0,nextOffset:e.props.module.options.offset,lastBatchSize:0}),M()(p()(e),"doQuery",s()(a.a.mark((function t(){var n,r,o,s,i,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.module,o=n.client,s=r.attributes.loadMoreItemsToFetch||R[r.attributes.moduleToRender],i=e.nextOffset(r.attributes.totalModules,r.options.offset,s,e.state.page),t.next=5,Object(j.a)(r.source,o,r.attributes.totalModules,s,i,r.attributes.nonFilter,r.attributes.includeNative);case 5:u=t.sent,e.setState((function(e){var t=Object(j.b)(r,s,u),n=e.showModules.concat(t),a=e.page+1,o=u.assets.length;return{page:a,showModules:n,nextOffset:i,lastBatchSize:o}}));case 7:case"end":return t.stop()}}),t)})))),M()(p()(e),"nextOffset",(function(e,t,n,r){return t+r*e*n})),M()(p()(e),"handleLoadMoreClick",(function(){var t="LoadMoreSection=".concat(e.state.showModules.length,"-").concat(e.dataId);k.a.trigger("loadMore",{dataId:t,pageNodeId:k.a.getPageNodeId()}),e.doQuery()})),e}return l()(n,[{key:"componentDidMount",value:function(){this.isTouch="undefined"!=typeof window&&(!!("ontouchstart"in window)||window.navigator.msMaxTouchPoints>0)}},{key:"render",value:function(){var e=this.props.pageBrand||this.props.brand,t=this.props,n=t.id,r=t.template,a=t.premium,o=t.sectionTitle,s=t.sectionId,i=t.sectionUrl,u=t.sectionSubType,c=t.isProUser,l=t.type,d=t.moduleMapper,p=t.dataCounter,f=t.module,h=t.pageNumber,b=t.isLastModule,m=t.styles,v=t.dataTest,y=t.dataAnalytics,g=(f||{data:{url:""}}).data.url,M=void 0===g?"":g,L=h+1;d.dataCounter=p;var S=(this.props.module||{}).data||{},q=S.pagination,N=S.subType,x=q.totalCount>this.state.nextOffset+this.state.lastBatchSize,O=w.a.createElement(C.c,{buttonType:C.a.loadMore,isTouch:this.isTouch,handleClick:this.handleLoadMoreClick,text:"Load More",brand:e,to:"".concat(M,"?page=").concat(L),stopMiniVideoScrolling:b});return this.dataId=Object(B.e)(this.props.template,"LoadMore",this.props.dataCounter),w.a.createElement("div",{id:this.dataId,className:m.container,"data-test":v,"data-analytics":y},this.state.showModules.length>0&&d.mapModules(this.state.showModules,n,s,o,i,u,e,r,a,c,!1,l,N),x&&O)}}]),n}(w.a.Component);I.propTypes={pageBrand:q.a.string,brand:q.a.string,client:q.a.object,module:q.a.object.isRequired,id:q.a.number.isRequired,sectionId:q.a.number,sectionTitle:q.a.string,sectionUrl:q.a.string,sectionSubType:q.a.string,template:q.a.string,premium:q.a.bool,isProUser:q.a.bool,type:q.a.string,dataCounter:q.a.number,moduleMapper:q.a.object.isRequired,pageNumber:q.a.number.isRequired,isLastModule:q.a.bool,styles:q.a.object.isRequired,dataTest:q.a.string.isRequired,dataAnalytics:q.a.string.isRequired},I.defaultProps={pageBrand:O.b,brand:O.b,isLazyLoad:!1,client:{},dataCounter:0,sectionId:0,sectionTitle:"",sectionUrl:"",sectionSubType:"",template:"",premium:!1,isProUser:!1,type:"",pageNumber:1,isLastModule:!1};var D=Object(x.c)(Object(T.b)(A,I)),_=function(e){var t=e.page,n=e.request,r=(t.page||{}).brand,a=(n.query||{}).page;return{pageBrand:r,pageNumber:Number(void 0===a?1:a)}};t.default=Object(N.b)(_)(D)}.call(this,"/")},2229:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var r=n(3),a=n.n(r),o=n(8),s=n.n(o),i=n(103),u=n.n(i),c=n(33),l=n.n(c),d=n(34);function p(){var e=l()(["\n  query getAssetList($id: Int!, $offset: Int!, $pageSize: Int!, $nonFilter: Boolean, $includeNative: Boolean) {\n    assetList(id: $id, offset: $offset, pageSize: $pageSize, nonFilter: $nonFilter, includeNative: $includeNative) {\n      sectionLabel\n      brand\n      id\n      eyebrow\n      url\n      assets {\n        id\n        brand\n        type\n        url\n        native\n        datePublished\n        description\n        title\n        headline\n        premium\n        creatorOverwrite\n        coverageEndDate\n        contentClassification\n        linkHeadline: headline\n        author {\n          id\n          name\n          url\n        }\n        section {\n          eyebrow\n          type\n          url\n          subType\n          sectionLabel\n        }\n        dateLastPublishedSixHr\n        dateLastPublishedFormattedWithoutTime\n        promoImage {\n          id\n          url\n        }\n        sourceOrganization {\n          id\n          name\n          url\n        }\n        ... on cnbcvideo {\n          duration\n          brand\n        }     \n      }\n    }\n  }\n"]);return p=function(){return e},e}var f=n.n(d)()(p());function h(e,t,n,r,a){return b.apply(this,arguments)}function b(){return(b=s()(a.a.mark((function e(t,n,r,o,s){var i,u,c,l=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>5&&void 0!==l[5]&&l[5],u=!(l.length>6&&void 0!==l[6])||l[6],e.next=4,n.query({query:f,variables:{id:t,offset:s,pageSize:o*r,nonFilter:i,includeNative:u}});case 4:return c=e.sent,e.abrupt("return",c.data.assetList);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t,n){var r=e.attributes,a=e.data,o=r.moduleToRender,s=a.sectionLabel,i=a.brand;return n.assets.map((function(e,r){return r%t==0?n.assets.slice(r,r+t):null})).filter((function(e){return e})).map((function(t){var n=u()(e),r={sectionLabel:s,assets:t,brand:i};return n.data=r,n.name=o,n}))}},963:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var r=n(0),a=n.n(r),o=n(1),s=n.n(o),i=n(23),u=n(855),c={};c[i.a]=Object(u.a)({chunkName:"components/shared/LoadMoreButton/styles.acorns.scss",requireAsync:function(){return n.e(238).then(n.t.bind(null,943,7))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function(){return 943}}),c[i.b]=Object(u.a)({chunkName:"components/shared/LoadMoreButton/styles.cnbc.scss",requireAsync:function(){return n.e(405).then(n.t.bind(null,944,7))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function(){return 944}}),c[i.d]=Object(u.a)({chunkName:"components/shared/LoadMoreButton/styles.makeit.scss",requireAsync:function(){return n.e(300).then(n.t.bind(null,945,7))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function(){return 945}}),c[i.e]=Object(u.a)({chunkName:"components/shared/LoadMoreButton/styles.select.scss",requireAsync:function(){return n.e(339).then(n.t.bind(null,946,7))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function(){return 946}});var l={loadMore:"loadMore",expandable:"expandable",fullEP:"fullEP"},d=function(e){var t=e.buttonType,n=e.isExpanded,r=e.isTouch,o=e.handleClick,s=e.text,i=e.to,u=e.stopMiniVideoScrolling,c=e.styles,d=[];t===l.expandable&&d.push(n?c.showLessButton:c.expandButton),t===l.loadMore&&d.push(r?c.touchButton:c.loadMore),t===l.fullEP&&d.push(r?c.fullEPTouchButton:c.fullEPLoadMore);return a.a.createElement("a",{href:i,className:d.join(" "),onClick:function(e){e.preventDefault(),o()},"data-mini-video-player-dont-scroll-beyond-here":u,"data-test":"LoadMoreButton"},t===l.expandable?a.a.createElement("div",{className:c.expandableButtonContents},a.a.createElement("span",{className:c.expandButtonText},n?"Show Less":"Show All"),a.a.createElement("span",{className:n?"icon-makeit-arrow-up":"icon-makeit-arrow-down"})):a.a.createElement("div",{className:c.textButtonContents},s,a.a.createElement("span",{className:"icon-arrow-down-readmore"})))};d.propTypes={buttonType:s.a.oneOf(Object.keys(l)).isRequired,isExpanded:s.a.bool,isTouch:s.a.bool,handleClick:s.a.func,text:s.a.string,to:s.a.string,stopMiniVideoScrolling:s.a.bool,styles:s.a.object.isRequired},d.defaultProps={isExpanded:!1,isTouch:!1,handleClick:null,text:null,to:"",stopMiniVideoScrolling:!1};var p=Object(u.b)(c,d);t.c=p}).call(this,"/")}}]);
//# sourceMappingURL=../../source-maps/components-PcmModule-LoadMore-bc38d065052244648560.js.map