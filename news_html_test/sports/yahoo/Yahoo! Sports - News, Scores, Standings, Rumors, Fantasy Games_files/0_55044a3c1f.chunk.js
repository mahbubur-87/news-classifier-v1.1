webpackJsonpCAAS([0],{"./static/modules-default/default-xray-lib/js/sports.js":function(e,t,i){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.initializeXraySportsCards=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},s=i("./node_modules/@vzmi/caas-static/src/util/js/index.js"),n=["nfl"],o={soccer:"name"},l={mlb:["division.name"],nba:["conference.name"],nfl:["division.name"],nhl:["conference.name"],soccer:[],wnba:[]},u={error:"error",game:"game",overview:"overview"},c={FINAL:"final",IN_PROGRESS:"live",PREGAME:"upcoming"},d=void 0,p=function(e){var t=e&&e.getAttribute("data-lang")||"en-US",i=e&&e.getAttribute("data-tz")||"America/Los_Angeles";d={lang:t,tz:i}},h=function(e,t){var i=!1;try{var a=e.getDate()===t.getDate(),r=a&&e.getMonth()===t.getMonth(),s=r&&e.getFullYear()===t.getFullYear();i=s}catch(e){i=!1}return i},f=function(e){var t=new Date;return h(t,e)},v=function(e){var t=new Date,i=new Date,a=t.getDate();return i.setDate(a+1),h(i,e)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=864e5*t,a=Date.now()+i,r=!1;try{r=e.getTime()>a}catch(e){r=!1}return r},g=function(e){var t=d||{},i=t.tz,a=f(e),s=v(e),n=m(e,6),o={hour:"numeric",hourCycle:"h12",minute:"2-digit",timeZone:i};return a?{dateStringId:"today",timeZoneConfig:o}:s?{dateStringId:"tomorrow",timeZoneConfig:o}:n?{timeZoneConfig:r({day:"numeric",month:"short"},o)}:{timeZoneConfig:r({weekday:"short"},o)}},y=function(e){var t=d||{},i=t.lang,a=g(e),r=a.timeZoneConfig,s=void 0;try{s=window.Intl.DateTimeFormat(i,r).format(e)}catch(e){s=""}return s},C=function(e,t,i){var a=e&&e.getElementsByClassName("xray-card-row-sports-subtitle")[0],r="xray-card-row-sports-subtitle-status-"+t,n=i&&"xray-card-row-sports-subtitle-team-game-status-"+i;a&&((0,s.addClass)(a,r),n&&(0,s.addClass)(a,n))},w=function(e,t,i){var a=e&&e.querySelector(t);a&&i&&(0,s.addClass)(a,i)},x=function(e,t,i){var a=e&&e.getElementsByClassName(t)[0];a&&(a.innerHTML=i)},P=function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments[2],n=i.filter(function(e){return!!e&&!!e.value});if(n.length>0){var o={type:"pipe",value:"|"},l=(t=[]).concat.apply(t,a(n.map(function(e){return[e,o]}))).slice(0,-1),u=document.createDocumentFragment();l.forEach(function(e){var t=e.type,i=e.value,a="image"===t,n=void 0;a||(n=document.createElement("span"),n.innerHTML=i),a&&(n=document.createElement("img"),n.src=i),(0,s.addClass)(n,r+"-part-"+t),u.appendChild(n)}),e.appendChild(u)}},k=function(e){var t=d||{},i=t.tz,a=window.CAAS.utils||{},r=a.fetch,p=e&&e.querySelectorAll('.caas-xray-card[data-entity-type="team"]'),h=[].map.call(p,function(e){return e.getAttribute("data-entity-id")}),f=h.filter(function(e,t,i){return i.indexOf(e)===t}),v="https://graphite.sports.yahoo.com/v1/query/fireplace/teamsWithGames?teamIds="+f.join(",")+"&tz="+i;return f<1?new Promise(function(e){return e()}):r(v).then(function(e){var t=(0,s.get)(e,["data","data","teams"])||[],i=[];[].forEach.call(p,function(e){var a=e.getAttribute("data-entity-id"),r=t.find(function(e){return e.teamId===a}),d=(0,s.get)(r,["game","0"]),p=!!(0,s.get)(d,["awayTeam"])&&!!(0,s.get)(d,["homeTeam"]),h=(0,s.get)(d,["status"]),f=!i.includes(a),v=(0,s.get)(c,[h]),m="final"===v,k="live"===v,b="upcoming"===v,E=!!v&&p;if(!r)return void C(e,u.error);if(E&&f){var A=d||{},M=A.homeTeamId,L=A.startTime,S=A.statusDisplayName,B=a===M,T=B?"away":"home",N=T+"Team",V=(0,s.get)(d,[N]),O=V||{},j=O.abbreviation,H=void 0===j?"":j,I=O.teamId;if(b||k){x(e,"xray-card-row-sports-subtitle-team-game-opponent-name",H+(k?":":"")),w(e,".xray-card-row-sports-subtitle-team-game-opponent","xray-card-row-sports-subtitle-team-game-opponent-active")}if((k||m)&&(x(e,"xray-card-row-sports-subtitle-team-game-period-label",S),w(e,".xray-card-row-sports-subtitle-team-game-period","xray-card-row-sports-subtitle-team-game-period-active")),m){var R=d||{},D=R.awayScore,W=void 0===D?0:D,z=R.homeScore,F=void 0===z?0:z,_=(0,s.get)(d,["awayTeam","abbreviation"]),q=(0,s.get)(d,["homeTeam","abbreviation"]);x(e,"xray-card-row-sports-subtitle-team-game-result-away-team-name",_),x(e,"xray-card-row-sports-subtitle-team-game-result-away-team-score",W),x(e,"xray-card-row-sports-subtitle-team-game-result-home-team-name",q),x(e,"xray-card-row-sports-subtitle-team-game-result-home-team-score",F),w(e,".xray-card-row-sports-subtitle-team-game-result","xray-card-row-sports-subtitle-team-game-result-active")}if(k){var Y=d||{},Z=Y.awayScore,K=void 0===Z?0:Z,U=Y.homeScore,G=void 0===U?0:U,X=B?G:K,J=B?K:G;x(e,"xray-card-row-sports-subtitle-team-game-live-score-active-team",X),x(e,"xray-card-row-sports-subtitle-team-game-live-score-opponent-team",J),w(e,'.xray-card-row-sports-subtitle-team-game-status-badge[data-status-badge-id="live"]',"xray-card-row-sports-subtitle-team-game-status-badge-active"),w(e,".xray-card-row-sports-subtitle-team-game-live-score","xray-card-row-sports-subtitle-team-game-live-score-active")}if(b){var Q=L&&new Date(L),$=Q&&y(Q),ee=g(Q),te=ee.dateStringId,ie=void 0===te?"":te,ae='.xray-card-row-sports-subtitle-team-game-date-string[data-date-string-id="'+ie+'"]';x(e,"xray-card-row-sports-subtitle-team-game-date-time",$),w(e,".xray-card-row-sports-subtitle-team-game-date-time","xray-card-row-sports-subtitle-team-game-date-time-active"),w(e,ae,"xray-card-row-sports-subtitle-team-game-date-string-active")}return C(e,u.game,v),void i.push(I)}var re=r||{},se=re.teamRecord,ne=void 0===se?{}:se,oe=ne||{},le=oe.displayName,ue=oe.losses,ce=void 0===ue?0:ue,de=oe.ties,pe=void 0===de?0:de,he=oe.wins,fe=void 0===he?0:he,ve=e.getElementsByClassName("xray-card-row-sports-subtitle-overview")[0],me=fe+"-"+ce+"-"+pe,ge=a.split("."),ye=ge[0],Ce=(0,s.get)(o,[ye])||"shortName",we=(0,s.get)(r,["league",Ce]),xe=n.includes(ye),Pe=xe?me:le,ke=(0,s.get)(l,[ye]),be=ke.map(function(e){return(0,s.get)(r,e.split("."))}),Ee=be.join(" "),Ae=(0,s.get)(r,["teamStandings","displayName"]),Me=[Ae,Ee].filter(function(e){return!!e}).join(" ");P(ve,[{type:"text",value:we},{type:"text",value:Me},{type:"text",value:Pe}],"xray-card-row-sports-subtitle-overview"),C(e,u.overview)})}).catch(function(){[].forEach.call(p,function(e){return C(e,u.error)})})},b=function(e){var t=d||{},i=t.tz,a=window.CAAS.utils||{},r=a.fetch,n=e&&e.querySelectorAll('.caas-xray-card[data-sports-player-id]:not([data-sports-player-id=""])'),o=[].map.call(n,function(e){return e.getAttribute("data-sports-player-id")}),l=o.filter(function(e,t,i){return i.indexOf(e)===t}),c="https://graphite.sports.yahoo.com/v1/query/fireplace/players?playerIds="+l.join(",")+"&tz="+i;return l<1?new Promise(function(e){return e()}):r(c).then(function(e){var t=(0,s.get)(e,["data","data","players"])||[];[].forEach.call(n,function(e){var i=e.getAttribute("data-sports-player-id"),a=t.find(function(e){return e.playerId===i});if(!a)return void C(e,u.error);var r=e.getElementsByClassName("xray-card-row-sports-subtitle-overview")[0],n=(0,s.get)(a,["team","teamLogoWhite","url"]),o=(0,s.get)(a,["positions","0","abbreviation"]),l=(0,s.get)(a,["uniformNumber"]);P(r,[{type:"image",value:n},{type:"text",value:o},{type:"text",value:l&&"#"+l}],"xray-card-row-sports-subtitle-overview"),C(e,u.overview)})}).catch(function(){[].forEach.call(n,function(e){return C(e,u.error)})})};t.initializeXraySportsCards=function(e){p(e);var t=k(e),i=b(e);return Promise.all([t,i])}},"./static/modules-default/default-xray-lib/js/tickers.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeFinStreamerElements=t.initializeFinStreamerElement=void 0;var a=i("./node_modules/@vzmi/caas-static/src/util/js/index.js"),r=["oneDayPercentChange","regularMarketChangePercent"],s=void 0,n=function(e){var t=e&&e.getAttribute("data-lang")||"en-US",i=t.split("-")||[];s={lang:t,region:i[1]}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=s||{},a=i.lang,r=parseFloat(e,10),n=r.toFixed(t);try{n=r.toLocaleString(a,{minimumFractionDigits:t,maximumFractionDigits:t})}catch(e){}return n},l=function(e,t,i){var a=r.includes(e),s=t>0;return a?(s?"+":"")+i+"%":i},u=function(e,t){var i=r.includes(e),a=t<0,s=t>0;return i&&a?"xray-fin-streamer-percent-change-negative":i&&s?"xray-fin-streamer-percent-change-positive":""},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];[].forEach.call(e,function(e){var t=(0,a.findAncestor)(e,"caas-xray-entity");t&&(0,a.addClass)(t,"caas-xray-entity-fin-streamer-error")})},d=t.initializeFinStreamerElement=function(e,t,i,r){var s="regularMarketPrice"===t,n=s?r:2,c=o(i,n),d=l(t,i,c),p=u(t,i);p&&(0,a.addClass)(e,p),e.innerHTML=d,e.setAttribute("data-pricehint",n),e.setAttribute("value",c),e.setAttribute("active","true")},p=function(e){var t=window.CAAS.utils||{},i=t.fetch,r=e&&e.getElementsByClassName("xray-fin-streamer-type-quote"),s=[].map.call(r,function(e){return e.getAttribute("data-symbol")}),n=s.filter(function(e,t,i){return i.indexOf(e)===t}),o="https://query1.finance.yahoo.com/v7/finance/quote?symbols="+n.join(",");n<1||i(o).then(function(e){var t=(0,a.get)(e,["data","quoteResponse","result"])||[],i=t.reduce(function(e,t){return e[t.symbol]=t,e},{});[].forEach.call(r,function(e){var t=e.getAttribute("data-field"),a=e.getAttribute("data-symbol"),r=i[a]||{},s=r.priceHint,n=void 0===s?2:s;d(e,t,r[t]||0,n)})}).catch(function(){return c(r)})},h=function(e){var t=window.CAAS.utils||{},i=t.fetch,r=e&&e.getElementsByClassName("xray-fin-streamer-type-watchlist"),n=[].map.call(r,function(e){return e.getAttribute("data-watchlist-slug")}),o=n.filter(function(e,t,i){return i.indexOf(e)===t});o<1||o.forEach(function(t){var r=s||{},n=r.lang,o=r.region,l={lang:n,region:o,slug:t,ssl:!0},u=new URLSearchParams(l).toString(),p="https://query1.finance.yahoo.com/v7/finance/portfolio/performance/"+t+"?"+u,h=e.querySelectorAll('.xray-fin-streamer-type-watchlist[data-watchlist-slug="'+t+'"]');i(p).then(function(e){var t=(0,a.get)(e,["data","finance","result","0","portfolio"])||{};[].forEach.call(h,function(e){var i=e.getAttribute("data-field");d(e,i,t[i]||0)})}).catch(function(){return c(h)})})};t.initializeFinStreamerElements=function(e){n(e),p(e),h(e)}},"./static/modules-default/default-xray-popup/js/default.js":function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),s=i("./node_modules/@vzmi/caas-static/src/util/js/index.js"),n=i("./static/modules-default/default-xray-tooltip/js/default.js"),o=i("./static/modules-default/default-xray-lib/js/tickers.js"),l=i("./static/modules-default/default-xray-lib/js/sports.js"),u=i("./static/modules-default/default-xray-popup/js/xray-cards.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(u),d="data-xray-id",p="caas-xray-entity-active",h="xray-pill-label",f="xray-see-more-pill";t.default=function(e){var t=e.root,i=e.viewport,u=window.innerWidth!==document.documentElement.clientWidth,v="scrollBehavior"in document.documentElement.style,m=!0,g=!1,y=function(){function e(t){var i=this;a(this,e);var r=(0,s.findAncestor)(t,"caas-container"),u=(0,s.findAncestor)(t,"caas"),p=(0,s.findAncestor)(t,"caas-xray-wrapper"),v=r&&r.getElementsByClassName("caas-xray-pills-left")[0],m=(0,s.hasClass)(p,"caas-xray-wrapper-type-cards");if(this.xrayWrapper=p,this.contentHeightInterval=null,this.topPills=t,this.leftPills=v,this.seeMoreTop=null,this.seeMoreLeft=null,this.seeMoreTxtTop=null,this.seeMoreTxtLeft=null,this.isCardViewEnabledForTopPills=m,t&&!m&&(this.seeMoreTop=t.getElementsByClassName(f)[0],this.seeMoreTxtTop=this.seeMoreTop.getElementsByClassName(h)[0]),v){var g=t.getAttribute(d);v.setAttribute(d,g),this.seeMoreLeft=v.getElementsByClassName(f)[0],this.seeMoreTxtLeft=this.seeMoreLeft.getElementsByClassName(h)[0]}this.state={numVisibleLeftPills:0,popup:null,topExpanded:!1,topVisible:!0},this.sync(),m||(this.handleSeeMoreTopClick=this.handleSeeMoreTopClick.bind(this),this.seeMoreTop&&(0,s.bindEvent)(this.seeMoreTop,"click",this.handleSeeMoreTopClick,{passive:!1})),this.handleSeeMoreLeftClick=this.handleSeeMoreLeftClick.bind(this),this.seeMoreLeft&&(0,s.bindEvent)(this.seeMoreLeft,"click",this.handleSeeMoreLeftClick,{passive:!1}),this.handlePillsContainerClick=this.handlePillsContainerClick.bind(this),t&&(0,s.bindEvent)(t,"click",this.handlePillsContainerClick,{passive:!1}),v&&(0,s.bindEvent)(v,"click",this.handlePillsContainerClick,{passive:!1}),m&&(this.xrayCards=new c.default(p,function(){return(0,n.hideTooltip)(p)})),(0,o.initializeFinStreamerElements)(u),(0,l.initializeXraySportsCards)(u).then(function(){return i.xrayCards&&i.xrayCards.handleResize()}),this.handlePopupContentScrollThrottled=(0,s.throttle)(this.handlePopupContentScroll,100,this),this.handlePopupClickOutside=this.handlePopupClickOutside.bind(this),this.handlePopupViewMorePromptButtonClick=this.handlePopupViewMorePromptButtonClick.bind(this),this.handleWaferFetchSuccess=this.handleWaferFetchSuccess.bind(this)}return r(e,[{key:"handlePillsContainerClick",value:function(e){var t=this.xrayWrapper,i=e.target,a=(0,s.findAncestor)(i,"caas-xray-entity");if(a){var r=(0,s.findAncestor)(i,f),o=(0,s.findAncestor)(i,"caas-xray-entity-follow-button"),l=(0,s.hasClass)(a,p),u=(0,s.hasClass)(i,"xray-entity-title-link");if((0,n.hideTooltip)(t),!o){if(u){var c=e.shiftKey||e.ctrlKey||e.altKey||e.metaKey;if(e.stopPropagation(),c)return;return e.preventDefault(),void a.click()}if(l)return this.closePopup(),void e.stopPropagation();r||this.showPopup(a)}}}},{key:"getHeaderHeight",value:function(){var e=document.getElementById("ybar"),t=document.getElementById("YDC-UH"),i=e||t;return i?i.offsetHeight:200}},{key:"getViewportDimensions",value:function(){var e=window,t=e.innerHeight,i=e.innerWidth,a=document.documentElement,r=a.clientHeight,s=a.clientWidth,n=Math.min(t,r);return{vwWidth:Math.min(i,s),vwHeight:n}}},{key:"getTruncationConfig",value:function(e){var t=void 0;if(e)return t=.9*this.topPills.offsetWidth,{dimension:"offsetWidth",max:t,seeMore:this.seeMoreTop,seeMoreTxt:this.seeMoreTxtTop};var i=this.leftPills.getBoundingClientRect(),a=this.getViewportDimensions(),r=a.vwHeight,s=r-i.top-10,n=this.leftPills.children[0],o=n&&n.offsetHeight||0,l=5*(10+o);return t=o?Math.min(s,l):s,{dimension:"offsetHeight",max:t,seeMore:this.seeMoreLeft,seeMoreTxt:this.seeMoreTxtLeft}}},{key:"toggleTruncation",value:function(e){var t=this.isCardViewEnabledForTopPills,i=e?this.topPills:this.leftPills;if(i&&(!e||!t)){(0,s.removeClass)(i,"xray-pills-ready");var a=this.getTruncationConfig(e),r=a.dimension,n=a.max,o=a.seeMore,l=a.seeMoreTxt;(0,s.addClass)(o,"hide");var u=0,c=!1,d=0,p=function(e){d++,(0,s.addClass)(e,"hide")};if([].forEach.call(i.children,function(e){if(!(0,s.hasClass)(e,f)){if(c)return void p(e);(0,s.removeClass)(e,"hide"),u+=e[r]+8;var t=u+36+8<n,i=u<n,a=e.nextSibling&&!(0,s.hasClass)(e.nextSibling,f);(!i||a&&!t)&&(c=!0,p(e))}}),c&&l&&(l.innerHTML="+"+d,(0,s.removeClass)(o,"hide"),e&&(this.state.topExpanded=!1)),!e){var h=i.children.length,v=c&&l,m=v?d:0;this.state.numVisibleLeftPills=h-m-1}(0,s.addClass)(i,"xray-pills-ready")}}},{key:"handlePopupMouseEnter",value:function(){Object.assign(document.body.style,{overflow:"hidden"})}},{key:"handlePopupMouseLeave",value:function(){Object.assign(document.body.style,{overflow:"initial"})}},{key:"handlePopupViewMorePromptButtonClick",value:function(){this.hidePopupViewMorePrompt()}},{key:"hidePopupViewMorePrompt",value:function(){var e=this.getPopupWrapperElement();e&&((0,s.addClass)(e,"xray-popup-wrapper-hide-view-more-prompt"),this.removePopupScrollEventListeners())}},{key:"handlePopupContentScroll",value:function(){this.updateViewMorePromptVisibility()}},{key:"updateViewMorePromptVisibility",value:function(){var e=this.getPopupContentElement(),t=e||{},i=t.offsetHeight,a=void 0===i?0:i,r=t.scrollHeight,s=void 0===r?0:r,n=t.scrollTop,o=void 0===n?0:n,l=o>50;(!(s-a>50)||l)&&this.hidePopupViewMorePrompt()}},{key:"getPillsContainer",value:function(e){return e?(0,s.findAncestor)(e,"caas-xray-pills-container"):null}},{key:"getPopupContentElement",value:function(){var e=this.state.popup;return e?e.getElementsByClassName("xray-popup-content")[0]:null}},{key:"getPopupWrapperElement",value:function(){var e=this.state.popup;return e?e.getElementsByClassName("xray-popup-wrapper")[0]:null}},{key:"handlePopupClickOutside",value:function(e){var t=e.target,i=!!(0,s.findAncestor)(t,"caas-xray-popup"),a=!!(0,s.findAncestor)(t,"xray-popup-close"),r=!!(0,s.findAncestor)(t,"fire-xray-desktop-sign-in-modal-content-wrapper");(a||!r&&!i)&&this.closePopup()}},{key:"addPopupClickOutsideEventListeners",value:function(){(0,s.bindEvent)(document.body,"click",this.handlePopupClickOutside,{passive:!1})}},{key:"removePopupClickOutsideEventListeners",value:function(){(0,s.unbindEvent)(document.body,"click",this.handlePopupClickOutside,{passive:!1})}},{key:"getPopupViewMorePromptButton",value:function(){var e=this.getPopupWrapperElement();return e?e.getElementsByClassName("xray-popup-view-more-prompt-button")[0]:null}},{key:"addPopupMouseEventListeners",value:function(){var e=this.getPopupContentElement();e&&!u&&((0,s.bindEvent)(e,"mouseenter",this.handlePopupMouseEnter,{passive:!1}),(0,s.bindEvent)(e,"mouseleave",this.handlePopupMouseLeave,{passive:!1}))}},{key:"removePopupMouseEventListeners",value:function(){var e=this.getPopupContentElement();e&&!u&&((0,s.unbindEvent)(e,"mouseenter",this.handlePopupMouseEnter,{passive:!1}),(0,s.unbindEvent)(e,"mouseleave",this.handlePopupMouseLeave,{passive:!1}))}},{key:"addPopupScrollEventListeners",value:function(){var e=this.getPopupContentElement();e&&m&&(0,s.bindEvent)(e,"scroll",this.handlePopupContentScrollThrottled,{passive:!1})}},{key:"removePopupScrollEventListeners",value:function(){var e=this.getPopupContentElement();e&&m&&(0,s.unbindEvent)(e,"scroll",this.handlePopupContentScrollThrottled,{passive:!1})}},{key:"addPopupClickEventListeners",value:function(){var e=this.getPopupViewMorePromptButton();e&&m&&(0,s.bindEvent)(e,"click",this.handlePopupViewMorePromptButtonClick,{passive:!1})}},{key:"removePopupClickEventListeners",value:function(){var e=this.getPopupViewMorePromptButton();e&&m&&(0,s.unbindEvent)(e,"click",this.handlePopupViewMorePromptButtonClick,{passive:!1})}},{key:"addPopupContentHeightListeners",value:function(){var e=window||{},t=e.wafer;t&&t.on("fetch:success",this.handleWaferFetchSuccess)}},{key:"handleWaferFetchSuccess",value:function(e){var t=e.elem;(0,s.hasClass)(t,"xray-fetch-trigger")&&(this.removeWaferFetchSuccessListener(),this.addPopupContentHeightInterval())}},{key:"addPopupContentHeightInterval",value:function(){var e=this,t=this.getPopupContentElement(),i=t&&t.getElementsByClassName("fireplace-module")[0],a=10;i&&(this.removePopupContentHeightInterval(),this.contentHeightInterval=setInterval(function(){var r=i.getElementsByClassName("wafer-fetch-target-inprogress")||[],s=0===r.length,n=s?i.offsetHeight:0,o=n<750,l=a>0;if(s&&o&&Object.assign(t.style,{height:i.offsetHeight+"px"}),s&&m&&setTimeout(function(){return e.updateViewMorePromptVisibility()},200),s||!l)return void e.removePopupContentHeightInterval();a--},500))}},{key:"removePopupContentHeightInterval",value:function(){clearInterval(this.contentHeightInterval)}},{key:"removeWaferFetchSuccessListener",value:function(){var e=window||{},t=e.wafer;t&&m&&t.removeListener("fetch:success",this.handleWaferFetchSuccess)}},{key:"removePopupContentHeightListeners",value:function(){this.removePopupContentHeightInterval(),this.removeWaferFetchSuccessListener()}},{key:"showPopup",value:function(e){var t=(0,s.findAncestor)(e,"xray-pill-wrapper"),i=t&&t.getElementsByClassName("xray-fetch-trigger")[0];i&&i.click()}},{key:"closePopup",value:function(){var e=this.state.popup,t=this.getPillsContainer(e);if(e&&t){var i=t.getElementsByClassName("xray-popup-open")[[0]],a=t.getElementsByClassName(p)[0],r=this.getPopupWrapperElement();this.removePopupClickEventListeners(),this.removePopupClickOutsideEventListeners(),this.removePopupContentHeightListeners(),this.removePopupMouseEventListeners(),this.removePopupScrollEventListeners(),a&&setTimeout(function(){return(0,s.removeClass)(a,p)},0),i&&(0,s.removeClass)(i,"xray-popup-open"),r&&(0,s.removeClass)(r,"xray-popup-wrapper-hide-view-more-prompt"),e&&(0,s.removeClass)(e,"xray-popup-active"),Object.assign(e.style,{left:"",right:"",top:""}),g&&(m=!1),g=!1,this.state.popup=null}}},{key:"toggleVisiblePills",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.state.topVisible!==e&&(this.closePopup(),this.state.topVisible=e,e?this.leftPills&&(0,s.addClass)(this.leftPills,"xray-pills-hidden"):(this.toggleTruncation(!1),this.leftPills&&(0,s.removeClass)(this.leftPills,"xray-pills-hidden")))}},{key:"handleSeeMoreTopClick",value:function(){var e=this.isCardViewEnabledForTopPills;this.state.isExpanded||e||([].forEach.call(this.topPills.children,function(e){return(0,s.removeClass)(e,"hide")}),(0,s.addClass)(this.seeMoreTop,"hide"),this.state.topExpanded=!0)}},{key:"handleSeeMoreLeftClick",value:function(){this.topPills.parentElement.scrollIntoView({behavior:"smooth",block:"center"}),this.handleSeeMoreTopClick(),this.scrollOverflowCardsIntoView()}},{key:"scrollOverflowCardsIntoView",value:function(){var e=this.isCardViewEnabledForTopPills,t=this.topPills,i=this.xrayCards,a=this.state||{},r=a.numVisibleLeftPills,s=void 0===r?0:r;if(e&&i){var n=t.getElementsByClassName("caas-xray-entity")[s];i.scrollActiveCardIntoView(n,!0)}}},{key:"getDockedVideoPlayerContainer",value:function(){if(!(0,s.hasClass)(document.body,"caas-video-docked"))return null;var e=document.querySelector(".caas-yvideo-wrapper .vp-docked"),t=document.querySelector(".caas-iframe-wrapper .caas-iframe-dock-wrapper");return e||t}},{key:"doesPopupVerticallyIntersectWithDockedVideoPlayer",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=t.top||9999,s=-20*e.height/100;return e.height+s+i+a>r}},{key:"getDockedVideoPlayerOffsetLeft",value:function(e,t,i){var a=this.getDockedVideoPlayerContainer(),r=a&&a.getBoundingClientRect();return r&&this.doesPopupVerticallyIntersectWithDockedVideoPlayer(e,r,t,i)?r.left:0}},{key:"focusCloseButton",value:function(){var e=this.state.popup,t=e&&e.getElementsByClassName("xray-popup-close-button")[0];t&&t.focus()}},{key:"handlePopupOpenTop",value:function(e){var i=this.state.popup,a=this.getViewportDimensions(),r=a.vwHeight,n=a.vwWidth,o=t.getBoundingClientRect()||{},l=(o.right||n)-20,u=(o.left||0)+20,c=e.getBoundingClientRect()||{},d=this.getPillsContainer(i),p=d&&d.getBoundingClientRect()||{},h=i.getBoundingClientRect()||{},f=c.bottom-p.top-c.height/2,m=this.getDockedVideoPlayerOffsetLeft(h,f,p.top),g=m-20,y=m?Math.min(g,l):l,C=h.width+c.right<=y,w=c.left-h.width>u,x=!C&&w,P=!C&&!x;if((0,s.removeClass)(i,"xray-popup-left"),(0,s.removeClass)(i,"xray-popup-center"),C){var k=c.right-p.left;i.style.left=k+"px",i.style.right="auto"}if(x){var b=p.right-c.left;i.style.right=b+"px",i.style.left="auto",(0,s.addClass)(i,"xray-popup-left")}if(P){var E=c.left-p.left+c.width/2-h.width/2,A=p.left+E+h.width-y;A>0&&(E-=A),i.style.left=E+"px",i.style.right="auto",(0,s.addClass)(i,"xray-popup-center")}i.style.top=f+"px";var M=h.top+h.height-r+20,L=h.top-20-this.getHeaderHeight(),S=window.pageYOffset||window.scrollY||0,B=!1,T=void 0;if(M>0&&(T=S+M,B=!0),L<0&&(T=S+L,B=!0),B)if(v)window.scrollTo({top:T,behavior:"smooth"});else{var N=document.scrollingElement||document.documentElement;N.scrollTop=T}}},{key:"handlePopupOpenLeft",value:function(e){var t=this.state.popup,i=t.getElementsByClassName("xray-popup-arrow")[0],a=this.getPillsContainer(t),r=a&&a.getBoundingClientRect()||{},s=this.getViewportDimensions(),n=s.vwHeight,o=e.getBoundingClientRect()||{},l=o.right-r.left,u=o.bottom-r.top-o.height/2;Object.assign(t.style,{left:l+"px",top:u+"px",transform:""}),Object.assign(i.style,{top:""});var c=t.getBoundingClientRect(),d=c.bottom+20-n;if(!(d<0)){var p=100*d/c.height+20;Object.assign(t.style,{transform:"translateY(-"+p+"%)"}),Object.assign(i.style,{top:p+"%"})}}},{key:"handleToggleChange",value:function(e){var t=this,i=e.meta.target,a=i&&i.getElementsByClassName("caas-xray-entity")[0],r=this.getPillsContainer(i);g=!0,this.state.popup=r.querySelector('.caas-xray-popup[data-pill-target-id="'+i.id+'"]');var n=this.getViewportDimensions(),o=n.vwHeight,l=this.getPopupContentElement(),u=this.getHeaderHeight(),c=o-u-40,d=Math.min(c,750);if(l&&Object.assign(l.style,{"max-height":d+"px",height:""}),this.addPopupClickEventListeners(),this.addPopupClickOutsideEventListeners(),this.addPopupContentHeightListeners(),this.addPopupMouseEventListeners(),this.addPopupScrollEventListeners(),m||this.hidePopupViewMorePrompt(),(0,s.addClass)(a,p),(0,s.addClass)(this.state.popup,"xray-popup-active"),this.state.topVisible){var h=this.xrayCards&&this.xrayCards.scrollActiveCardIntoView(a)||0;setTimeout(function(){return t.handlePopupOpenTop(a)},h)}else this.handlePopupOpenLeft(a);this.focusCloseButton()}},{key:"handleBodyScroll",value:function(){var e=this.topPills&&this.topPills.getBoundingClientRect()||{},t=e.top,a=void 0===t?0:t,r=this.leftPills&&this.leftPills.getBoundingClientRect()||{},n=r.top,o=void 0===n?0:n,l=this.getHeaderHeight(),u=(0,s.elementInView)(this.topPills,{offsetY:-l},i),c=this.leftPills&&(0,s.elementInView)(this.leftPills,{offsetY:-l},i),d=a>o,h=u||d||!c;if(this.state.popup&&this.leftPills&&!u){var f=this.leftPills.getElementsByClassName(p)[0];f&&(0,s.elementInView)(f,{offsetY:-l},i)||this.closePopup()}this.toggleVisiblePills(h)}},{key:"handleResize",value:function(){this.toggleTruncation(!0),this.toggleTruncation(!1),this.xrayCards&&this.xrayCards.handleResize(),this.closePopup()}},{key:"sync",value:function(){this.handleBodyScroll(),this.handleResize()}},{key:"destructor",value:function(){this.removePopupClickEventListeners(),this.removePopupClickOutsideEventListeners(),this.removePopupContentHeightListeners(),this.removePopupMouseEventListeners(),this.removePopupScrollEventListeners(),this.xrayCards&&this.xrayCards.destroy(),this.seeMoreTop&&(0,s.unbindEvent)(this.seeMoreTop,"click",this.handleSeeMoreTopClick,{passive:!1}),this.seeMoreLeft&&(0,s.unbindEvent)(this.seeMoreLeft,"click",this.handleSeeMoreLeftClick,{passive:!1}),this.topPills&&(0,s.unbindEvent)(this.topPills,"click",this.handlePillsContainerClick,{passive:!1}),this.leftPills&&(0,s.unbindEvent)(this.leftPills,"click",this.handlePillsContainerClick,{passive:!1})}}]),e}(),C={},w=0,x=(t||document).getElementsByClassName("caas-xray-pills-top");return[].forEach.call(x,function(e){var t="xray-popup-"+w;e.setAttribute(d,t),C[t]=new y(e),w++}),{revalidate:function(){x=(t||document).getElementsByClassName("caas-xray-pills-top"),[].forEach.call(x,function(e){var t=e.getAttribute(d);t&&C[t]?C[t].sync():(t="xray-popup-"+w,e.setAttribute(d,t),C[t]=new y(e),w++)})},handleBodyScroll:function(){[].forEach.call(x,function(e){var t=e.getAttribute(d);t&&C[t]&&C[t].handleBodyScroll()})},handleResize:function(){[].forEach.call(x,function(e){var t=e.getAttribute(d);t&&C[t]&&C[t].handleResize()})},handleToggleChange:function(e){var t=e.meta,i=t.className,a=t.target;if("xray-popup-open"===i){var r=(0,s.findAncestor)(a,"caas-xray-pills"),n=r.getAttribute("data-xray-id");n&&C[n]&&C[n].handleToggleChange(e)}},destroy:function(){[].forEach.call(x,function(e){var t=e.getAttribute("data-xray-id");t&&(C[t]&&C[t].destructor(),C[t]=null)}),C={},w=0}}},e.exports=t.default},"./static/modules-default/default-xray-popup/js/xray-cards.js":function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),s=i("./node_modules/@vzmi/caas-static/src/util/js/index.js"),n="caas-xray-card",o="caas-xray-pills",l="caas-xray-pills-list-wrapper",u="xray-cards-arrow-next",c="xray-cards-gradient-mask-next",d="xray-cards-arrow-previous",p="xray-cards-gradient-mask-previous",h=function(){function e(t,i){a(this,e),this.cards=t.getElementsByClassName(n),this.cardsList=t.getElementsByClassName(o)[0],this.cardsListWrapper=t.getElementsByClassName(l)[0],this.cardsNextArrow=t.getElementsByClassName(u)[0],this.cardsNextMask=t.getElementsByClassName(c)[0],this.cardsPreviousArrow=t.getElementsByClassName(d)[0],this.cardsPreviousMask=t.getElementsByClassName(p)[0],this.arrowClickCallback=i,this.isShowingNextArrowAndMask=!1,this.isShowingPreviousArrowAndMask=!1,this.addClickEventListeners(),this.syncArrowsAndMasks()}return r(e,[{key:"addClickEventListeners",value:function(){var e=this.cardsNextArrow,t=this.cardsPreviousArrow;this.handleCardsNextArrowClick=this.handleCardsNextArrowClick.bind(this),this.handleCardsPreviousArrowClick=this.handleCardsPreviousArrowClick.bind(this),(0,s.bindEvent)(e,"click",this.handleCardsNextArrowClick,{passive:!1}),(0,s.bindEvent)(t,"click",this.handleCardsPreviousArrowClick,{passive:!1})}},{key:"removeClickEventListeners",value:function(){var e=this.cardsNextArrow,t=this.cardsPreviousArrow;(0,s.unbindEvent)(e,"click",this.handleCardsNextArrowClick,{passive:!1}),(0,s.unbindEvent)(t,"click",this.handleCardsPreviousArrowClick,{passive:!1})}},{key:"handleCardsNextArrowClick",value:function(){var e=this.cards,t=this.cardsListWrapper,i=this.cardsNextArrow,a=this.cardsPreviousArrow,r=i.getBoundingClientRect(),s=null;if(Array.from(e).some(function(e){var t=e.getBoundingClientRect(),i=t.right>r.left;return i&&(s=e),i}),s){var n=t.getBoundingClientRect(),o=a.getBoundingClientRect(),l=s.getBoundingClientRect(),u=o.right-n.left+15,c=l.left-n.left-u,d=Math.round(c);this.showNextCards(d),this.handleArrowClick()}}},{key:"handleArrowClick",value:function(){var e=this.arrowClickCallback;e&&e()}},{key:"showNextCards",value:function(e){var t=this.cardsList,i=this.getListConstraints(),a=i.minOffsetLeft,r=this.getLeftValue(t),s=r-e,n=Math.max(s,a);t.style.left=n+"px",this.syncArrowsAndMaskAfterAnimationDelay()}},{key:"handleCardsPreviousArrowClick",value:function(){var e=this.cards,t=this.cardsListWrapper,i=this.cardsNextArrow,a=this.cardsPreviousArrow,r=a.getBoundingClientRect(),s=null;if(Array.from(e).reverse().some(function(e){var t=e.getBoundingClientRect(),i=t.left<r.right;return i&&(s=e),i}),s){var n=t.getBoundingClientRect(),o=i.getBoundingClientRect(),l=s.getBoundingClientRect(),u=n.right-o.left+15,c=n.right-l.right-u,d=Math.round(c);this.showPreviousCards(d),this.handleArrowClick()}}},{key:"showPreviousCards",value:function(e){var t=this.cardsList,i=this.getListConstraints(),a=i.maxOffsetLeft,r=this.getLeftValue(t),s=r+e,n=Math.min(a,s);t.style.left=n+"px",this.syncArrowsAndMaskAfterAnimationDelay()}},{key:"handleResize",value:function(){var e=this.cardsList,t=this.getListConstraints(),i=t.minOffsetLeft,a=t.maxOffsetLeft,r=this.getLeftValue(e),s=this.clamp(r,i,a);r!==s&&(e.style.left=s+"px"),this.syncArrowsAndMaskAfterAnimationDelay()}},{key:"getListConstraints",value:function(){var e=this.cardsList,t=this.cardsListWrapper,i=e.offsetWidth,a=t.offsetWidth,r=a-i;return{maxOffsetLeft:0,minOffsetLeft:this.clamp(r,null,0)}}},{key:"getLeftValue",value:function(e){return parseInt(e.style.left,10)||0}},{key:"clamp",value:function(e,t,i){var a=function(e){return"number"==typeof e};return a(t)&&e<t?t:a(i)&&e>i?i:e}},{key:"syncArrowsAndMaskAfterAnimationDelay",value:function(){var e=this;setTimeout(function(){return e.syncArrowsAndMasks()},300)}},{key:"syncArrowsAndMasks",value:function(){var e=this.cardsList,t=this.cardsNextArrow,i=this.cardsNextMask,a=this.cardsPreviousArrow,r=this.cardsPreviousMask,n=this.getListConstraints(),o=n.maxOffsetLeft,l=n.minOffsetLeft,u=this.getLeftValue(e),c=u<o,d=u>l,p=c?s.addClass:s.removeClass,h=d?s.addClass:s.removeClass;p(a,"xray-cards-arrow-enabled"),p(r,"xray-cards-gradient-mask-enabled"),this.isShowingPreviousArrowAndMask=c,h(t,"xray-cards-arrow-enabled"),h(i,"xray-cards-gradient-mask-enabled"),this.isShowingNextArrowAndMask=d}},{key:"scrollActiveCardIntoView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.cardsNextArrow,a=this.cardsPreviousArrow,r=this.isShowingNextArrowAndMask,s=this.isShowingPreviousArrowAndMask,n=e.getBoundingClientRect(),o=i.getBoundingClientRect(),l=a.getBoundingClientRect(),u=n.right>o.left,c=n.left<l.right;if(t){var d=n.left-l.right-15,p=Math.round(d);return this.showNextCards(p),300}if(r&&u){var h=n.right-o.left+15,f=Math.round(h);return this.showNextCards(f),300}if(s&&c){var v=l.right-n.left+15,m=Math.round(v);return this.showPreviousCards(m),300}return 0}},{key:"destroy",value:function(){this.removeClickEventListeners()}}]),e}();t.default=h,e.exports=t.default},"./static/modules-default/default-xray-tooltip/js/default.js":function(e,t,i){"use strict";function a(e){var t=e&&e.querySelector(".wafer-tooltip-done .wafer-tooltip-wrapper");return t&&"block"===t.style.display}Object.defineProperty(t,"__esModule",{value:!0});t.hideTooltip=function(e){var t=a(e),i=t&&e&&e.querySelector(".wafer-tooltip-close");i&&i.click()}}});