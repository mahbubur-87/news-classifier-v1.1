(function(h,b){"function"===typeof define&&define.amd?define([],b):"object"===typeof module&&module.exports?module.exports=b():h.riveted=b()})(this,function(){return function(){function h(a,b){var m,d,e,c=null,k=0,h=function(){k=new Date;c=null;e=a.apply(m,d)};return function(){var f=new Date;k||(k=f);var g=b-(f-k);m=this;d=arguments;0>=g?(clearTimeout(c),c=null,k=f,e=a.apply(m,d)):c||(c=setTimeout(h,g));return e}}function b(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+
b,c):a["on"+b]=c}function f(){clearTimeout(g);l=!0;clearInterval(e)}function s(){(document.hidden||document.webkitHidden)&&f()}function t(){d+=1;0<d&&0===d%u&&n(d)}function c(){if(!p){if(!q){var a=new Date-v;q=!0;r(a);e=setInterval(t,1E3)}l&&(l=!1,clearInterval(e),e=setInterval(t,1E3));clearTimeout(g);g=setTimeout(f,1E3*w+100)}}var q=!1,l=!1,p=!1,d=0,v=new Date,e=null,g=null,n,r,u,w,x;r=function(a){};n=function(a){analytics.track("active.time.spent",{active_time_spent_total:a,category:document.querySelector('[name\x3d"analyticsAttributes.contentType"]').content,
label:a,nonInteraction:x,activeTimeSpent:"1",topic_channel:document.querySelector('[name\x3d"analyticsAttributes.topicChannel"]').content,topic_sub_channel:document.querySelector('[name\x3d"analyticsAttributes.topicSubChannel"]').content,content_type:document.querySelector('[name\x3d"analyticsAttributes.contentType"]').content,edition:document.querySelector('[name\x3d"analyticsAttributes.edition"]').content,platform:"Desktop",content_type_channel:document.querySelector('[name\x3d"analyticsAttributes.contentType"]').content,
content_channel:document.querySelector('[name\x3d"analyticsAttributes.channel"]').content,canonical_url:document.querySelector('[name\x3d"analyticsAttributes.canonicalUrl"]').content,ad_blocked:"0"})};return{init:function(a){a=a||{};u=parseInt(a.reportInterval,10)||15;w=parseInt(a.idleTimeout,10)||30;"function"==typeof a.eventHandler&&(n=a.eventHandler);"function"==typeof a.userTimingHandler&&(r=a.userTimingHandler);x="nonInteraction"in a&&(!1===a.nonInteraction||"false"===a.nonInteraction)?"0":"1";
b(document,"keydown",c);b(document,"click",c);b(window,"mousemove",h(c,500));b(window,"scroll",h(c,500));b(document,"visibilitychange",s);b(document,"webkitvisibilitychange",s)},trigger:c,setIdle:f,on:function(){p=!1},off:function(){f();p=!0},reset:function(){v=new Date;d=0;l=q=!1;clearInterval(e);clearTimeout(g)}}}()});riveted.init();